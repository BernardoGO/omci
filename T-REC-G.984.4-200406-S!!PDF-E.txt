----------------------- Page 1-----------------------

                                                 

  
  

 INTERNATIONAL  TELECOMMUNICATION  UNION  

  

  
  

 ITU-T                                                                              G.984.4 
TELECOMMUNICATION                                                                                (06/2004)  
STANDARDIZATION  SECTOR  
OF  ITU  

  

SERIES G: TRANSMISSION SYSTEMS AND MEDIA,  
DIGITAL SYSTEMS AND NETWORKS  

Digital sections and digital line system – Optical line  
systems for local and access networks  

  
  Gigabit-capable Passive Optical Networks  

(G-PON): ONT management and control  
interface specification  

  

 ITU-T  Recommendation  G.984.4  

  

----------------------- Page 2-----------------------

                                                                 

                                        ITU-T G-SERIES  RECOMMENDATIONS  

               TRANSMISSION SYSTEMS AND MEDIA, DIGITAL SYSTEMS AND NETWORKS  

                                                                                                            
  INTERNATIONAL TELEPHONE CONNECTIONS AND CIRCUITS                                                        G.100–G.199  
  GENERAL CHARACTERISTICS COMMON TO ALL ANALOGUE CARRIER-                                                 G.200–G.299  
  TRANSMISSION SYSTEMS  
  INDIVIDUAL CHARACTERISTICS OF INTERNATIONAL CARRIER TELEPHONE                                           G.300–G.399  
  SYSTEMS ON METALLIC LINES  
  GENERAL CHARACTERISTICS OF INTERNATIONAL CARRIER TELEPHONE                                              G.400–G.449  
  SYSTEMS ON RADIO-RELAY OR SATELLITE LINKS AND INTERCONNECTION WITH  
  METALLIC LINES  
  COORDINATION OF RADIOTELEPHONY AND LINE TELEPHONY                                                       G.450–G.499  
  TESTING EQUIPMENTS                                                                                      G.500–G.599  
  TRANSMISSION MEDIA CHARACTERISTICS                                                                      G.600–G.699  
    Characteristics of optical components and subsystems                                                  G.660–G.699  
  DIGITAL TERMINAL EQUIPMENTS                                                                             G.700–G.799  
  DIGITAL NETWORKS                                                                                        G.800–G.899  
  DIGITAL SECTIONS AND DIGITAL LINE SYSTEM                                                                G.900–G.999  
    General                                                                                               G.900–G.909  
    Parameters for optical fibre cable systems                                                            G.910–G.919  
    Digital sections at hierarchical bit rates based on a bit rate of 2048 kbit/s                         G.920–G.929  
    Digital line transmission systems on cable at non-hierarchical bit rates                              G.930–G.939  
    Digital line systems provided by FDM transmission bearers                                             G.940–G.949  
    Digital line systems                                                                                  G.950–G.959  
    Digital section and digital transmission systems for customer access to ISDN                          G.960–G.969  
    Optical fibre submarine cable systems                                                                 G.970–G.979  
    Optical line systems for local and access networks                                                    G.980–G.989  
    Access networks                                                                                       G.990–G.999  
  QUALITY OF SERVICE AND PERFORMANCE – GENERIC AND USER-RELATED                                           G.1000–G.1999  
  ASPECTS  
  TRANSMISSION MEDIA CHARACTERISTICS                                                                      G.6000–G.6999  
  DIGITAL TERMINAL EQUIPMENTS                                                                             G.7000–G.7999  
  DIGITAL NETWORKS                                                                                        G.8000–G.8999  
                                                                                                            

For further details, please refer to the list of ITU-T Recommendations.  

----------------------- Page 3-----------------------

                                                                          

ITU-T Recommendation G.984.4  

                          Gigabit-capable Passive Optical Networks (G-PON):  
                         ONT management and control interface specification  

  

  

  

Summary  

This Recommendation provides the Optical Network Termination (ONT) Management and Control  
Interface  (OMCI)  specification  for  Gigabit-capable  Passive  Optical  Network  (G-PON)  systems  as  
defined in ITU-T Recs G.984.2 and G.984.3.  

Firstly, it specifies the managed entities of a protocol-independent Management Information Base  
(MIB) that models the exchange of information between the Optical Line Termination (OLT) and  
the Optical Network Termination (ONT). In addition, it covers the ONT management and control  
channel, protocol and detailed messages.  

  

  

Source  

ITU-T   Recommendation   G.984.4   was   approved   on   13 June 2004   by   ITU-T   Study   Group 15  
(2001-2004) under the ITU-T Recommendation A.8 procedure.  

  

  

  

  

                                                                                          ITU-T Rec. G.984.4 (06/2004)                         i  

----------------------- Page 4-----------------------

                                                                            

                                                                 FOREWORD  

The International Telecommunication Union (ITU) is the United Nations specialized agency in the field of  
telecommunications. The ITU Telecommunication Standardization Sector (ITU-T) is a permanent organ of  
ITU.      ITU-T      is    responsible       for    studying       technical,      operating      and     tariff    questions       and    issuing  
Recommendations on them with a view to standardizing telecommunications on a worldwide basis.  

The   World   Telecommunication   Standardization   Assembly   (WTSA),   which   meets   every   four   years,  
establishes  the  topics  for  study  by  the  ITU-T  study  groups  which,  in  turn,  produce  Recommendations  on  
these topics.  

The approval of ITU-T Recommendations is covered by the procedure laid down in WTSA Resolution 1.  

In  some  areas  of  information  technology  which  fall  within  ITU-T's  purview,  the  necessary  standards  are  
prepared on a collaborative basis with ISO and IEC.  

                                                                            

                                                                            

                                                                            

                                                                      NOTE  

In  this  Recommendation,  the  expression  "Administration"  is  used  for  conciseness  to  indicate  both  a  
telecommunication administration and a recognized operating agency.  

Compliance  with  this  Recommendation  is  voluntary.  However,  the  Recommendation  may  contain  certain  
mandatory        provisions       (to    ensure     e.g.    interoperability        or   applicability)       and     compliance        with     the  
Recommendation is achieved when all of these mandatory provisions are met.  The words "shall" or some  
other obligatory language such as "must" and the negative equivalents are used to express requirements. The  
use of such words does not suggest that compliance with the Recommendation is required of any party.  

                                                                            

                                                                            

                                                                            

                                                                            

                                              INTELLECTUAL PROPERTY RIGHTS  

ITU  draws  attention  to  the  possibility  that  the  practice  or  implementation  of  this  Recommendation  may  
involve  the  use  of  a  claimed  Intellectual  Property  Right.  ITU  takes  no  position  concerning  the  evidence,  
validity or applicability of claimed Intellectual Property Rights, whether asserted by ITU members or others  
outside of the Recommendation development process.  

As  of  the  date  of  approval  of  this  Recommendation,  ITU  had  received  notice  of  intellectual  property,  
protected by patents, which may be required to implement this Recommendation. However, implementors  
are cautioned that this may not represent the latest information and are therefore strongly urged to consult the  
TSB patent database.  

                                                                            

                                                                            

                                                                            

                                                                   ITU  2004  

All rights reserved. No part of this publication may be reproduced, by any means whatsoever, without the  
prior written permission of ITU.  

ii            ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 5-----------------------

                                                                                 

                                                                    CONTENTS  

                                                                                                                                                      Page  

1           Scope ............................................................................................................................               1  

2          References.....................................................................................................................                   1  

3          Definitions ....................................................................................................................                  2  
             3.1         ONT and ONU ...............................................................................................                         2  
             3.2         Upstream and downstream .............................................................................                               2  

4          Abbreviations................................................................................................................                     2  

5          Conventions ..................................................................................................................                    5  

6          Reference model and terms ..........................................................................................                              6  
             6.1         OMCI in ITU-T Rec. G.984.2........................................................................                                  6  
             6.2         ONT/ONU functions ......................................................................................                            6  
             6.3         VP/VC Mux functionality in the ONT ...........................................................                                      7  
             6.4         Encapsulation in GEM frame .........................................................................                                7  
             6.5         Support of Multicast connection ....................................................................                                7  

7          Requirements of the management interface specification............................................                                                7  
             7.1         Configuration management ............................................................................                               8  
             7.2         Fault management ..........................................................................................                         9  
             7.3         Performance management ..............................................................................                              10  
             7.4         Security management .....................................................................................                          11  

8          Protocol-independent MIB for the OMCI ....................................................................                                       11  
             8.1         Managed entities.............................................................................................                      11  
             8.2         Managed entity relation diagrams ..................................................................                                18  

9          MIB description............................................................................................................                      23  
             9.1         ONT equipment management.........................................................................                                  25  
             9.2         ANI management............................................................................................                         34  
             9.3         UNI Management ...........................................................................................                         37  
             9.4         Connection Management................................................................................                              49  
             9.5         Traffic management........................................................................................                         56  

10          ONT Management and Control Channel (OMCC) ......................................................                                                60  

11          ONT management and control protocol .......................................................................                                     60  
            11.1         ONT management and control protocol cell/packet format ...........................                                                 60  
            11.2         Message flow control and error recovery.......................................................                                     67  
            11.3         OMCI handling within the ONT ....................................................................                                  67  

Appendix I – OMCI common mechanisms and services.........................................................                                                   70  
           I.1           Common mechanisms ....................................................................................                             70  
           I.2           Common services ...........................................................................................                        70  

                                                                                                  ITU-T Rec. G.984.4 (06/2004)                             iii  

----------------------- Page 6-----------------------

                                                                                      

                                                                                                                                                               Page  

Appendix II – OMCI message set............................................................................................                                            76  
            II.1           General remarks..............................................................................................                              76  
            II.2           Message layout ...............................................................................................                             79  

BIBLIOGRAPHY....................................................................................................................                                     105  

  

iv              ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 7-----------------------

                                                             

ITU-T Recommendation G.984.4  

                     Gigabit-capable Passive Optical Networks (G-PON):  
                    ONT management and control interface specification  

1         Scope  

This  Recommendation  specifies  the  ONT  Management  and  Control  Interface  (OMCI)  for  the  
G-PON system defined in ITU-T Recs G.984.2 and G.984.3 to enable multi-vendor interoperability  
between the OLT and the ONT.  

The  OMCI  specification  addresses  the  ONT  configuration  management,  fault  management  and  
performance management for G-PON system operation and for several services including:  
•         ATM adaptation layers 1, 2, and 5;  
•         GEM adaptation layers;  
•         circuit emulation service;  
•         Ethernet services, including MAC Bridged LAN;  
•         voice services;  
•         wavelength division multiplexing.  

The focus of this OMCI specification is on FTTH and FTTBusiness ONTs; however, support for  
ONUs  is  addressed  as  well.  This  Recommendation  defines  a  protocol  necessary  to  support  the  
capabilities identified for these ONTs. It also allows optional components and future extensions.  

This  Recommendation  reuses  much  of  ITU-T  Rec.  G.983.2;  where  appropriate,  the  reader  is  
referred to the relevant sections of that Recommendation.  

                        1 
2         References   

The  following  ITU-T  Recommendations  and  other  references  contain  provisions  which,  through  
reference in this text, constitute provisions of this Recommendation. At the time of publication, the  
editions indicated were valid. All Recommendations and other references are subject to revision;  
users of this Recommendation are therefore encouraged to investigate the possibility of applying the  
most  recent  edition  of  the  Recommendations  and  other  references  listed  below.  A  list  of  the  
currently valid ITU-T Recommendations is regularly published. The reference to a document within  
this Recommendation does not give it, as a stand-alone document, the status of a Recommendation.  

[1]       ITU-T Recommendation I.363.5 (1996), B-ISDN ATM Adaptation Layer specification:  
          Type 5 AAL.  

[2]       ITU-T Recommendation I.751 (1996), Asynchronous transfer mode management of the  
          network element view.  

[3]       ITU-T Recommendation G.983.1 (1998), Broadband optical access systems based on  
          Passive Optical Networks (PON) .  

[4]       ITU-T Recommendation G.983.2 (2002), ONT management and control interface  
          specification for B-PON, plus Amendment 1.  

[5]       ITU-T Implementors' Guide to G.983.2 (2002).  

____________________  
1  References to Implementors' Guides in the text of this Recommendation do not give them the status of  
   Recommendations.  

                                                                         ITU-T Rec. G.984.4 (06/2004)               1  

----------------------- Page 8-----------------------

                                                           

[6]       ITU-T Recommendation G.983.5 (2002), A broadband optical access system with  
         enhanced survivability.  

[7]       ITU-T Recommendation G.983.6 (2002), ONT management and control interface  
         specifications for B-PON system with protection features.  

[8]       ITU-T Recommendation G.983.7 (2001), ONT management and control interface  
         specification for Dynamic Bandwidth Assignment (DBA) B-PON system.  

[9]       ITU-T Recommendation G.983.8 (2003), B-PON OMCI support for IP, ISDN, video, VLAN  
          tagging, VC cross-connections and other select functions.  

[10]      ITU-T Recommendation G.984.2 (2003), Gigabit-capable Passive Optical Networks  
          (G-PON): Physical Media Dependent (PMD) layer specification.  

[11]      ITU-T Recommendation G.984.3 (2004), Gigabit-capable Passive Optical Networks  
          (G-PON): Transmission convergence layer specification.  

[12]      ITU-T Recommendation G.983.9 (2004), B-PON ONT Management and Control Interface  
          (OMCI) support for Wireless Local Area Network interfaces.  

[13]      ITU-T Recommendation G.983.10 (2004), B-PON ONT Management and Control  
         Interface (OMCI) support for Digital Subscriber Line interfaces.  

3        Definitions  

3.1      ONT and ONU  

The terminology of ONT, which will be used throughout this Recommendation, is more broadly  
defined as an ONU used for the FTTH and FTTBusiness configuration. In general, the differences  
between  FTTH  and  FTTBusiness  are  that  FTTBusiness  will  serve  more  than  one  end  user,  have  
stricter availability requirements, and be able to afford for more features and functions than FTTH.  
When distinguishing ONT from ONU, the following definitions are used.  

3.1.1    ONU: An Optical Network Unit provides (directly or remotely) the user-side interface of  
the OAN and is connected to the ODN. Since services for more than one customer premise can flow  
through the ONU, this device may be considered as part of the operator's network.  

3.1.2    ONT: Optical Network Termination. This is an ONU which includes the user port function  
and can be considered as part of the customer premises equipment.  

3.2      Upstream and downstream  

The upstream is a traffic flow from ONU to OLT and the downstream is a traffic flow from OLT to  
ONU.  

4        Abbreviations  

This Recommendation uses the following abbreviations:  

AAL                 ATM Adaptation Layer  

ABR                 Available Bit Rate  

ABT/DT              ATM Block Transfer Delayed Transmission  

ABT/IT              ATM Block Transfer Immediate Transmission  

ADSL                Asymmetric Digital Subscriber Line  

AES                 Advanced Encryption Standard  

AIS                 Alarm Indication Signal  

2          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 9-----------------------

                                                         

AK                 Acknowledgement  

AN                 Access Node  

ANI                Access Node Interface  

AR                 Acknowledge Request  

ATM                Asynchronous Transfer Mode  

ATU-C              ADSL Transceiver Unit, Central office end  

ATU-R              ADSL Transceiver Unit, Remote Terminal End  

AVC                Attribute Value Change  

B-BCC              Broadband Bearer Connection Control  

B-PON              Broadband Passive Optical Network  

CBR                Constant Bit Rate  

CES                Circuit Emulation Service  

CLEI               Common Language Equipment Identification  

CPCS-SDU           Common Part Convergence Sublayer Service Data Unit  

CPCS-UU            Common Part Convergence Sublayer User-to-User Indication  

CPI                Common Part Indicator  

CPS                Common Part Sublayer  

CRC                Cyclic Redundancy Check  

CTP                Connection Termination Point  

DB                 Destination Bit  

DBA                Dynamic Bandwidth Assignment  

DBR                Deterministic Bit Rate  

DEMUX              De-multiplexing  

DSSS               Direct-Sequence Spread Spectrum  

EMF                Electromagnetic Field  

FEC                Forward Error Correction  

FHSS               Frequency-Hopping Spread Spectrum  

FTTB               Fibre to the Building  

FTTBusiness        Fibre to the Business  

FTTC               Fibre to the Curb  

FTTCab             Fibre to the Cabinet  

FTTH               Fibre to the Home  

GAL                GEM Adaptation Layer  

GEM                G-PON Encapsulation Method  

GFR                Guaranteed Frame Rate  

G-PON              Gigabit Passive Optical Network  

GTC                G-PON Transmission Convergence  

                                                                    ITU-T Rec. G.984.4 (06/2004)            3  

----------------------- Page 10-----------------------

                                                         

HN                 Home Network  

HOL                Head of the Line  

ICMP               Internet Control Message Protocol  

ID                 Identifier  

IF                 Interface  

IP                 Internet Protocol  

IR                 Infrared  

ISDN               Integrated Services Digital Network  

IW                 Interworking  

LAN                Local Area Network  

LCT                Local Craft Terminal  

LES                Loop Emulation Service  

LIM                Line Interface Module  

LMI                Layer Management Indication  

LMIG               Layer Management Indication Generation  

LMIR               Layer Management Indication Receiving  

LT                 Line Terminal  

MAC                Media Access Control  

ME                 Managed Entity  

MIB                Management Information Base  

MLT                Mechanized Loop Testing  

MT                 Message Type  

MUX                Multiplexing  

NT                 Network Terminal  

OAN                Optical Access Network  

ODN                Optical Distribution Network  

OLT                Optical Line Terminal  

OMCC               ONT Management and Control Channel  

OMCI               ONT Management and Control Interface  

ONT                Optical Network Terminal  

ONU                Optical Network Unit  

PHY                Physical Interface  

PLOAM              Physical Layer Operations, Administration and Maintenance  

PM                 Protocol Monitoring  

PON                Passive Optical Network  

POTS               Plain Old Telephone Service  

PPTP               Physical Path Termination Point  

4         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 11-----------------------

                                                            

PSD                 Power Spectral Density  

PVC                 Permanent Virtual Channel  

RDI                 Remote Defect Indication  

RFI                 Radio Frequency Interference  

SAR                 Segmentation and Reassembly  

SBR                 Statistical Bit Rate  

SN                  Service Node  

SNI                 Service Node Interface  

SSCS                Service Specific Convergence Sublayer  

TC                  Transmission Convergence  

TCA                 Threshold Crossing Alert  

T-CONT              Transmission Container  

TDM                 Time Division Multiplexing  

TE                  Terminal Equipment  

TP                  Termination Point  

UBR                 Unspecified Bit Rate  

UNI                 User Network Interface  

UPC                 Usage Parameter Control  

VBR                 Variable Bit Rate  

VC                  Virtual Channel  

VCC                 Virtual Channel Connection  

VCI                 Virtual Channel Identifier  

VDSL                Very High Speed Digital Subscriber Line  

VP                  Virtual Path  

VPI                 Virtual Path Identifier  

VTU-O               VDSL Transceiver Unit, ONU end  

VTU-R               VDSL Transceiver Unit, Remote Terminal end  

WRR                 Weighted Round Robin  

xDSL                x Digital Subscriber Line  

5         Conventions  

In all bit vectors indicated in this Recommendation, the rightmost bit is bit 1. This represents the  
least significant bit, while bit 8 represents the most significant bit within a byte. If the bit vector is  
made up of more than one byte, then the numbering starts from the least significant byte onwards.  

In all attribute descriptions that refer to the Boolean values "true" and "false", true will be coded as  
0x01 in hexadecimal and false will be coded as 0x00.  

In all attribute descriptions that refer to spaces, the value 0x20 must be used for the entire size of the  
attribute.  

                                                                        ITU-T Rec. G.984.4 (06/2004)               5  

----------------------- Page 12-----------------------

                                                                 

6          Reference model and terms  

6.1        OMCI in ITU-T Rec. G.984.2  

The  network  architecture  reference  model  for  G-PON  is  described  in  ITU-T  Rec.  G.984.2  and  
shown in Figure 1. The G-PON fits various access network architectures, i.e., FTTH, FTTB/C and  
FTTCab.  

The  OMCI  specification  fits  into  the  overall  ITU-T  Rec.  G.984.2  model  for  an  access  network  
system as illustrated in Figure 1. The dotted line shows a path for OMCI signals between an OLT  
and ONT. While this Recommendation provides some minimal modelling for ONUs with service  
interfaces,  detailed  OMCI  support  for  ONUs  with  802.11  and  xDSL  interfaces  is  described  in  
ITU-T Recs G.983.9 and G.983.10.  

                                                                                                                                

                                       Figure 1/G.984.4 −− Reference model  
                                                              −− 

6.2        ONT/ONU functions  

As shown in Figure 2, the functions of the ONT/ONU are:  
a)         access network line termination function (AN-LT);  
b)        user network interface line termination function (UNI-LT), noting that in the Fibre to the  
          Business case the UNIs from one ONU may belong to different users;  
c)        service multiplexing and de-multiplexing function (Service MUX and DEMUX).  

6           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 13-----------------------

                                                                        

                                                           
                                                                                                                   
                                                 

                                                                                                                
                                                                                                          

                                                           

                                                                                                                                

                             Figure 2/G.984.4 – ONT/ONU functional block diagram  
                     
                
6.3         VP/VC Mux functionality in the ONT                                                                  
                                                                                                          
In ITU-T Rec. G.984.3, the end-to-end G-PON system (i.e., OLT, ODN and ONT) can function as  
an  ATM  VP  or  VC  cross-connection  with  both  provisioned  and  on-demand  connectivity.  The  
configuration of the ATM VP/VC cross-connection can be initiated by:  
a)          the network element operations system via the management interface (e.g., Q3);  
b)          the  Service  Node  (SN)  over  a  VB5.2  Broadband  Bearer  Connection  Control  (B-BCC)  
            protocol.  

The  ONT,  however,  always  acts  as  a  provisioned  ATM  multiplexer  for  ATM  connections.  The  
OMCI itself does not distinguish between these two cases. The OLT can, however, assign different  
priorities to OMCI messages such that in case b) a fast response time of the OMCI is achieved.  

6.4         Encapsulation in GEM frame  

As  the  GEM  is  embedded  in  the  PON  section,  it  is  independent  of  the  types  of  UNIs.  The  UNI  
traffic  is  always  encapsulated  in  GEM  frames  so  that  a  cross-connect  function  is  not  needed  in  
GEM service.  

6.5         Support of Multicast connection  

Multicast traffic can be supported in G-PON network. While a Port-ID is assigned to a T-CONT in  
a  unicast  connection,  a  Port-ID  is  shared  by  multiple  T-CONTs  in  a  multicast  connection.  The  
multicast connection set-up process is the same as the unicast connection set-up process. It is the  
responsibility  of  the  OLT  to  manage  the  member  of  a  multicast  group  and  control  the  multicast  
connection in ONUs. The scheme for providing the multicast service (e.g., to manage the multicast  
group, maintain the security and so on) needs further study.  

In the downstream, the multicast connection that is supported by a shared Port-ID is useful. On the  
other hand, in upstream, it is impossible to support the multicast connection by this methodology  
because  the  OLT  cannot  reassemble  segmented  GEM  packets  correctly  when  it  receives  several  
GEM packets with same Port-ID from different ONTs. Therefore, multicast Port-ID must be used  
when  an  OLT  sends  multicast  traffic  to  ONTs.  The  direction  of  multicast  Port-ID  is  indicated  
during multicast connection set-up.  

7           Requirements of the management interface specification  

The OMCI is used by the OLT to control an ONT. This protocol allows the OLT to:  
a)          establish and release connections across the ONT;  
b)          manage the UNIs at the ONT;  

                                                                                        ITU-T Rec. G.984.4 (06/2004)                        7  

----------------------- Page 14-----------------------

                                                              

c)        request configuration information and performance statistics;  
d)        autonomously inform the system operator of events such as link failures.  

The OMCI protocol runs across either an ATM or GEM connection between the OLT controller  
and the ONT controller that is established at ONT initialization. The OMCI protocol is asymmetric:  
the controller in the OLT is the master and the one in the ONT is the slave. A single OLT controller  
using multiple instances of the protocol over separate control channels may control multiple ONTs.  

The  ONT  management  and  control  interface  requirements  given  in  this  Recommendation  are  
needed to manage the ONT in the following areas:  
a)        configuration management;  
b)        fault management;  
c)        performance management;  
d)        security management.  

7.1       Configuration management  

Configuration management provides functions to exercise control over, identify, collect data from  
and provide data to the ONT. This involves the following:  
a)        Configuration of equipment;  
b)        Configuration of the UNIs;  
c)        Configuration  of  the  VP  Network  CTP-Gs,  ATM  VP  Cross-Connections,  and  GEM  Port  
          Network CTPs;  
d)        Configuration of Interworking Termination Points;  
e)        Configuration of the OAM flows;  
f)        Configuration of the physical ports;  
g)        Configuration of AAL profiles;  
h)        Configuration of service profiles;  
i)        Configuration of traffic descriptors;  
j)        Configuration of GAL profiles.  

For an ONT that supports ATM mode, the ONT handles ATM VP cross-connection in order to free  
VPI values on the UNI (the VPI value on the ANI is not free because the VPI values on the ANI are  
shared with all ONUs in the PON. VP cross-connection on the ONT resolves this limitation for the  
UNI).  In  the  case  of  the  OMCI,  VC  termination  and  interworking  VCCTP  are  unified  to  the  
ATM Interworking  VCC  Termination  Point  ME.  Figure  3  shows  the  termination  model.  For  
non-ATM LIMs, the aggregate of traffic parameters for the various VC terminations is represented  
by the Traffic Descriptor Profile Pointer associated with the VP Network CTP-G ME that contains  
the VC terminations.  

8           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 15-----------------------

                                                                   

                                                                                                                        

                    Figure 3/G.984.4 −− ATM VP cross-connection termination model  
                                            −− 

For  cases  such  as  the  support  of  ONUs  with  xDSL  interfaces,  it  is  necessary  to  implement  VC  
cross-connections.  VC  cross-connection  can  be  supported  by  the  ONT/ONU,  as  indicated  by  the  
termination model shown in Figure 4.  

                                                                                                                        

                    Figure 4/G.984.4 – ATM VC cross-connection termination model  

7.2        Fault management  

The  ONT  supports  limited  fault  management  only.  Most  of  the  operations  are  limited  to  failure  
indication.  The  OMCI  supports  failure  reporting  on  the  following  managed  entities  that  are  
described throughout clause 9, ITU-T Recs G.983.2 and G.983.8:  
a)         ONT-G;  
b)         Subscriber Line Cardholder;  
c)         Subscriber Line Card;  
d)         PON IF Line Card-G;  
e)         Physical Path Termination Point ATM UNI;  
f)         Physical Path Termination Point Ethernet UNI;  
g)         Physical Path Termination Point CES UNI;  
h)         Physical Path Termination Point ISDN UNI;  
i)         Physical Path Termination Point POTS UNI;  
j)         Physical Path Termination Point Video UNI;  

                                                                                 ITU-T Rec. G.984.4 (06/2004)                   9  

----------------------- Page 16-----------------------

                                                            

k)        Physical Path Termination Point Video ANI;  
l)        Physical Path Termination Point ADSL UNI;  
m)        Physical Path Termination Point VDSL UNI;  

n)        TC AdapterB-PON;  

o)        ATM Interworking VCC Termination Point;  
p)        GEM Interworking Termination Point;  
q)        VP Network CTP-G;  
r)        VC Network CTP-G;  
s)        GEM Port Network CTP;  
t)        ONU-G.  

An alarm table is defined for each of these entities.  

The ONT also supports selective OAM cell loop-back testing at the UNI. The ONT diagnostics are  
limited to the ONT self test. The OLT or element manager will process the information from the  
ONT;  for  example,  the  OLT  will  determine  the  severity  of  each  alarm  when  reporting  it  to  the  
network operator. ATM management of continuity monitoring is not a part of this Recommendation  
(see af-nm-0020.001 (Bibliography) and ITU-T Rec. I.751).  

7.3       Performance management  
The ONT has only limited performance monitoring. The following are related managed entities:  

a)        UPC Disagreement Monitoring History DataB-PON;  

b)        AAL1 Protocol Monitoring History DataB-PON;  

c)        AAL5 Protocol Monitoring History DataB-PON;  

d)        Ethernet Performance Monitoring History Data;  
e)        Ethernet Performance Monitoring History Data 2;  
f)        CES Physical Interface Monitoring History Data;  
g)        TC Adapter Protocol Monitoring History Data;  
h)        AAL 2 CPS Protocol Monitoring History Data B-PON ;  
i)        AAL 2 SSCS Protocol Monitoring History Data B-PON ;  
j)       Priority Queue-G;  
k)        MAC Bridge PM History Data;  
l)        MAC Bridge Port PM History Data;  
m)        Voice PM History Data;  
n)        VP PM History Data;  
o)        VC PM History Data;  
p)        ICMP PM History Data1;  
q)        ICMP PM History Data2  
r)        IP Router PM History Data1;  
s)        IP Router PM History Data2;  
t)        802.11 Counters;  
u)        GEM Port Protocol Monitoring History Data;  
v)        GAL TDM Protocol Monitoring History Data;  

10         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 17-----------------------

                                                            

w)        GAL Ethernet Protocol Monitoring History Data;  
x)        ADSL ATU-C Performance Monitoring History Data;  
y)        ADSL ATU-R Performance Monitoring History Data;  
z)        ADSL ATU-C Channel Performance Monitoring History Data;  
aa)       ADSL ATU-R Channel Performance Monitoring History Data;  
bb)       TC Adaptor Performance Monitoring History Data ADSL;  
cc)       VDSL VTU-O Physical Interface Monitoring History Data;  
dd)       VDSL VTU-R Physical Interface Monitoring History Data;  
ee)       VDSL VTU-O Channel Performance Monitoring History Data;  
ff)       VDSL VTU-R Channel Performance Monitoring History Data.  

Note that it is not required to upload all the performance monitoring related managed entities during  
the MIB upload (see 7.1.2/G.983.2).  

All the history data shall be maintained in the OLT. ATM management of performance monitoring  
is not a part of this Recommendation (see af-nm-0020.001 and ITU-T Rec. I.751).  

7.4       Security management  

ITU-T Rec. G.984.3 specifies some mechanisms from the viewpoint of security. That includes the  
downstream data encryption and password protection of ONT. The ONT2-G managed entity can  
enable/disable the downstream encryption function.  

This Recommendation supports the protection function. The type C protection configuration that is  
defined in ITU-T Rec. G.983.5 is considered in this Recommendation. As the switching behaviour  
for  PON  protection  will  be  done  in  TC  layer,  this  Recommendation  defines  a  managed  entity  to  
specify  the  protection  capability.  Though  ITU-T  Rec.  G.983.6  specifies  the  OMCI  for  B-PON  
protection, a new scheme for G-PON protection is needed because G-PON has a different protocol  
stack from B-PON.  

8         Protocol-independent MIB for the OMCI  

The OMCI should be defined to allow vendors to offer modular, incremental capabilities to meet  
different  levels  of  customer  needs.  This  Recommendation  first  targets  FTTH  and  FTTBusiness  
ONTs. It defines a protocol necessary to support capabilities identified by ITU-T Recs G.984.2 and  
G.984.3.  It  is  important  for  early  deployment  and  interoperability,  yet  it  allows  for  optional  
components and future extensions.  

A protocol-independent MIB is used to describe the exchange of information across the OMCI and  
forms the basis from which protocol-specific models (e.g., Simple Device Protocol for the ONT)  
are  defined.  This  MIB  has  as  much  commonality  as  possible  with  the  related  generic  MIB  as  
defined in other ITU-T Recommendations. It is intended to make the OMCI relatively simple while  
maintaining consistency with the MIB used by the interface between the network-element manager  
and the OLT.  

8.1       Managed entities  

The  protocol-independent  MIB  presented  in  this  Recommendation  has  been  defined  in  terms  of  
managed entities. The managed entities are abstract representations of resources and services in an  
ONT.  

                                                                        ITU-T Rec. G.984.4 (06/2004)              11  

----------------------- Page 18-----------------------

                                                               

This  Recommendation  uses  three  levels  for  indicating  the  degree  of  compliance  necessary  for  
specific functions and managed entities associated with the OMCI specification:  
•         Requirement (R): Entities necessary for operational compatibility;  
•         Conditional Requirements (CR): Entities necessary when the specified optional function  
          is implemented;  
•         Option  (O):  Entities  that  may  be  useful  and  required  by  an  operator  but  that  are  not  
          necessary for operational compatibility.  

The possible managed entities are listed in Table 1. This table also shows the Recommendations  
that define each ME.  

In  this  table,  G.983.2amd1  means  ITU-T  Rec.  G.983.2  Amendment  1  and  IGtoG.983.2  means  
Implementors' Guide to G.983.2.  

                             Table 1/G.984.4 −− Managed entities in the OMCI  
                                                   −− 

                                     Required/                                                            Recommen- 
         Managed entity                                               Description  
                                      Optional                                                               dation  

 AAL 1 ProfileB-PON                      CR         Used when the ONT supports CES UNIs                  G.983.2  

 AAL 1 Protocol Monitoring                O         Used when AAL1 layer performance                     G.983.2,   
 History DataB-PON                                  monitoring is supported                              G.983.2amd1,  

                                                                                                         IGtoG.983.2   

 AAL 2 ProfileB-PON                      CR         Used when the ONT supports AAL 2                     G.983.2  

 AAL 2 CPS Protocol                       O         Used when AAL 2 layer performance                    G.983.2,   
 Monitoring History DataB-PON                       monitoring is supported                              G.983.2amd1,  

                                                                                                         IGtoG.983.2  

 AAL 2 PVC ProfileB-PON                  CR         Used when the ONT supports AAL 2 PVC                 G.983.2  

 AAL 2 SSCS Parameter                    CR         Used when the ONT supports AAL 2 SSCS                G.983.2  
 Profile 1  

 AAL 2 SSCS Parameter                    CR         Used when the ONT supports AAL 2 SSCS                G.983.2  
 Profile 2  

 AAL 2 SSCS Protocol                     CR         Used when AAL 2 layer performance                    G.983.2,  
 Monitoring History DataB-PON                       monitoring is supported                              G.983.2amd1,  
                                                                                                         IGtoG.983.2  

 AAL 5 ProfileB-PON                      CR         Used when the ONT supports LAN UNIs                  G.983.2  

 AAL 5 Protocol Monitoring                O         Used when AAL 5 layer performance                    G.983.2,  
 History DataB-PON                                  monitoring is supported                              G.983.2amd1,  
                                                                                                         IGtoG.983.2  

 ADSL ATU-C Channel                       O         Performance monitoring data for an ADSL              G.983.10  
 Performance Monitoring                             ATU-C channel   
 History Data  

 ADSL ATU-C Performance                   O         Performance monitoring data for an ADSL              G.983.10  
 Monitoring History Data                            ATU-C modem Path   

 ADSL ATU-R Channel                       O         Performance monitoring data for an ADSL              G.983.10  
 Performance Monitoring                             ATU-R Channel   
 History Data  

 ADSL ATU-R Performance                   O         Performance monitoring data for an ADSL              G.983.10  
 Monitoring History Data                            ATU-R modem path   

12         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 19-----------------------

                                                               

                             Table 1/G.984.4 −− Managed entities in the OMCI  
                                                  −− 

                                     Required/                                                            Recommen- 
       Managed entity                                                 Description  
                                     Optional                                                                 dation  

ADSL Channel                             CR         Contains Configuration for a Channel                 G.983.10  
Configuration Profile  

ADSL Channel Downstream                  CR         Contains status on the Downstream Channel            G.983.10  
Status  

ADSL Channel Upstream                    CR         Contains status on the Upstream Channel              G.983.10  
Status  

ADSL Downstream PSD                      CR         Contains Masking information for the                 G.983.10  
Mask Profile                                        Downstream PSD  

ADSL Downstream RFI                      CR         Contains information on the Downstream               G.983.10  
Bands Profile                                       RFI Bands  

ADSL Line Configuration                  CR         Contains the Line Parameters for an ADSL             G.983.10  
Profile Part 1                                      line  

ADSL Line Configuration                  CR         Contains the Line Parameters for an ADSL             G.983.10  
Profile Part 2                                      line  

ADSL Line Configuration                  CR         Contains the Line Parameters for an ADSL             G.983.10  
Profile Part 3                                      line  

ADSL Line Inventory and                  CR         Contains the inventory and status                    G.983.10  
Status Data Part 1                                  information on the ADSL Line  

ADSL Line Inventory and                  CR         Contains the inventory and status                    G.983.10  
Status Data Part 2                                  information on the ADSL Line  

ADSL Subcarrier Masking                  CR         Contains masking information for the                 G.983.10  
Downstream Profile                                  Downstream subcarriers  

ADSL Subcarrier Masking                  CR         Contains masking information for the                 G.983.10  
Upstream Profile                                    Upstream subcarriers  

ANI-G                                     R         Used for ANI Management                              G.984.4  

ARP Configuration Data                   CR         Used for IP Port supported by the ONT                G.983.8  

ARP Service Profile                      CR         Used for IP Port supported by the ONT                G.983.8  

ATM Interworking VCC                     CR         Used for non-ATM UNIs and for ATM-                   G.984.4  
Termination Point                                   based connections  

ATM VC Cross-Connection                   O         Used for VC multiplexing with VCI                    G.983.8  
                                                    translation in the ONU  

ATM VP Cross-Connection                  CR         Used for VP multiplexing in the ONT                  G.983.2  

CES Service ProfileB-PON                 CR         Used for CES services supported by the               G.983.2  
                                                    ONT  

CES Physical Interface                    O         Used for the CES interface performance               G.983.2,  
Monitoring History Data                             monitoring                                           G.983.2amd1,  
                                                                                                         IGtoG.983.2  

Ethernet Performance                      O         Used for Ethernet interface performance              G.983.2,  
Monitoring History Data                             monitoring                                           G.983.2amd1,  
                                                                                                         IGtoG.983.2  

Ethernet Performance                      O         Used for Ethernet performance monitoring             G.983.8  
Monitoring History Data 2  

GAL TDM Profile                           O         Used when the ONT supports GAL TDM                   G.984.4  

                                                                            ITU-T Rec. G.984.4 (06/2004)                13  

----------------------- Page 20-----------------------

                                                               

                             Table 1/G.984.4 −− Managed entities in the OMCI  
                                                  −− 

                                     Required/                                                           Recommen- 
        Managed entity                                                Description  
                                      Optional                                                               dation  

 GAL Ethernet Profile                     O         Used when the ONT supports GAL Ethernet             G.984.4  

 GAL TDM Protocol                         O         Used when GAL TDM layer performance                 G.984.4  
 Monitoring History Data                            monitoring is supported  

 GAL Ethernet Protocol                    O         Used when GAL Ethernet layer performance            G.984.4  
 Monitoring History Data                            monitoring is supported  

 GAL TDM Traffic                          O         Used when the ONT supports GAL TDM                  G.984.4  
 Descriptor  

 GAL Ethernet Frame Traffic               O         Used when the ONT supports GAL Ethernet             G.984.4  
 Descriptor   

 GEM Interworking                        CR         Used for non-ATM UNIs and GEM-based                 G.984.4  
 Termination Point                                  connections  

 GEM Port Network CTP                    CR         Used for GEM port termination                       G.984.4  

 GEM port Protocol                        O         Used for GEM Port performance monitoring            G.984.4  
 Monitoring History Data  

 ICMP PM History Data1                    O         Used for ICMP performance monitoring                G.983.8  

 ICMP PM History Data2                    O         Used for ICMP performance monitoring                G.983.8  

 IP Port Configuration Data              CR         Used for IP Port supported by the ONT               G.983.8  

 IP Router Service Profile               CR         Used for IP Router supported by the ONT             G.983.8  

 IP Router Configuration Data            CR         Used for IP Router supported by the ONT             G.983.8  

 IP Router PM History Data1               O         Used for IP Router performance monitoring           G.983.8  

 IP Router PM History Data2               O         Used for IP Router performance monitoring           G.983.8  

 IP Route Table                          CR         Used for IP Router supported by the ONT             G.983.8  

 IP Static Routes                        CR         Used for IP Router supported by the ONT             G.983.8  

 LES Service Profile                     CR         Used for LES services supported by the              G.983.2  
                                                    ONT  

 Logical N × 64 kbit/s                   CR         Used as logical interface for structured CES        G.983.2  
 Sub-port Connection  
 Termination Point  

 MAC Bridge Configuration                CR         Used for MAC bridge supported by the                G.983.2  
 Data                                               ONT  

 MAC Bridge PM History                    O         Used for MAC bridge performance                     G.983.2,  
 Data                                               monitoring                                          G.983.2amd1,  
                                                                                                        IGtoG.983.2  

 MAC Bridge Port                         CR         Used for MAC bridge supported by the                G.983.2  
 Configuration Data                                 ONT  

 MAC Bridge Port                         CR         Used for MAC bridge supported by the                G.983.2  
 Designation Data                                   ONT  

 MAC Bridge Port Filter                  CR         Used for MAC bridge supported by the                G.983.2  
 Table Data                                         ONT  

 MAC Bridge Port Filter                   O         Used for Ethernet type filtering                    G.983.8  
 Preassign Table  

14         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 21-----------------------

                                                             

                            Table 1/G.984.4 −− Managed entities in the OMCI  
                                                 −− 

                                    Required/                                                           Recommen- 
       Managed entity                                               Description  
                                    Optional                                                               dation  

MAC Bridge Port Bridge                  CR        Used for MAC bridge supported by the                 G.983.2  
Table Data                                        ONT  

MAC Bridge Port PM                       O        Used for MAC bridge port performance                 G.983.2,  
History Data                                      monitoring                                           G.983.2amd1,  
                                                                                                       IGtoG.983.2  

MAC Bridge Service Profile              CR        Used for MAC bridge supported by the                 G.983.2  
                                                  ONT  

ONT-G                                    R        Used for ONT equipment management                    G.984.4  

ONT2-G                                   R        Used for ONT equipment management                    G.984.4  

ONU-G                                    R        Used for ONU equipment management                    G.984.4  

ONU2-G                                   R        Used for ONU equipment management                    G.984.4  

ONT Data                                 R        Used for OMCI MIB management                         G.983.2,  
                                                                                                       G.983.8  

Physical Path Termination               CR        Used for the physical path termination point         G.983.10  
Point ADSL UNI Part 1                             at an ADSL CO modem  

Physical Path Termination               CR        Used for the physical path termination point         G.983.10  
Point ADSL UNI Part 2                             at an ADSL CO modem  

Physical Path Termination               CR        Used for physical path termination point at          G.983.2  
Point ATM UNI                                     the ATM UNI  

Physical Path Termination               CR        Used for physical path termination point at          G.983.2,  
Point CES UNI                                     the CES UNI                                          G.983.2amd1,  
                                                                                                       IGtoG.983.2  

Physical Path Termination               CR        Used for physical path termination point at          G.983.2,  
Point Ethernet UNI                                the Ethernet UNI                                     G.983.8,  
                                                                                                       IGtoG.983.2  

Physical Path Termination               CR        Used for physical path trail termination             G.983.2,  
Point POTS UNI                                    point at the POTS UNI                                G.983.2amd1  

Physical Path Termination                O        Used for ISDN port supported by the ONT              G.983.8  
Point ISDN UNI  

Physical Path Termination                O        Used for video port                                  G.983.8  
Point Video UNI  

Physical Path Termination                O        Used for video input port                            G.983.8  
Point Video ANI  

Physical Path Termination               CR        Used for the physical path termination point         G.983.10  
Point VDSL UNI                                    at a VDSL connection  

Physical Path Termination                O        Used for local craft terminal port                   G.983.8  
Point LCT UNI  

Physical Path Termination               CR        Used for 802.11 interface supported by the           G.983.9  
Point 802.11 UNI                                  ONT  

PON IF Line Card-G                       R        Used for the PON line card                           G.984.4  

PON IF Line Cardholder                   R        Used for the PON line cardholder                     G.984.4  

                                                                          ITU-T Rec. G.984.4 (06/2004)                15  

----------------------- Page 22-----------------------

                                                                

                              Table 1/G.984.4 −− Managed entities in the OMCI  
                                                   −− 

                                      Required/                                                            Recommen- 
        Managed entity                                                 Description  
                                      Optional                                                                dation  

 PON Physical Path                         R         Used for physical path at the ANI,                   G.983.2  
 Termination Point                                   descriptive purpose only, see clause  
                                                     7.2/G.983.2 (ANI Management)  

 PON TC Adapter-G                          R         Used for TC layer at PON interface                   G.984.4  

 Priority Queue-G                         CR         Used for ONTs that support priority queues           G.984.4  
                                                    to multiplex ATM or GEM traffic flows  

 Protection Data                          CR         Used for PON protection                              G.984.4  

 Software Image                            R         Used for the software image of the ONT.              G.983.2  
                                                     Software image for the subscriber line cards  
                                                     is optional  

 Subscriber Line Card                      R         Used for the UNI line card plug-in                   G.983.2,  
                                                                                                          G.983.2amd1,  
                                                                                                          G.983.8,  
                                                                                                          G.983.9  

 Subscriber Line Cardholder                R         Used for the UNI line card plug-in slot              G.983.2,  
                                                                                                          G.984.4  

 TC AdapterB-PON                          CR        Used for TC layer at the UNI side for the             G.983.2  
                                                    ATM UNI  

 TC Adaptor Performance                    O         Performance monitoring data for the ADSL             G.983.10  
 Monitoring History Data                            ATM Data Path  
 ADSL  

 TC Adapter Protocol                       O         Used when TC layer performance                       G.983.2,  
 Monitoring History Data                            monitoring is supported                               G.983.2amd1,  
                                                                                                          IGtoG.983.2  

 T-CONT                                    R         Used for DBA                                         G.984.4  

 Threshold Data 1                         CR         Used for the set-up of threshold values              G.984.4  

 Threshold Data 2                         CR         Used for the set-up of threshold values              G.984.4  

 Traffic Descriptors                      CR         Used for the ONT that supports traffic               G.983.2,  
                                                     shaper to specify ATM layer traffic                  G.983.2amd1,  
                                                     characteristics in the case of accommodation         IGtoG.983.2,  
                                                     of non-ATM UNI. Moreover, in the case of             G.983.10  
                                                     accommodation of ATM UNI, Traffic  
                                                     Descriptors may be used for the UPC  
                                                     function in the ONT, if it is required  

 Traffic Scheduler-G                       R         Used for DBA                                         G.984.4  

 UNIB-PON                                 CR        Used for user network interface for ATM               G.983.2  
                                                     service  

 UNI-G                                    CR        Used for user network interface for GEM               G.984.4  
                                                     service  

 UPC Disagreement                         CR         Used for the ONT that supports UPC                   G.983.2,  
 Monitoring History DataB-PON                                                                             G.983.2amd1,  
                                                                                                          IGtoG.983.2   

 VDSL Band Plan                           CR         Parameters used to configure a VDSL Band             G.983.10  
 Configuration Profile                               Plan Configuration Profile  

16         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 23-----------------------

                                                             

                            Table 1/G.984.4 −− Managed entities in the OMCI  
                                                 −− 

                                    Required/                                                           Recommen- 
       Managed entity                                               Description  
                                     Optional                                                              dation  

VDSL Channel                            CR        Parameters used to configure a VDSL                  G.983.10  
Configuration Profile                             Channel Configuration Profile  

VDSL Channel Data                       CR        Contains the Channel Parameters for VDSL             G.983.10  
                                                  Fast and Slow channels  

VDSL Line Configuration                 CR        Parameters used to configure a VDSL Line             G.983.10  
Profile                                           Configuration Profile  

VDSL VTU-O Channel                       O        Performance monitoring data for a VDSL               G.983.10  
Performance Monitoring                            VTU-O channel  
History Data  

VDSL VTU-O Physical Data                CR        Contains the Physical Layer Parameters for           G.983.10  
                                                  a VTU-O  

VDSL VTU-O Physical                      O        Monitoring Data for a VDSL VTU-O                     G.983.10  
Interface Monitoring History                      Physical Interface  
Data  

VDSL VTU-R Channel                       O        Performance monitoring data for a VDSL               G.983.10  
Performance Monitoring                            VTU-R channel  
History Data  

VDSL VTU-R Physical Data                CR        Contains the Physical Layer Parameters for           G.983.10  
                                                  a VTU-R  

VDSL VTU-R Physical                      O        Monitoring Data for a VDSL VTU-R                     G.983.10  
Interface Monitoring History                      Physical Interface  
Data  

VLAN Tagging Filter Data                 O        Used for VLAN tagging                                G.983.8  

VLAN Tagging Operation                   O        Used for VLAN tagging                                G.983.8  
Configuration Data  

VC Network CTP-G                        CR        Used for VC link termination in the VC               G.984.4  
                                                  MUX  

Voice Service Profile AAL               CR        Used for Voice over AAL 1/2 supported by             G.983.2,  
                                                  the ONT                                              G.983.8  

VC PM History Data                       O        Used for VC performance monitoring                   G.983.8  

Voice CTP                               CR        Used for Voice termination point supported           G.983.2,  
                                                  by the ONT                                           G.983.8  

Voice PM History Data                    O        Used for voice performance monitoring                G.983.2,  
                                                                                                       G.983.2amd1,  
                                                                                                       IGtoG.983.2,  
                                                                                                       G.983.8  

VP Network CTP-G                        CR        Used for VP link termination in the VP Mux           G.984.4  

VP PM History Data                       O        Used for VP performance monitoring                   G.983.2,  
                                                                                                       G.983.2amd1,  
                                                                                                       IGtoG.983.2  

802.11 Station Management               CR        Used for 802.11 interface supported by the           G.983.9  
data 1                                            ONT  

802.11 Station Management               CR        Used for 802.11 interface supported by the           G.983.9  
data 2                                            ONT  

                                                                          ITU-T Rec. G.984.4 (06/2004)                17  

----------------------- Page 24-----------------------

                                                                  

                               Table 1/G.984.4 −− Managed entities in the OMCI  
                                                     −− 

                                       Required/                                                               Recommen- 
         Managed entity                                                   Description  
                                        Optional                                                                  dation  

  802.11 General Purpose                    CR         Used for 802.11 interface supported by the             G.983.9  
 Object                                                ONT  

  802.11 MAC&PHY                            CR         Used for 802.11 interface supported by the             G.983.9  
 Operation and Antenna Data                            ONT  

  802.11 PHY FHSS DSSS IR                   CR         Used for 802.11 interface supported by the             G.983.9  
 Tables                                                ONT  

  802.11 Counters                           O          Used for 802.11 interface supported by the             G.983.9  
                                                       ONT  

8.2        Managed entity relation diagrams  

Clause 6.2/G.983.2 provides managed entity diagrams for B-PON that are also relevant for G-PON.  

Figure  5  is  a  managed  entity  relation  diagram  from  the  viewpoint  of  ONT  configuration.  It  
resembles Figure 4/G.983.7.  

                                                                                                                                  

                              Figure 5/G.984.4 −− ME relation diagram for ONT  
                                                      −− 

18          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 25-----------------------

                                                                        

Figure 6 is a managed entity relation diagram from the viewpoint of user traffic. In this figure, the  
CES/Ethernet  UNI  is  connected  to  GEM  T-CONT  and  ATM  connection  is  connected  to  ATM  
T-CONT. The profile includes GAL Ethernet/TDM Profile and/or CES Service ProfileB-PON. The  
selection depends on the specific service.  

                                                                                                                                               

                             Figure 6/G.984.4 −− ME relation diagram for user traffic  
                                                       −− 

Figure 7 shows the Managed entity relation diagram in the case of MAC bridged LAN. Figure 8  
shows the managed entity relation diagram in the case of structured CES.  

                                                                                        ITU-T Rec. G.984.4 (06/2004)                       19  

----------------------- Page 26-----------------------

                                                                                     

                                                                                                                                                                         

                           Figure 7/G.984.4 −− ME relation diagram for MAC bridged LAN  
                                                         −− 

  20            ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 27-----------------------

                                                                          

                                                                                                                                                   

                          Figure 8/G.984.4 −− ME relation diagram for structured CES  
                                                     −− 

Figure 9 shows a part of ME relation diagram in that an ONT supports 1+1 protection function. In  
this  figure,  the  dashed  line  means  that  the  PON  TC  Adapter-G  ME  is  implicitly  associated  with  
T-CONT ME in protection side. One instance of PON TC Adapter-G ME is associated with two  
instances of T-CONT ME by Protection Data ME.  

                                                                                          ITU-T Rec. G.984.4 (06/2004)                         21  

----------------------- Page 28-----------------------

                                                                        

                                                                                                                                          

                    Figure 9/G.984.4 −− Part of ME relation diagram for 1+1 protection  
                                              −− 

Figure 10 shows a part of ME relation diagram in that an ONT supports 1:1 protection function. In  
this  figure,  the  dashed  line  means  that  the  PON  TC  Adapter-G  ME  is  implicitly  associated  with  
T-CONT ME in protection side by Protection Data ME. The PON TC Adapter-G ME for normal  
traffic is explicitly associated with T-CONT ME in working side. The PON TC Adapter-G ME for  
extra traffic is explicitly associated with T-CONT ME in protection side. Moreover, the PON TC  
Adapter-G ME for normal traffic is implicitly associated with T-CONT ME in protection side.  

22           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 29-----------------------

                                                                   

                                                                                                                               

                  Figure 10/G.984.4 −− Part of ME relation diagram for 1:1 protection  
                                            −− 

9          MIB description  

As  there  is  considerable  overlap  between  the  MIB  required  for  B-PON  and  that  required  for  
G-PON,  clause  7/G.983.2  provides  a  detailed  description  of  many  of  the  managed  entities.  
Additional   managed   entity   descriptions   and   details   are   provided   in   ITU-T   Recs   G.983.2  
Amendment 1,  G.983.8,  G.983.9,  G.983.10  and  Implementors'  Guide  to  G.983.2  (2002).  Only  
managed entities in Table 1 specific to G-PON or that must be modified from ITU-T Recs G.983.2,  
G.983.2 Amendment 1, G.983.8, G.983.9, G.983.10, or Implementors' Guide to G.983.2 (2002) are  
provided here. The descriptions include:   
a)         the purpose of the entity;  
b)         the relationship(s) that the entity supports with other managed entities;  
c)         the attributes of the entity;  
d)         the management operations that may be performed on the entity;  
e)         the notifications generated by the managed entity.  

These clauses are organized as follows:  
a)         ONT equipment management;  
b)         ANI (i.e., PON IF) management;   
c)         UNI management;  

                                                                                 ITU-T Rec. G.984.4 (06/2004)                  23  

----------------------- Page 30-----------------------

                                                                

d)        connection management;  
e)        traffic management.  

A managed entity can be instantiated by the ONT autonomously or on explicit request of the OLT  
via a create command.   

Attributes  of  a  managed  entity  for  which  no  create  action  exists  (i.e.,  a  managed  entity  which  is  
auto-instantiated  by  the  ONT)  can  be  (R),  (W),  or  (R,  W).  On  the  other  hand,  attributes  of  a  
managed  entity  for  which  a  create  action  exists  (i.e.,  a  managed  entity  which  is  instantiated  on  
explicit request by the OLT) can be either (R), (W), (R, W), (R, Set-by-create), (W, Set-by-create),  
or (R, W, Set-by-create). For attributes that are not "Set-by-create", a default value will be specified  
in  this  Recommendation  which  will  be  assigned  to  the  attribute  on  instantiation  of  the  managed  
entity.  

The following gives a more detailed explanation for each of the possible cases:  

(R):                           On instantiation of the managed entity (either autonomously or on request  
                               of  the  OLT  via  a  create  action),  the  ONT  sets  the  attribute  to  a  default  
                               value.  The  OLT  can  only  read  the  value  of  the  attribute.  In  case  of  an  
                               autonomous attribute value change, the ONT will send an attribute value  
                               change notification to the OLT.  

(W):                           On instantiation of the managed entity (either autonomously or on request  
                               of  the  OLT  via  a  create  action),  the  ONT  sets  the  attribute  to  a  default  
                               value.  The  OLT  can  only  write  the  value  of  the  attribute.  In  case  of  an  
                               autonomous  attribute  value  change,  the  ONT  will  NOT  send  an  attribute  
                               value change notification to the OLT.  

(R, W):                        On instantiation of the managed entity (either autonomously or on request  
                               of  the  OLT  via  a  create  action),  the  ONT  sets  the  attribute  to  a  default  
                               value. The OLT can both read and write the value of the attribute. In case  
                               of an autonomous attribute value change, the ONT will send an attribute  
                               value change notification to the OLT.  

(R, Set-by-create):            On instantiation of the managed entity (by necessity on request of the OLT  
                               via a create action), the ONT sets the attribute to the value specified in the  
                               create  command.  Subsequently,  the  OLT  can  only  read  the  value  of  the  
                               attribute. In case of an autonomous attribute value change, the ONT will  
                               send an attribute value change notification to the OLT.  

(W, Set-by-create):            On instantiation of the managed entity (by necessity on request of the OLT  
                               via a create action), the ONT sets the attribute to the value specified in the  
                               create  command.  Subsequently,  the  OLT  can  only  write  the  value  of  the  
                               attribute. In case of an autonomous attribute value change, the ONT will  
                               NOT send an attribute value change notification to the OLT.  

(R, W, Set-by-create):         On instantiation of the managed entity (by necessity on request of the OLT  
                               via a create action), the ONT sets the attribute to the value specified in the  
                               create command. Subsequently, the OLT can both read and write the value  
                               of the attribute. In case of an autonomous attribute value change, the ONT  
                               will send an attribute value change notification to the OLT.  

The notifications generated by a managed entity stem from the following events: Alarms, Attribute  
Value Changes (AVCs), Threshold Crossing Alerts (TCAs), and Test results. Alarms, TCAs, and  
failures  of  autonomous  self  tests  are  all  reported  via  "Alarm"  messages.  AVCs  are  reported  via  
"Attribute Value Change" messages. Test results are reported:  
a)        via a "Test result" message if the test is invoked by a "Test" command from the OLT; or  

24          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 31-----------------------

                                                               

b)        via an "Alarm" message in the case of failure of an autonomous self test (in start-up phase).  

Details about these messages and the related coding are in Appendix II.  

9.1       ONT equipment management  

9.1.1     ONT-G  

This managed entity represents the ONT as equipment.   

An instance of this managed entity is automatically created by the ONT after initialization. After the  
creation of this managed entity, the associated attributes are updated according to the data within  
the ONT itself.  

Relationships  

          All other managed entities in this Recommendation are related directly or indirectly to the  
          ONT-G entity.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. There is only one instance and it has the number 0x0000. (R) (mandatory)  
          (2 bytes)  

          Vendor id: This attribute identifies the vendor of the ONT. Upon autonomous instantiation,  
          this attribute consists of all spaces. (R) (mandatory) (4 bytes)  

          Version :  This  attribute  identifies  the  version  of  the  ONT  as  defined  by  the  vendor.  The  
          printable value of "0" is used when version information is not available or applicable to the  
          ONT being represented. Upon autonomous instantiation, this attribute consists of all spaces.  
          (R) (mandatory) (14 bytes)  

          Serial Number : The serial number is unique for each ONT. Note that the serial number of  
          the ONT is already defined in ITU-T Rec. G.983.1 and contains the vendor id and/or the  
          version  number.  Upon  autonomous  instantiation,  this  attribute  consists  of  all  spaces.  
          (R) (mandatory) (8 bytes)  

          Traffic  Management  Option :  This  attribute  identifies  the  upstream  traffic  management  
          function implemented in the ONT. There are two options:  
          1)   "Priority   controlled   and   flexibly   scheduled   upstream   traffic"   (0x00):   The   traffic  
               scheduler and priority queue mechanism are used for the upstream traffic.  
          2)   "Cell rate controlled upstream traffic" (0x01): The maximum upstream traffic of each  
               individual connection is guaranteed. For more clarification, see Appendix IV/G.983.2.   

          Note  that  the  Traffic  management  option  will  not  apply  to  downstream  traffic.  In  other  
          words,   there   is   no   need   for   a   traffic   descriptor   for   the   downstream   direction   and  
          downstream priority queues can be used. Upon autonomous instantiation, this attribute is  
          set to 0x00. (R) (mandatory) (1 byte)  

          VP/VC Cross-connection Function Option : This attribute identifies the support of ATM  
          VP  or  VC  cross-connection  management  functions  for  the  interworking  connections  to  
          non-ATM UNIs. The value is set to 0x00 if no cross-connection management functions are  
          modelled. The value is set to 0x01 if ATM VP cross-connection management functions are  
          modelled.  The  value  is  set  to  0x02  if  ATM  VP  and  VC  cross-connection  management  
          functions  are  modelled.  The  default  value  of  this  attribute  is  0x01.  (R)  (mandatory  for  
          ONTs that support ATM mode) (1 byte)  

          Battery  Backup :  This  attribute  provides  a  Boolean  indication  of  whether  or  not  the  
          ONT/NT  supports  battery  backup.  False  will  indicate  that  no  battery  is  provisioned;  true  

                                                                            ITU-T Rec. G.984.4 (06/2004)                25  

----------------------- Page 32-----------------------

                                                                   

           indicates that a battery is provisioned. Upon autonomous instantiation, this attribute is set to  
           false. (R, W) (mandatory) (1 byte)  

           Administrative State : This attribute is used to activate (unlock: value 0x00) and deactivate  
           (lock: value 0x01) the functions performed by instances of this managed entity. Selection of  
           a  default  value  for  this  attribute  is  outside  the  scope  of  this  Recommendation  as  it  is  
           normally handled through supplier-operator negotiations. (R, W) (mandatory) (1 byte)  

           Operational State: This attribute indicates whether or not a managed entity is capable of  
           performing  its  task.  Valid  values  are  enabled  (0x00)  and  disabled  (0x01).  (R)  (optional)  
           (1 byte)  

Actions  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

           Reboot : Reboot the ONT.  

           Test : This action is used to initiate an ONT self test. Test outcome is "Pass" or "Fail".  

           Synchronize  Time:  This  action  is  used  to  synchronize  the  start  time  of  all  Monitoring  
           managed entities of the ONT with the reference time of the OLT and to reset the registers  
           of  the  Monitoring  managed  entities.  The  effect  of  this  action  is  that  all  counters  of  all  
           Monitoring  managed  entities  are  set  to  0x00  and  restart  counting.  Also,  the  value  of  the  
           Interval End Time attribute of the Monitoring managed entities is set to 0x00 and restarts  
           counting.  

           Note that no other OMCI action has the same effect: synchronization of the start time is not  
           guaranteed at start-up or after a MIB reset command (optional).  

Notifications  

           Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  to  the  
           attributes of this managed entity. The attribute value change notification should identify the  
           attribute changed and its new value. The list of AVCs for this managed entity is given in  
           Table 2a.  

           Alarm :  This  notification  is  used  to  notify  the  managed  system  when  a  failure  has  been  
           detected or cleared. Both ONT and OLT should know the alarm list used by this entity. For  
           the  "Test  result"  event,  notification  is  sent  to  the  OLT  via  an  alarm  if  the  ME  fails  the  
           autonomous self test. The alarm list for this entity is given in Table 2b.  

           Test result: Test results are reported via a "Test result" message if the test is invoked by a  
           "Test" command from the OLT.  

                                     Table 2a/G.984.4 −− AVC list for ONT-G   
                                                             −− 
                                                                                              

             Number           Attribute value change                               Description  

                  1        Vendor ID                           Vendor identification  

                 2         Version                             Version of ONT as defined by vendor  

                  3        Serial Number                       Serial number of ONT  

                4-7        N/A                                   

                  8        OpState                             Operational state of ONT-G  

                9-16       N/A                                   

26          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 33-----------------------

                                                                  

                                    Table 2b/G.984.4 −− Alarm list for ONT-G  
                                                           −− 

  Number                  Event                                                Description  

               Alarm                             
    

      0        EquipmentAlarm                  A functional failure on an internal interface  

       1        PoweringAlarm                  Loss of external power  

      2        BatteryMissing                  Battery is provisioned but missing  

      3        BatteryFailure                  Battery is provisioned and present but cannot recharge  

      4        BatteryLow                      Battery is provisioned and present but its voltage is too low  

      5        PhysicalIntrusionAlarm          Applies if the ONT is supported with detection such as door or box  
                                               open  

      6        ONTSelfTestFailure              ONT has failed autonomous self test  

    7-223      Reserved                          

9.1.2      ONT2-G  

This managed entity provides additional attributes that are associated with the G-PON ONT.  

An instance of this managed entity is automatically created by the ONT after initialization. After the  
creation of this managed entity, the associated attributes are updated according to the data within  
the ONT itself.  

Relationships  

           This managed entity is related directly to the ONT-G entity.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
           managed entity. There is only one instance and it has the number 0x0000. (R) (mandatory)  
           (2 bytes)  

           Equipment id: This attribute may be used to identify the specific type of ONT. In North  
           America, this may be used for the equipment CLEI code. (R) (optional) (20 bytes)  

           OMCC  Version :  This  attribute  is  used  to  identify  the  specific  version  of  the  OMCC  
           protocol being used by the ONT. This is used to allow the OLT to manage a network with  
           ONTs  that  support  different  OMCC  versions.  The  only  valid  value  at  this  time  is  0x80  
           (2002  version  of  G.983.2,  G.983.2  Amendment  1,  G.983.8,  G.983.9,  G.983.10,  and  
           2004 version  of  G.984.4).  Future  versions  will  be  added  sequentially.  Upon  autonomous  
           instantiation, this attribute consists of the value 0x80. (R) (mandatory) (1 byte)  

           Vendor Product Code : This attribute is used to provide a vendor-specific product code for  
           the ONT. (R) (optional) (2 bytes)  

           Security Capability : This attribute is used to advertise the advanced security modes of the  
           ONT. The following codepoints are defined:  
           0: Reserved for future use;   
           1: AES encryption of the downstream payload is supported;   
           2..255: Reserved for future use.  

           (R) (mandatory) (1 byte)  

                                                                               ITU-T Rec. G.984.4 (06/2004)                  27  

----------------------- Page 34-----------------------

                                                                 

           Security Mode : This attribute is used to select the advanced security mode for the ONT.  
          Note that all secure VPs/VCs or GEM ports in an ONT must use the same security mode at  
           any time. The following codepoints are defined:  
           0: Reserved for future use;   
           1: AES algorithm for unicast traffic will be used;   
           2..255: Reserved for future use.  

           Upon     autonomous        instantiation    this   attribute    consists    of   the    value    0x01.    (R, W)  
           (mandatory) (1 byte)  

           Total Priority Queue Number: This attribute provides a total number of priority queues  
           which  are  not  associated  with  the  PON  IF  line  card.  Maximum  value  is  0x0FFF.  
           (R) (mandatory) (2 bytes)  

           Total  Traffic  Scheduler  Number:  This  attribute  provides  a  total  number  of  Traffic  
           Schedulers which are not associated with the PON IF line card. The ONT supports NULL  
           function, HOL scheduling and WRR from the priority control and guarantee of minimum  
           rate control points of view, respectively. If the ONT does not have any Traffic Scheduler,  
           this attribute should be 0x00. (R) (mandatory) (1 byte)  

           Mode : This attribute identifies whether the ONT can operate in ATM-only mode (0x00),  
           GEM-only  mode  (0x01),  or  dual  (both  ATM  and  GEM)  mode  (0x02).  (R)  (mandatory)  
           (1 byte)  

Actions  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

Notifications  

           Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  to  the  
           attributes of this managed entity. The attribute value change notification should identify the  
           attribute changed and its new value. The list of AVCs for this managed entity is given in  
           Table 3.  

                                    Table 3/G.984.4 −− AVC list for ONT2-G 
                                                          −− 
                                                                                             

             Number          Attribute value change                              Description  

                 1        N/A                                   

                 2        OMCC Version                       OMCC Version supported in the ONT  

                3-8       N/A                                   

               9-16       Reserved                              

9.1.3      ONU-G  

This managed entity represents the ONU as equipment.   

An instance of this managed entity is automatically created by the ONU after initialization. After  
the  creation  of  this  managed  entity,  the  associated  attributes  are  updated  according  to  the  data  
within the ONU itself.  

The  specifications  of  attributes,  actions  and  notifications  are  the  same  as  ONT-G  ME.  The  
difference between ONT-G and ONU-G is based on the difference of ONU from ONT. Please refer  
to 3.1 for the definition of ONU and ONT.  

28          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 35-----------------------

                                                               

Relationships  

          All other managed entities in this Recommendation are related directly or indirectly to the  
          ONU-G entity.  

9.1.4     ONU2-G  

This managed entity provides additional attributes that are associated with the G-PON ONU.  

An instance of this managed entity is automatically created by the ONU after initialization. After  
the  creation  of  this  managed  entity,  the  associated  attributes  are  updated  according  to  the  data  
within the ONU itself.  

The  specifications  of  attributes,  actions  and  notifications  are  the  same  as  ONT2-G  ME.  The  
difference between ONT2-G and ONU2-G is based on the difference of ONU from ONT. Please  
refer to 3.1 for the definition of ONU and ONT.  

Relationships  

          This managed entity is related directly to the ONU-G entity.  

9.1.5     Subscriber Line Cardholder  

Some  subscriber  line  card  types  are  no  longer  valid.  The  Managed  Entity  id  attribute  value  of  
0x0000 is removed since it is no longer needed (it was included in the revised version of ITU-T  
Rec. G.983.2 for purposes of backwards-compatibility).  

9.1.6     PON IF Line Cardholder  

This managed entity is modified slightly from that given in 7.1.5/G.983.2. These modifications are  
to allow the modelling of integrated PON IF line cardholders.  

This managed entity represents slots of the ONT that are capable of holding a network card on the  
ANI side. An instance of this managed entity exists for each slot. Instances of this managed entity  
are created automatically by an ONT that supports PON IF plug-in after the ONT initialization.   

Relationships  

          An instance of the PON IF Line Cardholder may contain an instance of the PON IF Line  
          Card  managed  entity  to  model  the  containment  of  PON  IF  Line  Cards  within  slots  of  
          the ONT.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. The first byte of this two-byte identifier is always 0x00. The second byte of  
          this identifier is the slot id.  

          To accommodate a universal code of the ONT slot id for both PON and UNI interfaces, one  
          must interpret the least significant 7 bits of the slot id as the actual physical slot number  
          with the most significant bit serving as an interface type (UNI/ANI) indicator. Therefore,  
          the coding of the PON IF Line Card slot id for non-integrated interfaces is in the range of  
          0x81-0xFF (129-255). The code 0x81 (129) is used for the leftmost lower slot of the ONT  
          when looking at the side where the PON IF Line Cards are plugged in, 0x82 (130) is used  
          for the next slot just to the right of the previous one, and so forth; numbering on the next  
          higher  shelf  continues  at  its  left  edge.  The  coding  of  the  PON  IF  Line  Card  slot  id  for  
          integrated interfaces is 0x80. Accordingly, the full two-byte managed entity id value is in  
          the range 0x0080-0x00FF. (R) (mandatory) (2 bytes)  

          NOTE – Only up to 127 slots are supported.   

                                                                            ITU-T Rec. G.984.4 (06/2004)               29  

----------------------- Page 36-----------------------

                                                               

Actions  

          Get: Get one or more attributes.  

Notifications  

          None.  

9.1.7     PON IF Line Card-G  

This managed entity is modified slightly from that given in 7.1.2/G.983.7; these modifications are  
related to the increased number of T-CONTs supported by G-PON and the support of integrated  
PON IF line cards.   

This managed entity is used to model a field-replaceable PON IF Line Card contained within an  
ONT. An instance of this managed entity is automatically created by the ONT.   

Relationships  

          One  instance  of  this  managed  entity  is  contained  by  an  instance  of  the  PON  IF  Line  
          Cardholder.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed  entity.  The  number  used  is  the  same  as  the  instance  number  used  for  the  
          PON IF Line  Cardholder  managed  entity  instance  containing  this  PON  IF  Line  Card  
          instance. (R) (mandatory) (2 bytes)  

          Serial   Number :   The   serial   number   is   unique   for   each   PON   IF   Line   Card.   Upon  
          autonomous instantiation, this attribute consists of all spaces. (R) (mandatory) (8 bytes)  

          Version : This attribute identifies the version of the PON IF Line Card as defined by the  
          vendor.     Upon      autonomous        instantiation,     this   attribute    consists     of   all   spaces.  
          (R) (mandatory) (14 bytes)  

          Vendor id: This attribute identifies the vendor of the PON IF Line Card. Upon autonomous  
          instantiation, this attribute consists of all spaces. (R) (optional) (4 bytes)  

          Equipment  id:  This  attribute  may  be  used  to  identify  the  vendor's  specific  type  of  
          PON interface  card.  This  attribute  applies  only  to  PON  interface  cards  that  do  not  have  
          integrated  interfaces.  In  North  America,  this  may  be  used  for  the  equipment  CLEI  code.  
          (R) (optional) (20 bytes).  

          Total Priority Queue Number: This attribute provides a total number of priority queues  
          which     are   associated     with    the   PON     IF   line   card.   Maximum        value    is   0x0FFF.  
          (R) (mandatory) (2 bytes)  

          Total  Traffic  Scheduler  Number :  This  attribute  provides  a  total  number  of  Traffic  
          Schedulers, which are associated with the PON IF line card. The ONT can support NULL  
          function, HOL scheduling and WRR from the priority control and guarantee of minimum  
          rate control points of view, respectively. If the PON IF line card does not have any Traffic  
          Scheduler, this attribute should be 0x00. (R) (mandatory) (1 byte)  

Actions  

          Get: Get one or more attributes.  

          Reboot : Reboot the PON IF line card.  

          Test : Test the PON IF line card (this action is optional).   

30          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 37-----------------------

                                                                  

Notifications  

           Attribute  Value  Change:  This  notification  is  used  to  report  autonomous  changes  to  the  
           attributes of this managed entity. The notification should identify the attribute that changed  
           and its new value. The list of AVCs for this managed entity is given in Table 4a.  

           Alarm :  Alarms  on  the  PON  IF  are  transmitted  to  the  OLT  by  PLOAM  messages  (see  
           ITU-T Recs G.983.1 and G.984.3). Alarms for redundant PON IFs are also transmitted to  
           the  OLT  by  PLOAM  messages  (see  ITU-T  Recs  G.983.5  and  G.984.3).  This  managed  
           entity defines some alarms that are not defined in the TC layer. Both ONT and OLT should  
           know the alarm list used by this entity. For the "Test result" event, notification is sent to the  
           OLT via an alarm if the ME fails the autonomous self test. The alarm list for this entity is  
           given in Table 4b.  

           Test result: Test results are reported via a "Test result" message if the test is invoked by a  
           "Test" command from the OLT.  

                            Table 4a/G.984.4 −− AVC list for PON IF Line Card-G   
                                                    −− 
                                                                                                       

             Number           Attribute value change                               Description  

                  1        Serial Number                       Serial Number of this PON IF Line Card  

                 2         Version                             Version supported in this PON Line Card  

                 3         Vendor id                           Vendor id supported in this PON Line Card  

                 4         N/A                                   

                 5         Total Priority Queue Number         Total number of priority queues supported in  
                                                               this PON Line Card  

                 6         Total Traffic Number                Total number of traffic scheduler supported in  
                                                               this PON Line Card  

               7-16        Reserved                              

                           Table 4b/G.984.4 −− Alarm list for PON IF Line Card-G  
                                                   −− 

  Number                  Event                                                 Description  

               Alarm                                                                     
    

      0        EquipmentAlarm                   A functional failure on an internal interface   

       1        SelfTestFailure                 Failure of PON IF Line Card autonomous self test  

    2-223      Reserved                           

9.1.8      Threshold Data 1  

An instance of this managed entity together with an instance of the Threshold Data 2 ME contains  
threshold values for the performance monitoring parameters maintained in one or more instances of  
other managed entities.  

Instances of this managed entity are created and deleted by request of the OLT.   

Threshold  Data  1  ME  includes  the  attributes  Threshold  Value  1  through  Threshold  Value 7.  
Threshold Data 2 ME includes the attributes Threshold Value 8 through Threshold Value 14. This  
will keep the total number of bytes below the 32-byte limit for the message contents of the "Create"  
message for each managed entity. In order to link the related instances of Threshold Data 1 ME and  
Threshold Data 2 ME together, an instance of Threshold Data 2 ME has the same ME ID as for the  
related instance of Threshold Data 1 ME.  

                                                                                ITU-T Rec. G.984.4 (06/2004)                   31  

----------------------- Page 38-----------------------

                                                                 

Relationships  

           Zero  or  more  instances  of  this  managed  entity  can  be  contained  in  the  ONT-G  managed  
           entity.  

           This  managed  entity  may  be  related  to  multiple  instances  of  History  Data  type  managed  
           entities,  which  have  a  Threshold  Data1/2  id  attribute  that  points  to  an  instance  of  this  
           managed entity. For managed entities that are defined in ITU-T Recs G.983.2 and G.983.8,  
           the Threshold DataB-PON  id attribute should be interpreted as having the same functionality  
           as the Threshold Data 1/2 id attribute. The Related Managed Entities are listed in 7.3.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  the  instance  of  this  
           managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

           Threshold   Value   1 :   This   attribute   provides   the   associated   threshold   value   for   the  
           1st thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   2 :   This   attribute   provides   the   associated   threshold   value   for   the  
           2nd thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   3 :   This   attribute   provides   the   associated   threshold   value   for   the  
           3rd thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   4 :   This   attribute   provides   the   associated   threshold   value   for   the  
           4th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   5 :   This   attribute   provides   the   associated   threshold   value   for   the  
           5th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   6 :   This   attribute   provides   the   associated   threshold   value   for   the  
           6th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

           Threshold   Value   7 :   This   attribute   provides   the   associated   threshold   value   for   the  
           7th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

Actions  

           Create : Create an instance of this managed entity.  

           Delete: Delete an instance of this managed entity.  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

Notifications  

           None  

9.1.9      Threshold Data 2  

An instance of this managed entity together with an instance of the Threshold Data 1 ME contains  
threshold values for the performance monitoring parameters maintained in one or more instances of  
other managed entities.  

32          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 39-----------------------

                                                                 

Instances of this managed entity are created and deleted by request of the OLT.  

Relationships  

          Please refer to the relationships of Threshold Data 1 ME.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  the  instance  of  this  
          managed  entity.  This  ME  id  shall  be  the  same  as  the  related  instance  of  Threshold  
          Data 1 ME. (R, Set-by-create) (mandatory) (2 bytes)  

          Threshold   Value   8 :   This   attribute   provides   the   associated   threshold   value   for   the  
           8th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold   Value   9 :   This   attribute   provides   the   associated   threshold   value   for   the  
           9th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold  Value  10 :  This  attribute  provides  the  associated  threshold  value  for  the  
           10th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold  Value  11 :  This  attribute  provides  the  associated  threshold  value  for  the  
           11th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold  Value  12 :  This  attribute  provides  the  associated  threshold  value  for  the  
           12th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold  Value  13 :  This  attribute  provides  the  associated  threshold  value  for  the  
           13th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

          Threshold  Value  14 :  This  attribute  provides  the  associated  threshold  value  for  the  
           14th thresholded  counter  in  the  History  Data  type  managed  entity.  (R,  W,  Set-by-create)  
           (mandatory) (4 bytes)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          None  

9.1.10     Protection Data  

This managed entity is used for the ONT that supports the PON protection function. An instance of  
this managed entity represents the capability and parameters for protection function.  

An instance of this managed entity is automatically created by ONT after initialization when this  
ONT supports PON protection function.  

                                                                              ITU-T Rec. G.984.4 (06/2004)                 33  

----------------------- Page 40-----------------------

                                                                

Relationships  

          One instance of this managed entity is associated with two instances of ANI-G managed  
          entity.  One  instance  of  ANI-G  managed  entity  represents  a  working  side  and  the  other  
          instance represents a protection side.  

Attributes  

          Managed  Entity  id:  This  attribute  provides  a  unique  number  for  the  instance  of  this  
          managed  entity.  This  ME  id  shall  be  numbered  by  the  ONT  itself.  It  is  numbered  in  
          ascending order from 0x0000. (R) (mandatory) (2 bytes)  

          Working ANI-G Pointer : This attribute provides the ME id of the ANI-G managed entity  
          that represents a working side of PON protection. (R) (mandatory) (2 bytes)  

          Protection  ANI-G  Pointer :  This  attribute  provides  the  ME  id  of  the  ANI-G  managed  
          entity that represents a protection side of PON protection. (R) (mandatory) (2 bytes)  

          Protection  Type :  This  attribute  provides  the  behaviour  of  PON  protection.  The  valid  
          values are as follows:  
          0x00: 1+1 Protection,  
          0x01: 1:1 Protection without Extra traffic,  
          0x02: 1:1 Protection with capability to support Extra traffic.  

          (R) (mandatory) (1 byte)  

          Revertive Ind : This attribute indicates whether the protection scheme uses revertive mode  
          (=  TRUE,  value  0x01)  or  non-revertive  mode  (=  FALSE,  value  0x00).  (R)  (mandatory)  
          (1 byte)  

          Wait To Restore Time : This attribute specifies the amount of time, in units of seconds, to  
          wait  during  the  time  from  a  fault  clear  to  switching  over  the  trail/connection/line  to  the  
          working  side.  Upon  autonomous  instantiation  this  attribute  consists  of  the  value  0x03.  
          (R, W) (mandatory) (2 bytes)  

          Switching   Guard   Time :   This   attribute   specifies   the   amount   of   time,   in   units   of  
          milliseconds, to wait during the interval from the detection of a fault to the time when a  
          protection trail/connection/line can be used to transport the normal traffic signal and/or to  
          select the normal traffic signal. Selection of a default value for this attribute is outside the  
          scope   of   this   Recommendation   as   it   is   normally   handled   through   supplier-operator  
          negotiations. (R, W) (optional) (2 bytes)  

Actions  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          None.  

9.2       ANI management  

Although  the  OLT  can  maintain  the  PON  interface  related  managed  entities  and  attributes  via  
PLOAM messages, there is some information to be negotiated in OMCC. Therefore, the ONT will  
autonomously create one instance of each of the managed entities "PON Physical Path Termination  
Point", "ANI-G", "T-CONT" and "PON TC Adapter-G" upon creation of the ONT-G or ONU-G  
managed entity. These ANI management MEs are uploaded in the MIB upload.  

34          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 41-----------------------

                                                               

9.2.1     ANI-G  

This managed entity is modified from that given in 7.2.1/G.983.7.  

This  managed  entity  is  used  to  organize  data  associated  with  the  Access  Network  Interface  
supported by the ONT. One instance of this managed entity exists for each PON physical port.  

An instance of this managed entity is automatically created by the ONT after initialization.   

Relationships  

          One  or  more  instances  of  this  managed  entity  are  contained  in  an  instance  of  the  
          PON IF Line Card-G managed entity.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. This 2-byte number is directly associated with the physical position of the  
          PON IF. The assigned number is the same as the id of the PON Physical Path Termination  
          Point with which this ANI is associated. (R) (mandatory) (2 bytes)  

          SR Indication : This Boolean attribute indicates the capability of status reporting. The value  
          TRUE means that the status reporting is available for all T-CONTs which are associated  
          with the ANI. (R) (mandatory) (1 byte)  

          Total  T-CONT  Number :  This  attribute  provides  the  total  number  of  T-CONTs  that  are  
          able to be supported in this ANI port. (R) (mandatory) (2 bytes)  

          GEM  Block  Length :  This  attribute  indicates  the  reporting  block  size  for  GEM  mode  in  
          units of bytes. The value which the OLT sets is used by all T-CONTs in this ANI. Upon  
          autonomous  instantiation  this  attribute  consists  of  the  value  0x0030.  (R,W)  (mandatory)  
          (2 bytes)  

          Piggyback  DBA  Reporting :  This  attribute  provides  a  special  code  that  indicates  the  
          piggyback  DBA  reporting  format  capabilities  of  this  ONT.  ITU-T  Rec.  G.984.3  defines  
          three possible piggyback reporting mode formats. For reporting mode 0, the single field is  
          the entire report. For reporting mode 1, the DBA report is two fields in length. For reporting  
          mode 2, the DBA report is four fields in length. More explanation is provided in ITU-T  
          Rec. G.984.3. Support of mode 0 is mandatory for ONTs that utilize the piggyback DBA  
          reporting method. Support of modes 1 and/or 2 is optional. The following coding is used to  
          indicate the ONT's piggyback DBA reporting mode capabilities:  
          0x00: supports mode 0 only;  
          0x01: supports modes 0 and 1;  
          0x02: supports modes 0 and 2;  
          0x03: supports modes 0, 1, and 2;  
          0x04: piggyback DBA reporting not supported.  

          (R) (mandatory) (1 byte)  

          Whole ONU DBA Reporting : This attribute indicates whether or not whole ONU DBA  
          reporting as specified in ITU-T Rec. G.984.3 is supported by the ONU/ONT.  

          Valid values are 0x00 (whole ONU DBA reporting is not supported) and 0x01 (whole ONU  
          DBA reporting is supported).   

          (R) (mandatory) (1 byte)  

                                                                            ITU-T Rec. G.984.4 (06/2004)               35  

----------------------- Page 42-----------------------

                                                                 

Actions  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

Notifications  

           Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  of  
           attributes of this managed entity. The notification should identify the attribute and its new  
           value. The list of AVCs for this managed entity is given in Table 5.  

                                      Table 5/G.984.4 −− AVC list for ANI-G   
                                                            −− 
                                                                                          

        Number          Attribute value change                                   Description  

            1        SR Indication                       Indicates status reporting capability of ONT  

            2        Total T-CONT number                Maximum number of T-CONTs supported by ANI  

            3        N/A                                  

            4        Piggyback DBA reporting            Indicates modes of piggyback DBA reporting  
                                                        supported by ONT  

            5        Whole ONU DBA reporting            Indicates whether whole ONU DBA reporting is  
                                                        supported by ONT  

          6-16       Reserved                             

9.2.2      PON TC Adapter-G  

This managed entity is modified slightly from that given in 7.2.3/G.983.2.  

An instance of this managed entity represents a point in the ONT where the adaptation of the GEM  
or ATM layer to the underlying physical infrastructure (i.e., the G-PON TC layer) takes place.   

An instance of this managed entity is automatically created after creation of a T-CONT.   

Relationships  

           One instance of this managed entity will exist for each T-CONT managed entity.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
           managed entity. The assigned number is the same as the id of the T-CONT ME with which  
           this PON TC Adapter-G is associated. (R) (mandatory) (2 bytes)  

Actions  

           Get: Get one or more attributes.  

Notifications  

           None.  

9.2.3      T-CONT  

An instance of this managed entity represents a logical connection group that is associated with the  
Alloc-id. A T-CONT can accommodate ATM cells or GEM packets in priority queues or Traffic  
Schedulers that exist in the ATM or GEM layer.   

Instances of this ME are autonomously created by the ONT after the initialization. OLT can know  
the number of instances of T-CONT ME via ANI-G ME. Each instance id can be found because of  
the generation rule of this instance.  

36          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 43-----------------------

                                                               

Relationships  

          One or more instances of this managed entity are contained in an instance of the PON IF  
          Line Card-G managed entity.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. This 2-byte number is associated with the physical capability that realizes  
          the T-CONT. It is represented as 0xSSBB, where SS indicates the slot id that contains this  
          T-CONT and BB is the T-CONT id that is numbered by the ONT itself. The range of SS is  
          0x80-0xFF (T-CONT is ANI side only). The T-CONT id is numbered in ascending order  
          with the range of 0x00 to 0xFF in each slot. (R) (mandatory) (2 bytes)  

          Alloc-id :   This   attribute   represents   the   Alloc-id   that   is   assigned   by   the   OLT   with  
          Assign_AllocID PLOAM message. When created autonomously, this attribute has a default  
          value  of  0x00FF.  As  the  ONT  does  not  know  the  relationship  between  the  Alloc-id  and  
          T-CONT  ME,  OLT  sets  the  correct  value.  This  attribute  has  a  value  from  0x0000  to  
          0x0FFF. Once a value has been written to this attribute, the ONT holds that value. If OLT  
          changes the Alloc-id for this T-CONT, the OLT should overwrite this attribute with a new  
          value in order to align the OMCI condition with TC layer condition. (R, W) (mandatory)  
          (2 bytes)  

          Mode  Indicator :  This  attribute  indicates  whether  this  T-CONT  operates  in  ATM-mode  
          (0x00) or GEM mode (0x01). (R) (mandatory) (1 byte)  

          Policy : This attribute represents scheduling policy. Valid values include but are not limited  
          to  "Null"  (value  0x00),  "HOL"  (value  0x01)  or  "WRR"  (value 0x02).  Upon  autonomous  
          instantiation, this attribute consists of the 0x01. (R) (mandatory) (1 byte)  

Actions  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  of  
          attributes of this managed entity. The notification should identify the attribute and its new  
          value. The list of AVCs for this managed entity is given in Table 6.  

                                   Table 6/G.984.4 −− AVC list for T-CONT  
                                                        −− 

            Number          Attribute value change                             Description  

                 1        N/A                                 

                 2       Mode Indicator                     Indicate ATM mode or GEM mode  

                 3       N/A                                  

               4-16      Reserved                             

9.3       UNI Management  

9.3.1     UNI-G  

This managed entity is used to organize data associated with the User Network Interfaces (UNIs)  
supported  by  the  GEM  services.  For  ATM  UNIs  and  non-ATM  UNIs  that  are  supported  by  the  
ATM  services,  UNIB-PON  is  used.  One  instance  of  this  managed  entity  exists  for  each  UNI  
supported by the ONT.  

                                                                            ITU-T Rec. G.984.4 (06/2004)                37  

----------------------- Page 44-----------------------

                                                                 

Instances  of  this  managed  entity  are  automatically  created/deleted  by  the  ONT  immediately  
following the creation/deletion of a Subscriber Line Card managed entity. After the creation of an  
instance of this managed entity, the associated attributes are updated according to the data within  
the Subscriber Line Card (if present) or within the ONT for the case of integrated interfaces on the  
UNI side.  

Relationships  

           One or more instances of the UNI-G managed entity may be contained in an instance of a  
           Subscriber Line Card managed entity.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
           managed entity. This 2-byte number is directly associated with the physical position of the  
           UNI.  The  assigned  number  is  the  same  as  the  id  of  the  Physical  Path  Termination  Point  
           with which this UNI is associated. (R) (mandatory) (2 bytes)  

           Configuration Option Status : This attribute holds the UNI Configuration Code field. Its  
           bits are assigned as described in Table 7. (R, W) (mandatory) (2 bytes)  

           Administrative  State:  This  attribute  is  used  to  "unlock"  (value  0x00)  and  "lock"  (value  
           0x01) the functions performed by the UNI. When the Administrative State attribute is set to  
           "lock",  all  user  traffic  to  and  from  this  UNI  is  blocked  and  alarms  for  this  UNI  and  all  
           associated managed entities are no longer generated. Selection of a default value for this  
           attribute  is  outside  the  scope  of  this  Recommendation  as  it  is  normally  handled  through  
           supplier-operator negotiations. (R, W) (mandatory) (1 byte)  

                Table 7/G.984.4 −− Coding of the Configuration Option Status attribute  
                                      −− 

  Bit                  Name                                                      Setting  

    1     n/a                                  

   2     ServerTrailFaultPropagation         0: All TC layer alarm reporting through the OMCC is inhibited  
         TC layer                            1: All TC layer alarm reporting through the OMCC is not inhibited  

   3     ServerTrailFaultPropagation         0: All PHY layer alarm reporting through the OMCC is inhibited  
         PHY layer                           1: All PHY layer alarm reporting through the OMCC is not inhibited  

   4     ServerTrailFaultPropagation         0: All GAL layer alarm reporting through the OMCC is inhibited  
         GAL layer                           1: All GAL layer alarm reporting through the OMCC is not inhibited  

  5-16   Reserved                              

Actions  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

Notifications  

           None.  

9.3.2      ATM Interworking VCC Termination Point  

This managed entity is modified slightly from the Interworking VCC Termination Point managed  
entity  given  in  7.3.7/G.983.2.  An  instance  of  this  managed  entity  represents  a  point  in  the  ONT  
where  the  interworking  of  a  service  (e.g.,  CES,  IP)  or  underlying  physical  infrastructure  (e.g.,  
nxDS0/DS1/DS3/E3/Ethernet)  to  ATM  layer  takes  place.  At  this  point,  ATM  cells  are  generated  
from a bit stream (e.g., nxDS0/DS1/DS3/E3/Frame Relay/Ethernet) or a bit stream is re-constructed  
from ATM cells.  

38          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 45-----------------------

                                                               

Instances of this managed entity are created and deleted by the ONT on request of the OLT.  

Establishment of a "CES interworking connection"  

Since it is more complicated to introduce the "pointer list" as an attribute, the following mechanism  
will be used to create a CES interworking connection:  
•         for structured service: Create first a VP Network CTP-G or VC Network CTP-G instance  
          and  a  Logical  N × 64  kbit/s  Sub-port  Connection  Termination  Point  instance,  and  then  
          create an ATM Interworking VCC Termination Point; the latter would contain a reference  
          to the VP Network CTP-G or VC Network CTP-G instance on one hand and the Logical  
          N × 64 kbit/s Sub-port Connection Termination Point instance on the other hand; or  
•         for  unstructured  service:  Create  first  a  VP  Network  CTP-G  or  VC  Network  CTP-G  
          instance, and then create an ATM Interworking VCC Termination Point; the latter would  
          contain a reference to the VP Network CTP-G or VC Network CTP-G instance on one hand  
          and to the Physical Path Termination Point CES UNI instance on the other hand.  

Establishment of an "Ethernet interworking connection"  

Create  first  a  VP  Network  CTP-G  or  VC  Network  CTP-G  instance,  and  then  create  an  ATM  
Interworking  VCC  Termination  Point.  The  latter  would  contain  a  reference  to  the  VP  Network  
CTP-G or VC Network CTP-G instance, on one hand and, to the Physical Path Termination Point  
Ethernet UNI instance on the other hand.  

Relationships  

          One instance of this managed entity exists for each occurrence of transformation of a data  
          stream into ATM cells and vice versa. Note that the attributes "AAL Profile pointer" and  
          "Service Profile pointer" imply relationships to these managed entities.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          VCI Value : This attribute identifies the VCI value associated with this ATM Interworking  
          VCC Termination Point. (R, Set-by-create) (mandatory) (2 bytes)  

          VPNetworkCTP  Connectivity  Pointer :  This  attribute  provides  an  instance  identifier  of  
          the VP Network CTP-G that is associated with this ATM Interworking VCC Termination  
          Point. This attribute is only valid for VP cross-connections (R, Set-by-create) (mandatory  
          for VP cross-connections) (2 bytes)  

          Interworking Option : This attribute identifies the type of non-ATM function that is being  
          interworked;  the  option  can  be  CES  (0x00),  MAC  Bridge  LAN  (0x01),  or  Voice  (0x02)  
          service. (R, Set-by-create) (mandatory) (1 byte)  

          Service Profile Pointer: This attribute provides the service profile type and a pointer to the  
          instance  of  a  service  profile,  such  as  the  CES  Service  ProfileB-PON  (if  the  interworking  
          option = 0x00), MAC Bridge Service Profile (if the interworking option = 0x01), or Voice  
          Service  Profile  AAL  (if  the  interworking  option  =  0x02).  (R,  Set-by-create)  (mandatory)  
          (2 bytes)   

          AAL  Profile  Pointer :  This  attribute  provides  the  AAL  profile  type  and  a  pointer  to  an  
          instance  of  AAL  Profile  such  as  AAL 1  ProfileB-PON  if  the  interworking  option  =  0x00,  
          AAL 1  ProfileB-PON  or  AAL 2  ProfileB-PON  if  the  interworking  option  =  0x02,  or  AAL 5  
          ProfileB-PON if the interworking option = 0x01. (R, Set-by-create) (mandatory) (2 bytes)  

                                                                            ITU-T Rec. G.984.4 (06/2004)                39  

----------------------- Page 46-----------------------

                                                               

          Interworking  Termination  Point  Pointer:  This  attribute  provides  a  pointer  to  the  
          associated   instance(s)   of   the   following   managed   entities   (depending   on   the   service  
          provided):  
          •       Physical Path Termination Point Ethernet UNI.  
          •       Physical Path Termination Point POTS UNI.  
          •       Physical Path Termination Point CES UNI.  

          •       Logical N × 64 kbit/s sub-port Connection Termination Point.  
          •       Physical Path Termination Point ISDN UNI.  
          •       Physical Path Termination Point 802.11 UNI.  

          NOTE – For  the  case  utilizing  the  multiplexing  function  of  AAL 2,  this  attribute  is  assigned  a  
          special value:  

          •       0x00XX will be used for pseudo slotIDs;  

          •       0xXX00 will be used for pseudo portIDs.  

          Therefore, 0x0000 will be used only if the integrated interfaces (integrated type of ONT)  
          support AAL 2 multiple functions. (R, Set-by-create) (mandatory) (2 bytes)  

          AAL Loopback Configuration : This attribute is used to set the loopback configuration:  
          No loopback (value 0x00), Loopback 1 (value 0x01, loopback of downstream traffic before  
          FEC  of  AAL 1),  Loopback  2  (value  0x02,  loopback  of  downstream  traffic  after  FEC  of  
          AAL 1), loopback after AAL (value 0x03, loopback of downstream traffic after any AAL).  
          Loopback  after  AAL  is  depicted  in  Figure  11.  Upon  autonomous  instantiation,  the  value  
          0x00 is used. (R, W) (mandatory) (1 byte)  

          PPTP  Counter :  This  attribute  represents  the  number  of  instances  of  PPTP  managed  
          entities  associated  with  this  instance  of  the  ATM  Interworking  VCC  Termination  Point  
          managed  entity.  If  only  one  instance  of  a  PPTP  managed  entity  is  associated  with  this  
          instance of the ATM Interworking VCC Termination Point managed entity, this attribute is  
          set to 0x01. If multiple instances of PPTP managed entities are associated with this instance  
          of the ATM Interworking VCC Termination Point managed entity (i.e., in case of AAL 2  
          multiplexing), this attribute is set to 0xZZ, where ZZ represents the number of associated  
          PPTP instances. (R) (optional) (1 byte)  

          Operational State : This attribute indicates whether or not this managed entity is capable of  
          performing  its  task.  The  operational  state  reflects  the  perceived  ability  to  receive  or  to  
          generate a valid signal. Valid values are enabled (0x00) and disabled (0x01). (R) (optional)  
          (1 byte)  

          VCNetworkCTP  Connectivity  Pointer:  This  attribute  provides  an  instance  identifier  of  
          the VC Network CTP-G that is associated with this ATM Interworking VCC Termination  
          Point. This attribute is only valid for VC cross-connections. (R, Set-by-create) (mandatory  
          for VC cross-connections) (2 bytes)  

40          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 47-----------------------

                                                                    

                                                                                                                                    

                      Figure 11/G.984.4 −− Schematic diagram of loopback after AAL  
                                                −− 

Actions  

           Create : Create an instance of this managed entity.  

           Delete: Delete an instance of this managed entity.  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

Notifications  

           Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  of  
           attributes of this managed entity. The notification should identify the attribute and its new  
           value. The list of AVCs for this managed entity is given in Table 8a.  

           Alarm : This notification is used to notify the management system when a failure has been  
           detected or cleared. Both ONT and OLT should know the alarm list used by this entity. The  
           alarm list for this entity is given in Table 8b. See also Appendix III/G.983.2.  

             Table 8a/G.984.4 −− AVC list for ATM Interworking VCC Termination Point  
                                     −− 

             Number           Attribute value change                                 Description  

                 1-8        N/A                                    

                  9        OpState                              Operational state of ATM Interworking VCC  
                                                                Termination Point  

                 10         N/A                                    

               11-16        Reserved                               

                                                                                  ITU-T Rec. G.984.4 (06/2004)                   41  

----------------------- Page 48-----------------------

                                                                

           Table 8b/G.984.4 −− Alarm list for ATM Interworking VCC Termination Point  
                                  −− 

 Number                     Alarm                                               Description  

     0       End-to-end VC-AIS-LMIR                 End-to-end VC-AIS receiving indication (optional)  

      1      End-to-end VC-RDI-LMIR                 End-to-end VC-RDI receiving indication (optional)  

     2       End-to-end VC-AIS-LMIG                 End-to-end VC-AIS generation indication (optional)  

     3       End-to-end VC-RDI-LMIG                 End-to-end VC-RDI generation indication (optional)  

     4       Segment Loss of Continuity             Loss of continuity is detected when the ATM Interworking  
                                                    VCC Termination Point is a segment end point (optional)  

     5       End-to-End Loss of Continuity          Loss of continuity is detected at the ATM Interworking VCC  
                                                    Termination Point (optional)  

     6       CSA                                    Cell starvation alarm  

   7-223     Reserved                                 

9.3.3     GEM Interworking Termination Point  

An  instance  of  this  managed  entity  represents  a  point  in  the  ONT  where  the  interworking  of  a  
service (e.g., CES, IP) or underlying physical infrastructure (e.g., nxDS0/DS1/DS3/E3/Ethernet) to  
GEM   layer   takes   place.   At   this   point,   GEM   packets   are   generated   from   a   bit   stream  
(e.g., nxDS0/DS1/DS3/E3/Frame  Relay/Ethernet)  or  a  bit  stream  is  re-constructed  from  GEM  
packets.  

Instances of this managed entity are created and deleted by the ONT on request of the OLT.  

Establishment of a "CES interworking connection"  

Since it is more complicated to introduce the "pointer list" as an attribute, the following mechanism  
will be used to create a CES interworking connection:  
•         for  structured  service:  Create  first  a  GEM  Port  Network  CTP  instance  and  a  Logical  
          N × 64 kbit/s  Sub-port  Connection  Termination  Point  instance,  and  then  create  a  GEM  
          Interworking  Termination  Point;  the  latter  would  contain  a  reference  to  the  GEM  Port  
          Network  CTP  instance,  on  one  hand,  and  the  Logical  N × 64  kbit/s  Sub-port  Connection  
          Termination Point instance on the other hand; or  
•         for unstructured service: Create first a GEM Port Network CTP instance, and then create a  
          GEM Interworking Termination Point; the latter would contain a reference to the GEM Port  
          Network CTP instance, on one hand, and to the Physical Path Termination Point CES UNI  
          instance on the other hand.  

Establishment of an "Ethernet interworking connection"  

Create first a GEM Port Network CTP instance, and then create a GEM Interworking Termination  
Point. The latter would contain a reference to the GEM Port Network CTP instance, on one hand,  
and to the Physical Path Termination Point Ethernet UNI instance on the other hand.  

Relationships  

          One instance of this managed entity exists for each occurrence of transformation of a data  
          stream into GEM packets and vice versa. Note that the attributes "GEM Profile pointer",  
          and "Service Profile pointer" imply relationships to these managed entities.  

42          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 49-----------------------

                                                                

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          GEM  Port  Network  CTP  Connectivity  Pointer:  This  attribute  provides  an  instance  
          identifier  of  the  GEM  Port  Network  CTP  that  is  associated  with  this  GEM  Interworking  
          Termination Point. (R, Set-by-create) (mandatory) (2 bytes)  

          Interworking Option : This attribute identifies the type of non-GEM function that is being  
          interworked; the option can be CES (0x00) or MAC Bridge LAN (0x01). (R, Set-by-create)  
          (mandatory) (1 byte)  

          Service Profile Pointer: This attribute provides the service profile type and a pointer to the  
          instance  of  a  service  profile,  such  as  the  CES  Service  ProfileB-PON  (if  the  interworking  
          option  =  0x00)  or  MAC  Bridge  Service  Profile  (if  the  interworking  option  =  0x01),  
          (R, Set-by-create) (mandatory) (2 bytes)  

          Interworking  Termination  Point  Pointer:  This  attribute  provides  a  pointer  to  the  
          associated   instance(s)   of   the   following   managed   entities   (depending   on   the   service  
          provided):  

          •       Physical Path Termination Point Ethernet UNI.  

          •       Physical Path Termination Point POTS UNI.  

          •       Physical Path Termination Point CES UNI.  

          •       Logical N × 64 kbit/s sub-port Connection Termination Point.  

          •       Physical Path Termination Point ISDN UNI.  

          •       Physical Path Termination Point 802.11 UNI.  

          (R, Set-by-create) (mandatory) (2 bytes)  

          PPTP  Counter :  This  attribute  represents  the  number  of  instances  of  PPTP  managed  
          entities associated with this instance of the GEM Interworking Termination Point managed  
          entity. If only one instance of a PPTP managed entity is associated with this instance of the  
          GEM  Interworking  Termination  Point  managed  entity,  this  attribute  is  set  to  0x01.  If  
          multiple instances of PPTP managed entities are associated with this instance of the GEM  
          Interworking  Termination  Point  managed  entity,  this  attribute  is  set  to  0xZZ,  where  ZZ  
          represents the number of associated PPTP instances. (R) (optional) (1 byte)  

          Operational State : This attribute indicates whether or not this managed entity is capable of  
          performing  its  task.  The  operational  state  reflects  the  perceived  ability  to  receive  or  to  
          generate a valid signal. Valid values are enabled (0x00) and disabled (0x01). (R) (optional)  
          (1 byte)  

          GAL Profile Pointer : For GEM mode, this attribute provides the GAL profile type and a  
          pointer  to  an  instance  of  a  GAL  Profile  such  as  GAL  TDM  Profile  if  the  interworking  
          option     =   0x00     or   GAL      Ethernet     Profile    if   the   interworking      option     =   0x01.  
          (R, Set-by-create) (mandatory) (2 bytes)  

          GAL  Loopback  Configuration :  This  attribute  is  used  to  set  the  loopback  configuration  
          when using GEM mode: No loopback (value 0x00), Loopback of downstream traffic after  
          GAL  (value  0x01).  Upon  autonomous  instantiation,  the  value  0x00  is  used.  (R,  W)  
          (mandatory) (1 byte)  

                                                                             ITU-T Rec. G.984.4 (06/2004)                43  

----------------------- Page 50-----------------------

                                                                 

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          Attribute  value  change :  This  notification  is  used  to  report  autonomous  changes  of  
           attributes of this managed entity. The notification should identify the attribute and its new  
          value. The list of AVCs for this managed entity is given in Table 9a.  

          Alarm : This notification is used to notify the management system when a failure has been  
           detected or cleared. Both ONT and OLT should know the alarm list used by this entity. The  
           alarm list for this entity is given in Table 9b.  

                Table 9a/G.984.4 −− AVC list for GEM Interworking Termination Point  
                                       −− 

             Number          Attribute value change                              Description  

                1-5       N/A                                  

                 6        OpState                            Operational state of GEM Interworking  
                                                             Termination Point  

                7-8       N/A                                  

               9-16       Reserved                             

               Table 9b/G.984.4 −− Alarm list for GEM Interworking Termination Point  
                                      −− 

 Number                     Alarm                                                Description  

      0      GFSA                                    GEM frame starvation alarm  

   1-223     Reserved                                  

9.3.4      GAL TDM profile  

This managed entity organizes data that describes the GTC Adaptation layer processing functions of  
the ONT for TDM services. ITU-T Rec. G.984.3 explains that GEM adaptation layer generates a  
GEM frame that accommodates TDM traffic once a frame (every 125 µs). The length of the GEM  
frame  depends  on  the  UNI  bit  rate.  The  clock  recovery  function  and  structured  data  transfer  
function are not necessary because the GEM is terminated in the PON section.  

The  receiver  of  GEM  adaptation  layer  should  check  the  loss  of  GEM  frame  once  a  frame  
(every 125 µs).  

It is used with the GEM Interworking Termination Point managed entity. In an GEM environment,  
GAL TDM configuration parameters are associated with a GEM Interworking Termination Point  
managed  entity  through  a  pointer  relationship.  Each  instance  of  this  managed  entity  defines  a  
combination   of   parameter   values   that   may   be   associated   with   multiple   instances   of   GEM  
Interworking Termination Point ME.  

This managed entity is instantiated/deleted on request of the OLT.  

44          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 51-----------------------

                                                               

Relationships  

          One  instance  of  this  managed  entity  exists  for  each  combination  of  GAL  TDM  profile  
          parameter values used within an ONT and may be associated with zero or more instances of  
          the GEM Interworking Termination Point managed entity.  

Attributes  

         Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
         managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

         GEM   Frame          Loss    Integration      Period:   This   attribute   represents   the   duration   in  
         milliseconds of the GEM frame loss integration period. If the GEM frame loss persists for  
          such a period, the GEM Interworking Termination Point managed entity associated with this  
          entity will generate a GEM frame starvation alarm. (R, Set-by-create) (mandatory) (2 bytes)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes.  

Notifications  

          None.  

9.3.5     GAL Ethernet Profile  

This managed entity organizes data that describes the GTC Adaptation layer processing functions of  
the ONT for Ethernet services. It is used with the GEM Interworking Termination Point managed  
entity.  

In  a  GEM  environment,  GAL  Ethernet  configuration  parameters  are  associated  with  a  GEM  
Interworking Termination Point managed entity through a pointer relationship. Each instance of this  
managed  entity  defines  a  combination  of  parameter  values  that  may  be  associated  with  multiple  
instances of GEM Interworking Termination Point ME.  

This managed entity is instantiated/deleted on request of the OLT.  

Relationships  

          One instance of this managed entity exists for each combination of GAL Ethernet profile  
          parameter values used within an ONT and may be associated with zero or more instances of  
          the GEM Interworking Termination Point managed entity.  

Attributes   

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          Maximum GEM Payload Size : This attribute represents a maximum payload size that is  
          generated   in   the   associated   GEM   Interworking   Termination   Point   managed   entity.  
          (R, Set-by-create) (mandatory) (2 bytes)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes.  

                                                                            ITU-T Rec. G.984.4 (06/2004)                45  

----------------------- Page 52-----------------------

                                                                  

Notifications  

           None.  

9.3.6      GAL TDM protocol monitoring history data  

This managed entity contains the last completed 15-minute interval performance monitoring data  
collected as a result of performing Segmentation and Reassembly (SAR) Level and Convergence  
Sublayer (CS) protocol monitoring. All the attribute counters are only updated at the end of each  
period. Instances of this managed entity are created on request of the OLT whenever an instance of  
the  GEM  Interworking  Termination  Point  managed  entity  is  created  that  represents  GAL  TDM  
functions. Instances of this managed entity are deleted on request of the OLT.  

Relationships  

           One instance of this managed entity can exist for each instance of the GEM Interworking  
           Termination Point managed entity that represents GAL TDM functions.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
           managed  entity.  The  assigned  number  is  the  same  as  the  Managed  Entity  id  of  the  
           corresponding   GEM   Interworking   Termination   Point.   (R,   Set-by-create)   (mandatory)  
           (2 bytes)  

           Interval End Time : This attribute identifies the most recently finished 15-minute interval.  
           It is a cyclic counter (modulo 0x0100 (256)) that is incremented each time a new interval is  
           finished and the attribute counters are updated. The value of this attribute is 0x00 during the  
           first 15-minute interval that starts with the reception of the "synchronize time" action. The  
           value is 0x01 during the first period after this, and so on. If this managed entity is created  
           after the reception of the "synchronize time" action, the value of this attribute is set equal to  
           the number of the last completed interval. The actual counters of this managed entity start  
           counting   directly.   The   attribute   counters   are   updated   at   the   end   of   the   interval.  
           (R) (mandatory) (1 byte)  

           Threshold Data 1/2 id: This attribute provides a pointer to instances of the Threshold Data 
                                                                                                                                   
                                  
           1 and 2 managed entities that contain the threshold values for the performance monitoring  
           data collected by this managed entity. (R, W, Set-by-create) (mandatory) (2 bytes)  

           GEM frame Loss :  This  attribute  represents  a  count  of  the  number  of  lost  GEM  frames.  
           This counter records the number of GEM frames detected as lost in the network prior to the  
           destination  interworking  function  GTC  adaptation  layer  processing.  If  the  actual  counter  
           saturates,  it  remains  on  its  maximum  value.  Default  value  is  0x00.  (R)  (mandatory)  
           (4 bytes)  

           Buffer   Underflows :   This   attribute   represents   a   count   of   the   number   of   times   the  
           reassembly buffer underflows. In the case of a continuous underflow caused by a loss of  
           GEM frame flow, a single buffer underflow should be counted. If the interworking function  
           is implemented with multiple buffers, such as a cell level buffer and a bit level buffer, then  
           either  buffer  underflow  will  cause  this  count  to  be  incremented.  If  the  actual  counter  
           saturates,  it  remains  on  its  maximum  value.  Default  value  is  0x00.  (R)  (mandatory)  
           (4 bytes)  

           Buffer Overflows : This attribute represents a count of the number of times the reassembly  
           buffer overflows. If the interworking function is implemented with multiple buffers, such as  
           a cell level buffer and a bit level buffer, then either buffer overflow will cause this count to  
           be incremented. If the actual counter saturates, it remains on its maximum value. Default  
           value is 0x00. (R) (mandatory) (4 bytes)  

46          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 53-----------------------

                                                                  

Actions  

           Create : Create an instance of this managed entity.  

           Delete: Delete an instance of this managed entity.  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

           Get  current  data:  This  action  returns  the  current  value  of  one  or  more  actual  counters  
           associated with performance monitoring attributes and the value of the Interval End Time  
           attribute representing the interval in which the request is made. The values in the specific  
           counters are reset at the end of the interval. Support of this action is optional.  

           NOTE – "Get" returns the statistical data stored in the attribute values; "Get current data" returns  
           the real-time value of the actual counters associated with those attributes.  

Notifications  

           Threshold  Crossing  Alert:  This  notification  is  used  to  notify  the  management  system  
           when  a  Threshold  Crossing  Alert  (TCA)  has  been  detected  or  cleared.  The  TCA  change  
           notification "on" will be sent at the crossing of the threshold by the actual counter; the TCA  
           change notification "off" will be sent at the end of the 15-minute period since that is when  
           the actual counters are reset to 0x00. The event list for this entity is given in Table 10.  

           Table 10/G.984.4 −− Alarm list for GAL TDM protocol monitoring history data  
                                   −− 

                                                                                                        Threshold data  
  Number                     Event                                  Description  
                                                                                                       counter # (Note)  

                Threshold Crossing Alert                                                               

       0        GEM frame loss                      GEM frame loss threshold crossing                            1  

       1        Buffer Underflows                   Buffer Underflows threshold crossing                         2  

       2        Buffer Overflows                    Buffer Overflows threshold crossing                         3  

     3-13       Reserved                                                                                           
                                                      
  NOTE – This numbering is used with the associated Threshold Data 1/2 managed entities. Threshold Data  
  counter 1 indicates the 1st thresholded counter that is associated with Threshold Value 1 attribute of  
  Threshold Data 1 managed entity. Threshold Data counters 1 to 7 are associated with Threshold Value 1 to  
  7 attributes of Threshold Data 1 managed entity and Threshold Data counter 8 to 14 are associated with  
  Threshold Value 8 to 14 attributes of Threshold Data 2 managed entity.  

9.3.7      GAL Ethernet protocol monitoring history data  

This managed entity is used to collect and report performance monitoring data associated with a  
GEM  Interworking  Termination  Point  managed  entity  for  the  last  completed  15-minute  interval  
when GEM layer provides Ethernet service. The instances of this managed entity are created and  
deleted on request of the OLT.   

Relationships  

           Zero  or  one  instance  of  this  managed  entity  may  exist  for  each  instance  of  the  GEM  
           Interworking Termination Point managed entity.  

Attributes  

           Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
           managed  entity.  The  assigned  number  is  the  same  as  the  Managed  Entity  id  of  the  
           corresponding GEM Interworking TP. (R, Set-by-create) (mandatory) (2 bytes)  

                                                                               ITU-T Rec. G.984.4 (06/2004)                  47  

----------------------- Page 54-----------------------

                                                                 

           Interval End Time : This attribute identifies the most recently finished 15-minute interval.  
           It is a cyclic counter (modulo 0x100 (256)) that is incremented each time a new interval is  
           finished and the actual counters are updated. The value of this attribute is 0x00 during the  
           first 15-minute interval that starts with the reception of the "synchronize time" action. The  
           value is 0x01 during the first period after this, and so on. If this managed entity is created  
           after the reception of the "synchronize time" action, the value of this attribute is set equal to  
           the number of the last completed interval. The actual counters of this managed entity start  
           counting directly. (R) (mandatory) (1 byte)  

           Threshold Data 1/2 id : This attribute provides a pointer to instances of the Threshold Data  
           1 and 2 managed entities that contain the threshold values for the performance monitoring  
           data collected by this managed entity. (R, W, Set-by-create) (mandatory) (2 bytes)  

           Discarded Frames : This attribute represents a count of the number of downstream frames  
           that are discarded for any reason. (Erroneous FCS, too long length, buffer overflow, and so  
           on.) The unit of this counter is GEM frame. If the actual counter saturates, it remains on its  
           maximum value. (R) (mandatory) (4 bytes)  

Actions  

           Create : Create an instance of this managed entity.  

           Delete: Delete an instance of this managed entity.  

           Get: Get one or more attributes.  

           Set : Set one or more attributes.  

           Get  current  data:  This  action  returns  the  current  value  of  one  or  more  actual  counters  
           associated with performance monitoring attributes and the value of the Interval End Time  
           attribute representing the interval in which the request is made. The values in the specific  
           counters are reset at the end of the interval. Support of this action is optional.  

          NOTE – "Get" returns the statistical data stored in the attribute values; "Get current data" returns  
           the real-time value of the actual counters associated with those attributes.  

Notifications  

           Threshold Crossing Alert: This notification is used to notify the management system when  
           a threshold crossing alert (TCA) is detected or cleared. The TCA change notification "on"  
           will be sent at the crossing of the threshold; the TCA change notification "off" will be sent  
           at the end of the 15-minute period since that is when the counters are reset to 0x00. Both  
           ONT and OLT should know the event list used by this entity, given in Table 11.  

         Table 11/G.984.4 −− Alarm list for GAL Ethernet protocol monitoring history data  
                                −− 

  Number                      Event                         Description             Threshold data counter # (Note)  

               Threshold Crossing Alert                                             

       0       Discarded Frames                      Exceeds threshold                                 1  

     1-13      Reserved                                                              

 NOTE – This numbering is used with the associated Threshold Data 1/2 managed entities. Threshold Data  
 counter 1 indicates the 1st thresholded counter that is associated with Threshold Value 1 attribute of  
 Threshold Data 1 managed entity. Threshold Data counters 1 to 7 are associated with Threshold Value 1 to  
 7 attributes of Threshold Data 1 managed entity and Threshold Data counter 8 to 14 are associated with  
 Threshold Value 8 to 14 attributes of Threshold Data 2 managed entity.  

48          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 55-----------------------

                                                               

9.4       Connection Management  

9.4.1     GEM Port Network CTP  

This managed entity is used to represent the termination of GEM ports on an ONT.   

Instances of the GEM Port Network CTP managed entity will be created on demand of the OLT as  
a consequence of action "create" on the GEM Port Network CTP managed entity.  

Instances of the GEM Port Network CTP managed entity will be deleted on demand of the OLT as  
a consequence of action "delete" on the GEM Port Network CTP managed entity.  

Notice that an instance of GEM Port Network CTP can be deleted only when no GEM Interworking  
Termination Point nor GEM Port PM History Data is associated with it. It is the responsibility of  
the OLT to make sure that the instance of GEM Port Network CTP meets this condition at the time  
when the OLT requests to delete it.  

Note  that  this  managed  entity  aggregates  connectivity  functionality  from  the  network  view  and  
alarms from the network element view as well as artefacts from trails.  

Relationships  

          One  or  more  instances  of  the  GEM  Port  Network  CTP  managed  entity  exists  for  each  
          instance  of  the  PON  TC  Adapter-G  and  GEM  Interworking  Termination  Point  managed  
          entity.   

          Relationship to Priority Queue-G/Traffic Descriptor Profile Pointer: see attribute definition.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          PortID  Value :  This  attribute  identifies  the  PortID  associated  with  the  GEM  port  being  
          terminated. (R, Set-by-create) (mandatory) (2 bytes)  

          PON TC Adapter-G Pointer: This attribute associates the GEM Port Network CTP ME  
          with the PON TC Adapter-G ME. It points to the connected PON TC Adapter-G instance  
          id. (R, Set-by-create) (mandatory) (2 bytes)  

          Direction :  This  attribute  specifies  whether  the  GEM  port  is  used  for  UNI-to-ANI  (value  
          0x01),   ANI-to-UNI   (value   0x02),   or   bidirectional   (value   0x03)   connection.   (R,   W,  
          Set-by-create) (mandatory) (1 byte)  

          Priority Queue Pointer for Upstream : This attribute points to the instance of the Priority  
          Queue-G  ME  used  for  this  GEM  Port  Network  CTP  ME  in  the  upstream  direction.  It  is  
          used when the  Traffic Management Option attribute in ONT-G ME is 0x00; this pointer  
          is null otherwise. (R, Set-by-create) (mandatory) (2 bytes)  

          Traffic Descriptor Profile Pointer: This attribute serves as a pointer to the instance of the  
          Traffic Descriptor Profile managed entity that contains the traffic parameters used for this  
          GEM Port Network CTP ME. This attribute is used when the Traffic Management Option  
          attribute in ONT-G ME is 0x01.   

          When traffic shaping is used, it applies to the ANI side GEM Port Network CTP ME. In  
          this case, this pointer points to a Traffic Descriptor Profile managed entity and the Priority  
          Queue Pointer for the upstream attribute is null. (R, Set-by-create) (optional) (2 bytes)  

          UNI Counter : This attribute represents the number of instances of UNI-G managed entity  
          associated  with  an  instance  of  the  GEM  Port  Network  CTP  managed  entity.  If  only  one  
          instance  of  a  UNI-G  managed  entity  is  associated  with  an  instance  of  the  GEM  Port  
          Network CTP managed entity, this attribute is set to 0x01. If multiple instances of UNI-G  

                                                                            ITU-T Rec. G.984.4 (06/2004)               49  

----------------------- Page 56-----------------------

                                                                

          managed entity are associated with an instance of the GEM Port Network CTP managed  
          entity, this attribute is set to 0xZZ, where ZZ represents the number of associated UNI-G  
          instances. (R) (optional) (1 byte)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes of this managed entity.  

          Set : Set one or more attributes of this managed entity.  

Notifications  

          Alarm : This notification is used to notify the management system when an alarm has been  
          detected or cleared. The OLT should know the alarm list used by this entity. The alarm list  
          for this entity is given in Table 12.  

                        Table 12/G.984.4 −− Alarm list for GEM port network CTP  
                                              −− 

   Number                       Alarm                                             Description  

      0-4        Reserved                                 

        5         End-to-End Loss of Continuity          Loss of continuity can be detected when the GEM Port  
                                                        Network CTP supports a GEM Interworking Termination  
                                                        Point (optional).  

     6-223        Reserved                                 

9.4.2     GEM port protocol monitoring history data  

This managed entity is used to collect and report performance monitoring data associated with a  
GEM Port Network CTP for the last completed 15-minute interval. The instances of this managed  
entity are created and deleted on request of the OLT.   

Relationships  

          Zero or one instance of this managed entity may exist for each instance of the GEM Port  
          Network CTP managed entity.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed  entity.  The  assigned  number  is  the  same  as  the  Managed  Entity  id  of  the  
          corresponding GEM Port Network CTP. (R, Set-by-create) (mandatory) (2 bytes)  

          Interval End Time: This attribute identifies the most recently finished 15-minute interval. It  
          is a cyclic counter (modulo 0x100 (256)) that is incremented each time a new interval is  
          finished and the actual counters are updated. The value of this attribute is 0x00 during the  
          first 15-minute interval that starts with the reception of the "synchronize time" action. The  
          value is 0x01 during the first period after this, and so on. If this managed entity is created  
          after the reception of the "synchronize time" action, the value of this attribute is set equal to  
          the number of the last completed interval. The actual counters of this managed entity start  
          counting directly. (R) (mandatory) (1 byte)  

          Threshold Data 1/2 id : This attribute provides a pointer to instances of the Threshold Data  
           1 and 2 managed entities that contain the threshold values for the performance monitoring  
          data collected by this managed entity. (R, W, Set-by-create) (mandatory) (2 bytes)  

50          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 57-----------------------

                                                                 

          Lost  Packets :  This  attribute  measures  background  packet  loss.  It  cannot  distinguish  
          between packets lost because of header bit errors or buffer overflows. It records only loss of  
           information.  The  unit  of  this  counter  is  GEM  frame.  If  the  actual  counter  saturates,  it  
          remains on its maximum value. (R) (mandatory) (4 bytes)  

          Misinserted  Packets:  This  attribute  is  used  to  measure  occurrences  of  when  a  packet  is  
          misrouted to an active GEM port that is being monitored. The unit of this counter is GEM  
           frame. If the actual counter saturates, it remains on its maximum value. (R) (mandatory)  
           (4 bytes)  

          Received Packets : This attribute provides a count of all packets that are correctly received  
           at  the  monitored  GEM  port.  The  unit  of  this  counter  is  GEM  frame.  (R)  (mandatory)  
           (5 bytes)  

          Received Blocks: This attribute provides a count of all blocks that are correctly received at  
          the monitored GEM port. The unit of this counter is GEM block length. (R) (mandatory)  
           (5 bytes)  

          Transmitted Blocks: This attribute provides a count of all blocks that are originated at a  
          monitored connection by the transmitting end point (i.e., backward reporting is assumed).  
           The unit of this counter is GEM block length. (R) (mandatory) (5 bytes)  

          Impaired Block : This severely errored data block counter will be incremented whenever  
           one  of  the  following  events  takes  place:  the  number  of  misinserted  packets  exceeds  
          Mmisinserted, the number of bipolar violations exceeds Merrored, or the number of lost packets  
           exceeds     Mlost.   The    values     for   Mmisinserted,   Merrored,    and    Mlost   are   set   based     on  
          vendor-operator negotiation. (R) (mandatory) (4 bytes)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

          Get  current  data:  This  action  returns  the  current  value  of  one  or  more  actual  counters  
           associated with performance monitoring attributes and the value of the Interval End Time  
           attribute representing the interval in which the request is made. The values in the specific  
           counters are reset at the end of the interval. Support of this action is optional.  

          NOTE – "Get" returns the statistical data stored in the attribute values; "Get current data" returns  
          the real-time value of the actual counters associated with those attributes.  

Notifications  

          Threshold  Crossing  Alert:  This  notification  is  used  to  notify  the  management  system  
          when a threshold crossing alert (TCA) is detected or cleared. The TCA change notification  
           "on" will be sent at the crossing of the threshold; the TCA change notification "off" will be  
           sent at the end of the 15-minute period since that is when the counters are reset to 0x00.  
          Both ONT and OLT should know the event list used by this entity, given in Table 13.  

                                                                              ITU-T Rec. G.984.4 (06/2004)                 51  

----------------------- Page 58-----------------------

                                                                

                     Table 13/G.984.4 −− Alarm list for GEM Port PM History Data  
                                            −− 

  Number                      Event                          Description            Threshold data counter # (Note) 

               Threshold Crossing Alert                                                                  

      0        Lost packets                          Exceeds threshold                                1  

       1       Misinserted packets                   Exceeds threshold                                 2  

      2        Impaired Blocks                       Exceeds threshold                                3  

     3-13      Reserved                                                               

 NOTE – This numbering is used with the associated Threshold Data 1/2 managed entities. Threshold Data  
 counter 1 indicates the 1st thresholded counter that is associated with Threshold Value 1 attribute of  
 Threshold Data 1 managed entity. Threshold Data counters 1 to 7 are associated with Threshold  
 Value 1 to 7 attributes of Threshold Data 1 managed entity and Threshold Data counter 8 to 14 are  
 associated with Threshold Value 8 to 14 attributes of Threshold Data 2 managed entity.  

9.4.3     VP Network CTP-G  

This managed entity is used to represent the termination of VP links on an ONT. As the G-PON  
ONT  has  multiple  T-CONTs  in  an  ANI,  ANI  Pointer  attribute  in  VP  Network  CTPB-PON  is  not  
sufficient  to  indicate  which  T-CONT  includes  the  termination  point.  Therefore,  a  new  ME  is  
defined.  

An  instance  of  the  ATM  VP  Cross-Connection  (i.e.,  VP  MUX  in  ONT)  managed  entity  may  be  
used  to  relate  two  instances  of  the  VP  Network  CTP-G   managed  entity  for  point-to-point  
cross-connection.   

Instances of the VP Network CTP-G managed entity will be created on demand of the OLT:  
•         as a consequence of action "create" on the VP Network CTP-G managed entity; or  
•         as    a   consequence       of    action    "create     complete      connection"      on    the    ATM      VP  
          Cross-Connection managed entity.  

Instances of the VP Network CTP-G managed entity will be deleted on demand of the OLT:  
•         as a consequence of action "delete" on the VP Network CTP-G managed entity; or  
•         as    a   consequence       of    action    "delete     complete      connection"      on    the    ATM      VP  
          Cross-Connection managed entity.  

Notice that an instance of VP Network CTP-G managed entity  can be deleted only when no ATM  
VP Cross-Connection or ATM Interworking VCC Termination Point is associated with it. It is the  
responsibility of the OLT to make sure that the instance of VP Network CTP-G meets this condition  
at the time when the OLT requests to delete it.  

Note  that  this  managed  entity  aggregates  connectivity  functionality  from  the  network  view  and  
alarms from the network element view as well as artefacts from trails.  

Relationships  

          Zero or more instances of the VP Network CTP-G managed entity exist for each instance of  
          the TC Adapter             , PON TC Adapter-G or ATM Interworking VCC Termination Point  
                              B-PON   
          managed entity.   

          Relationship to Priority Queue-G/Traffic Descriptor Profile Pointer: see attribute definition.  

          Relationship to UPC Disagreement Monitoring History DataB-PON : one or zero implied in  
          the managed entity id of UPC Disagreement Monitoring History DataB-PON.  

52          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 59-----------------------

                                                               

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          VPI  Value :  This  attribute  identifies  the  VPI  value  associated  with  the  VP  link  being  
          terminated. (R, Set-by-create) (mandatory) (2 bytes)  

          UNI/PON TC Adapter-G Pointer: This attribute associates the VP Network CTP-G with  
          the  PON  TC  Adapter-G  (ANI  side)  or  UNI-G/UNIB-PON  (UNI  side).  It  points  to  the  
          connected PON TC Adapter-G instance id or UNI-G/UNIB-PON instance id.   

          NOTE – For the case using the multiplexing function of AAL2 (i.e., multiple instances of UNI are  
          associated with a VP Network CTP-G instance), this attribute is assigned a special value:  

          –       0x00XX will be used for pseudo slotIDs;  

          –       0xXX00 will be used for pseudo portIDs.  

          Therefore, 0x0000 will be used only for integrated interfaces (integrated type of ONT) that  
          support multiple AAL2 functions. (R, Set-by-create) (mandatory) (2 bytes)  

          Direction :   This   attribute   specifies   whether   the   VP   link   is   used   for   UNI-to-ANI  
          (value 0x01), ANI-to-UNI (value 0x02), or bidirectional (value 0x03) connection. (R, W,  
          Set-by-create) (mandatory) (1 byte)  

          Priority  Queue  Pointer  for  Downstream:  This  attribute  points  to  the  instance  of  the  
          Priority Queue-G ME used for this VP Network CTP-G ME in the downstream direction.  
          Note that the value of this pointer is null when the VP Network CTP-G ME is at the ANI  
          side. (R, Set-by-create) (mandatory) (2 bytes)  

          Priority Queue Pointer for Upstream : This attribute points to the instance of the Priority  
          Queue-G ME used for this VP Network CTP-G ME in the upstream direction. It is used  
          when  the  UNI/PON  TC  Adapter-G  pointer  attribute  indicates  a  PON  TC  Adapter-G  
          instance  id  and  the  Traffic  Management  Option  attribute  in  ONT-G  ME  is  0x00;  this  
          pointer is null otherwise. (R, Set-by-create) (mandatory) (2 bytes)  

          Traffic Descriptor Profile Pointer: This attribute serves as a pointer to the instance of the  
          Traffic Descriptor Profile managed entity that contains the traffic parameters used for this  
          VP  Network  CTP-G  ME.  This  attribute  is  used  when  the  Traffic  Management  Option  
          attribute in ONT-G ME is 0x01.   

          When traffic shaping is used, it applies to the ANI side VP Network CTP-G ME. In this  
          case,  this  pointer  points  to  a  Traffic  Descriptor  Profile  managed  entity  and  the  Priority  
          Queue Pointer for upstream attribute is null. (R, Set-by-create) (optional) (2 bytes)  

          See also Appendix IV/G.983.2.  

          UNI Counter : This attribute represents the number of instances of UNI-G managed entity  
          associated with an instance of the VP Network CTP-G managed entity. If only one instance  
          of  a  UNI-G  managed  entity  is  associated  with  an  instance  of  the  VP  Network  CTP-G  
          managed entity, this attribute is set to 0x01. If multiple instances of UNI-G managed entity  
          are associated with an instance of the VP Network CTP-G managed entity (i.e., in case of  
          AAL2  multiplexing),  this  attribute  is  set  to  0xZZ,  where  ZZ  represents  the  number  of  
          associated UNI-G instances. (R) (optional) (1 byte)  

                                                                            ITU-T Rec. G.984.4 (06/2004)                53  

----------------------- Page 60-----------------------

                                                               

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes of this managed entity.  

          Set : Set one or more attributes of this managed entity.  

Notifications  

          Alarm :  This  notification  is  used  to  notify  the  management  system  for  the  ATM  Layer  
          Management  Indication  (LMI)  when  an  alarm  has  been  detected  or  cleared.  The  OLT  
          should  know  the  alarm  list  used  by  this  entity.  The  alarm  list  for  this  entity  is  given  in  
          Table 14.  

                          Table 14/G.984.4 −− Alarm list for VP Network CTP-G  
                                                 −− 

   Number                       Alarm                                             Description  

        0         VP-AIS-LMIR                            VP-AIS receiving indication (optional)  

        1         VP-RDI-LMIR                            VP-RDI receiving indication (optional)  

        2         VP-AIS-LMIG                            VP-AIS generation indication (optional)  

        3         VP-RDI-LMIG                            VP-RDI generation indication (optional)  

        4         Segment Loss of Continuity             Loss of continuity is detected when the VP Network  
                                                         CTP-G is a segment end point (optional)  

        5         End-to-End Loss of Continuity          Loss of continuity can be detected when the VP  
                                                         Network CTP-G supports an ATM Interworking VCC  
                                                         Termination Point (optional).  

     6-223        Reserved                                 

9.4.4     VC Network CTP-G  

This managed entity is used to represent the termination of VC links on an ONT. As the G-PON  
ONT  has  multiple  T-CONTs  in  an  ANI,  ANI  Pointer  attribute  in  VC  Network  CTPB-PON  is  not  
sufficient  to  indicate  which  T-CONT  includes  the  termination  point.  Therefore,  a  new  ME  is  
defined.  

An instance of the ATM VC Cross-Connection (i.e., VC MUX in ONT) managed entity may be  
used  to  relate  two  instances  of  the  VC  Network  CTP-G   managed  entity  for  point-to-point  
cross-connection.   

Instances of the VC Network CTP-G managed entity will be created on demand of the OLT:  
•         as a consequence of action "create" on the VC Network CTP-G managed entity; or  
•         as    a   consequence       of   action     "create    complete      connection"      on    the   ATM       VC  
          Cross-Connection managed entity.  

Instances of the VC Network CTP-G managed entity will be deleted on demand of the OLT:  
•         as a consequence of action "delete" on the VC Network CTP-G managed entity; or  
•         as    a   consequence       of   action     "delete    complete      connection"      on    the   ATM       VC  
          Cross-Connection managed entity.  

Notice  that  an  instance  of  VC  Network  CTP-G  managed  entity  can  be  deleted  only  when  no  
ATM VC Cross-Connection or ATM Interworking VCC Termination Point is associated with it. It  
is the responsibility of the OLT to make sure that the instance of VC Network CTP-G  meets this  
condition at the time when the OLT requests to delete it.  

54          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 61-----------------------

                                                               

Note  that  this  managed  entity  aggregates  connectivity  functionality  from  the  network  view  and  
alarms from the network element view as well as artefacts from trails.  

Relationships  

          Zero or more instances of the VC Network CTP-G managed entity exist for each instance  
          of  the  TC  Adapter           , PON  TC  Adapter-G  or  ATM  Interworking  VCC  Termination  
                                  B-PON   
          Point managed entity.   

          Relationship to Priority Queue-G/Traffic Descriptor Profile Pointer: see attribute definition.  

          Relationship to UPC Disagreement Monitoring History DataB-PON : one or zero implied in  
          the managed entity id of UPC Disagreement Monitoring History DataB-PON.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. (R, Set-by-create) (mandatory) (2 bytes)  

          VPI  Value :  This  attribute  identifies  the  VPI  value  associated  with  the  VC  link  being  
          terminated. (R, Set-by-create) (mandatory) (2 bytes)  

          VCI  Value :  This  attribute  identifies  the  VCI  value  associated  with  the  VC  link  being  
          terminated. (R, Set-by-create) (mandatory) (2 bytes)  

          UNI/PON TC Adapter-G Pointer: This attribute associates the VC Network CTP-G with  
          the  PON  TC  Adapter-G  (ANI  side)  or  UNI-G/UNIB-PON  (UNI  side).  It  points  to  the  
          connected PON TC Adapter-G instance id or UNI-G/UNIB-PON instance id.   

          NOTE – For the case using the multiplexing function of AAL2 (i.e., multiple instances of UNI are  
          associated with a VC Network CTP-G instance), this attribute is assigned a special value:  

          –       0x00XX will be used for pseudo slotIDs;  

          –       0xXX00 will be used for pseudo portIDs.  

          Therefore, 0x0000 will be used only for integrated interfaces (integrated type of ONT) that  
          support multiple AAL2 functions. (R, Set-by-create) (mandatory) (2 bytes)  

          Direction :   This   attribute   specifies   whether   the   VC   link   is   used   for   UNI-to-ANI  
          (value 0x01), ANI-to-UNI (value 0x02), or bidirectional (value 0x03) connection. (R, W,  
          Set-by-create) (mandatory) (1 byte)  

          Priority  Queue  Pointer  for  Downstream:  This  attribute  points  to  the  instance  of  the  
          Priority Queue-G ME used for this VC Network CTP-G ME in the downstream direction.  
          Note that the value of this pointer is null when the VC Network CTP-G ME is at the ANI  
          side. (R, Set-by-create) (mandatory) (2 bytes)  

          Priority Queue Pointer for Upstream : This attribute points to the instance of the Priority  
          Queue-G ME used for this VC Network CTP-G ME in the upstream direction. It is used  
          when  the  UNI/PON  TC  Adapter-G  pointer  attribute  indicates  a  PON  TC  Adapter-G  
          instance  id  and  the  Traffic  Management  Option  attribute  in  ONT-G  ME  is  0x00;  this  
          pointer is null otherwise. (R, Set-by-create) (mandatory) (2 bytes)  

          Traffic Descriptor Profile Pointer: This attribute serves as a pointer to the instance of the  
          Traffic Descriptor Profile managed entity that contains the traffic parameters used for this  
          VC  Network  CTP-G  ME.  This  attribute  is  used  when  the  Traffic  Management  Option  
          attribute in ONT-G ME is 0x01.   

          When traffic shaping is used, it applies to the ANI side VC Network CTP-G ME. In this  
          case,  this  pointer  points  to  a  Traffic  Descriptor  Profile  managed  entity  and  the  Priority  
          Queue Pointer for upstream attribute is null. (R, Set-by-create) (optional) (2 bytes)  

                                                                            ITU-T Rec. G.984.4 (06/2004)                55  

----------------------- Page 62-----------------------

                                                                

          See also Appendix IV/G.983.2.  

          UNI Counter : This attribute represents the number of instances of UNI-G managed entity  
          associated with an instance of the VC Network CTP-G managed entity. If only one instance  
          of  a  UNI-G  managed  entity  is  associated  with  an  instance  of  the  VC  Network  CTP-G  
          managed entity, this attribute is set to 0x01. If multiple instances of UNI-G managed entity  
          are associated with an instance of the VC Network CTP-G managed entity (i.e., in case of  
          AAL2  multiplexing),  this  attribute  is  set  to  0xZZ,  where  ZZ  represents  the  number  of  
          associated UNI-G instances. (R) (optional) (1 byte)  

Actions  

          Create : Create an instance of this managed entity.  

          Delete: Delete an instance of this managed entity.  

          Get: Get one or more attributes of this managed entity.  

          Set : Set one or more attributes of this managed entity.  

Notifications  

          Alarm :  This  notification  is  used  to  notify  the  management  system  for  the  ATM  Layer  
          Management  Indication  (LMI)  when  an  alarm  has  been  detected  or  cleared.  The  OLT  
          should  know  the  alarm  list  used  by  this  entity.  The  alarm  list  for  this  entity  is  given  in  
          Table 15.  

                          Table 15/G.984.4 −− Alarm list for VC Network CTP-G  
                                                 −− 

   Number                       Alarm                                             Description  

        0         VC-AIS-LMIR                            VC-AIS receiving indication (optional)  

        1         VC-RDI-LMIR                            VC-RDI receiving indication (optional)  

        2         VC-AIS-LMIG                           VC-AIS generation indication (optional)  

        3         VC-RDI-LMIG                            VC-RDI generation indication (optional)  

        4         Segment Loss of Continuity            Loss of continuity is detected when the VC Network  
                                                         CTP-G is a segment end point (optional)  

        5         End-to-End Loss of Continuity          Loss of continuity can be detected when the VC Network  
                                                         CTP-G supports an ATM Interworking VCC Termination  
                                                        Point (optional).  

     6-223        Reserved                                 

9.5       Traffic management  

9.5.1     Priority Queue-G  

This managed entity specifies the priority queue in the ONT that is used for the VP Network CTP-G  
or GEM Port Network CTP.  

If N priority queues reside in the ONT, the Subscriber Line Card, ONT core or PON IF Line Card,  
N  instances  of  Priority  Queue-G  management  entity  will  be  automatically  created  by  the  ONT  
following  the  creation  of  the  Subscriber  Line  Card  or  T-CONT  ME.  In  ANI  side,  the  Priority  
Queue-G ME is related to T-CONT ME. After instances of T-CONT ME are created, instances of  
Priority Queue-G ME should be created autonomously.  

Note  that  the  OLT  will  find  all  the  queues  by  reading  the  Priority  Queue-G  managed  entity  
instances.  If  the  OLT  tries  to  retrieve  a  non-existing  priority  queue,  this  will  be  indicated  in  the  
response from the ONT to the OLT.  

56          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 63-----------------------

                                                               

See also Appendix IV/G.983.2.  

Upstream priority queues can be added to the ONT. Moreover, priority queues can exist in the ONT  
core and subscriber line cards as well as PON IF Line Cards.   

In order to configure the optional Traffic Scheduler, the Weight attribute is included.  

Several attributes are included that support back pressure operation. Back pressure is defined as a  
mechanism for backward flow control. The back pressure signal is sent backward and causes the  
customer terminal to temporarily suspend sending data.  

Relationships  

          One or more instances of this managed entity are contained in the ONT-G managed entity  
          to  model  the  upstream  priority  queues  if  the  Traffic  Management  Option  attribute  in  
          ONT-G ME is 0x00. One or more instances of this managed entity are associated with the  
          Subscriber Line Card managed entity as downstream priority queues. For the ONT that has  
          one  or  more  fixed  user  interfaces,  one  or  more  instances  are  contained  in  the  ONT-G  
          managed entity for the downstream priority queues.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed   entity.   The   most   significant   bit   represents   the   direction   (0b1: Upstream,  
          0b0: Downstream).  The  15  least  significant  bits  represent  a  queue  id.  The  queue  id  is  
          numbered in ascending order by the ONT itself. The range of the downstream queue id is  
          0x0000 to 0x7FFF and the range of upstream queue id is 0x8000 to 0xFFFF in an ONT.  
          (R) (mandatory) (2 bytes)  

          Queue Configuration Option : This attribute identifies the buffer-partitioning policy. The  
          value of 0x01 means that all the queues share one buffer size of Maximum Queue Size and  
          the value 0x00 means that each queue uses its individual buffer size of Maximum Queue  
          Size. (R) (mandatory) (1 byte)  

          Maximum Queue Size : This attribute specifies the maximum size of the queue. Units are  
          cells for ATM mode and "GEM block lengths" for GEM mode. (R) (mandatory) (2 bytes)  

          Allocated Queue Size : This attribute identifies the allocated size of this queue. Units are  
          cells  for  ATM  mode  and  "GEM  block  lengths"  for  GEM  mode.  (R,  W)  (mandatory)  
          (2 bytes)  

          Discard-cell/block-counter   Reset   Interval:   This   attribute   represents   the   interval   in  
          milliseconds at which the counter resets itself. (R, W) (optional) (2 bytes)  

          Threshold Value for Discarded Cells or Blocks due to Buffer Overflow:  The threshold  
          for  the  number  of  cells  or  GEM  block  lengths  discarded  on  this  queue  due  to  buffer  
          overflow. (R, W) (optional) (2 bytes)  

          Related Port : This attribute represents the slot, port/T-CONT and priority information that  
          is  associated  with  the  instance  of  Priority  Queue-G  ME.  This  attribute  consists  of  four  
          bytes. The first byte represents the slot id where the traffic that is stored in the queue is  
          outgoing. The second byte represents the ME id of T-CONT ME (in the case of upstream)  
          or  port  id  (in  the  case  of  downstream)  where  the  traffic  that  is  stored  in  the  queue  is  
          outgoing. The last two bytes represent the priority of this queue. The range of the priority is  
          0x0000 to 0x0FFF. The value 0x0000 indicates the highest priority and the value 0x0FFF  
          indicates the lowest priority. (R) (mandatory) (4 bytes)  

                                                                            ITU-T Rec. G.984.4 (06/2004)                57  

----------------------- Page 64-----------------------

                                                                 

          Traffic  Scheduler-G  Pointer:  This  attribute  represents  the  Traffic  Scheduler-G  ME  
           instance that is directly associated with this priority queue. Upon autonomous instantiation,  
          this attribute is null (0x0000). This pointer is used when this priority queue is connected  
          with a Traffic Scheduler. Default value is 0x0000. (R, W) (mandatory) (2 bytes)  

          Weight :  This  attribute  represents  weight  for  WRR.  This  weight  is  used  by  the  Traffic  
           Scheduler or T-CONT (whose Policy is WRR) indicated by the Traffic Scheduler-G pointer  
           attribute or Related Port attribute. Upon autonomous instantiation, this attribute consists of  
          the value 0x01. (R, W) (mandatory) (1 byte)  

          Back  Pressure  Operation :  This  attribute  is  used  to  activate  (enable:  value  0x00)  or  
           deactivate (disable: value 0x01) the functions of Back Pressure operation. Default value is  
           0x00. (R, W) (mandatory) (2 bytes)  

          Back  Pressure  Time :  This  attribute  indicates  the  time  duration  in  which  the  customer  
          terminal   temporarily   suspends   sending   data.   This   attribute   presents   the   duration   in  
          microseconds.  This  attribute  can  be  used  as  a  pause  time  for  Ethernet  UNI.  Values:  
           0x00000000  to  0xFFFFFFFF.  Upon  autonomous  instantiation,  the  value  0x00000000  is  
          used. (R, W) (mandatory) (4 bytes)  

          Back Pressure Occur Queue Threshold: This attribute identifies the threshold size of this  
           queue to start sending Back Pressure signal. (R, W) (mandatory) (2 bytes)  

          Back Pressure Clear Queue Threshold: This attribute identifies the threshold size of this  
           queue to stop sending Back Pressure signal. (R, W) (mandatory) (2 bytes)  

Actions  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          Threshold  Crossing  Alert:  This  notification  is  used  to  notify  the  management  system  
          when a threshold crossing alert (TCA) has been detected or cleared. Both ONT and OLT  
           should know the event coding used by this entity. The event list for this entity is given in  
           Table 16.  

                             Table 16/G.984.4 −− Alarm list for Priority Queue-G  
                                                    −− 

                     Number                       Alarm                             Description  

                                       Threshold Crossing Alert  
                  

                         0             Cell/block loss                   Exceeds threshold  

                       1-223           Reserved                            

9.5.2      Traffic Scheduler-G  

This managed entity is modified slightly from that given in 7.3.2/G.983.7.  

An instance of this managed entity represents a logical object of some Traffic Scheduler to control  
upstream ATM cells or GEM packets. A Traffic Scheduler can accommodate ATM cells or GEM  
packets  after  priority  queue  or  other  Traffic  Scheduler  and  transfer  ATM  cells  or  GEM  packets  
toward the next Traffic Scheduler or T-CONT.  

The Traffic Scheduler-G ME is related to T-CONT ME. It has a T-CONT Pointer attribute. After  
instances  of  T-CONT  ME  are  created,  instances  of  Traffic  Scheduler-G  ME  should  be  created  
autonomously.  

58          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 65-----------------------

                                                                

Relationships  

          Zero or more instances of this managed entity are contained in an instance of the ONT-G  
          managed entity.  

Attributes  

          Managed  Entity  id :  This  attribute  provides  a  unique  number  for  each  instance  of  this  
          managed entity. This 2-byte number is associated with the physical capability that realizes  
          the Traffic Scheduler. The first byte is the slot id of the PON IF card with which this Traffic  
          Scheduler is associated. For integrated PON IF interfaces, this byte can be associated with  
          "pseudo" slot id 0x80 (128). If the ONT has Traffic Schedulers that are not associated with  
          the PON IF card at the creation of this instance, the first byte of this Traffic Scheduler is  
          0xFF. The second byte is the Traffic Scheduler id that is numbered by the ONT itself. The  
          Traffic  Scheduler  id  is  numbered  in  ascending  order  with  the  range  of  0x00  to  0xFF.  
          (R) (mandatory) (2 bytes)  

          T-CONT  Pointer:  This  attribute  represents  the  T-CONT  ME  instance  that  is  directly  
          associated with this Traffic Scheduler. This pointer is used when this Traffic Scheduler is  
          connected to the T-CONT directly, it is null (0x0000) otherwise. (R) (mandatory) (2 bytes)   

          Traffic Scheduler Pointer : This attribute represents the Traffic Scheduler-G ME instance  
          that  serves  this  Traffic  Scheduler.  Upon  autonomous  instantiation  this  attribute  is  null  
          (0x0000). This pointer is used when this Traffic Scheduler is connected to another Traffic  
          Scheduler, it is null otherwise. The default value is 0x0000. (R) (mandatory) (2 bytes)  

          Policy : This attribute represents scheduling policy. Valid values include but are not limited  
          to  "Null"  (value  0x00),  "HOL"  (value  0x01)  or  "WRR"  (value 0x02).  Upon  autonomous  
          instantiation, this attribute consists of the value 0x00. (R) (mandatory) (1 byte)  

          Priority/Weight : This attribute represents priority for HOL scheduling or the weight for  
          WRR scheduling. This value is used by the T-CONT or Traffic Scheduler indicated by the  
          T-CONT Pointer attribute or Traffic Scheduler Pointer attribute. If the indicated pointer has  
          Policy  =  HOL,  then  this  value  is  interpreted  as  a  priority  (0x00  indicates  the  highest  
          priority, and 0xFF (255) the lowest). If the indicated pointer has Policy = WRR, then this  
          value is interpreted as a weight. Upon autonomous instantiation, this attribute consists of  
          the value 0x00. (R, W) (mandatory) (1 byte)  

Actions  

          Get: Get one or more attributes.  

          Set : Set one or more attributes.  

Notifications  

          None.  

9.5.3     GEM traffic descriptors  

Traffic   descriptor   in   OMCI   represents   the   upstream   GEM   frame   behaviour.   In   order   to  
accommodate   TDM   traffic   and   Ethernet   frame   traffic,   the   following   traffic   descriptors   are  
introduced to OMCI.  

9.5.3.1      GEM TDM traffic descriptor  

For Further Study.  

9.5.3.2      GEM Ethernet frame traffic descriptor  

For further study.  

                                                                             ITU-T Rec. G.984.4 (06/2004)                59  

----------------------- Page 66-----------------------

                                                                    

10         ONT Management and Control Channel (OMCC)  

An ATM or GEM connection shall be provisioned for the OMCC. ITU-T Rec. G.984.3 specifies a  
PLOAM  message  that  activates  either  a  VPI/VCI  pair  (ATM  mode)  or  a  PortID  (GEM  mode)  
between the OLT and ONT processors. The VPI/VCI or PortID value for the management channel  
of each ONT is programmed by the OLT using this message. A grant flow must be allocated by the  
MAC layer of the OLT for upstream OMCC traffic of each ONT.  

The  following  performance  requirements  related  to  the  OMCC  are  considered  with  input  from  
operators:  
a)         The  cells  carrying  ONT  management  messages  should  be  sent  with  cell  loss  priority  
           CLP = 0 (for ATM connection).  
b)         The upstream traffic on each OMCC should not exceed x bandwidth, where x is based on  
           the operator's requirement.  
c)         An upstream OMCC cell or packet should always be put in the high priority queue or be  
           modelled with the CBR service category; the constraints on the downstream OMCC cells or  
           packets are out of the scope of this Recommendation as this is completely under control of  
           the OLT.  
d)         Message Response Time: The system should support response times that do not exceed 1 s  
           for  the  high  priority  protocol  handling  messages  and  3  s  for  the  low  priority  protocol  
           handling messages.  

11         ONT management and control protocol  

11.1       ONT management and control protocol cell/packet format  

11.1.1     Introduction  

In ATM mode, each ONT Management and Control Protocol packet is encapsulated directly in a  
single 53-byte ATM cell. The cell format is shown in Figure 12. The following clauses discuss the  
details.  
  
       ATM             Transaction         Message             Device            Message            Message             OMCI  
      header           correlation           type             identifier         identifier         contents             trailer  
     (5 bytes)          identifier          (1 byte)           (1 byte)          (4 bytes)          (32 bytes)         (8 bytes)  
                        (2 bytes)  

                Figure 12/G.984.4 −− ONT management and control protocol cell format  
                                          −− 

In GEM mode, each ONT Management and Control Protocol packet is encapsulated directly in a  
GEM  packet.  The  packet  format  is  shown  in  Figure  13.  For  simplicity,  the  packet  contents  are  
equivalent  to  those  used  in  ATM  mode,  and  only  the  header  is  changed.  The  OMCI  trailer  is  
retained and used for its CRC. The following clauses discuss the details.  
  
       GEM             Transaction         Message             Device            Message            Message             OMCI  
      header           correlation           type             identifier         identifier         contents             trailer  
     (5 bytes)          identifier          (1 byte)           (1 byte)          (4 bytes)          (32 bytes)         (8 bytes)  
                        (2 bytes)  

              Figure 13/G.984.4 −− ONT management and control protocol packet format  
                                        −− 

11.1.2     ATM header or GEM header  

The header contains the VPI/VCI value (ATM mode) or the PortID (GEM mode) of the OMCC for  
the addressed ONT (see clause 10).  

60           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 67-----------------------

                                                                    

11.1.3     Transaction correlation identifier  

The  Transaction  Correlation  Identifier  is  used  to  associate  a  request  message  with  its  response  
message.  For  request  messages,  the  OLT  selects  any  transaction  identifier.  A  response  message  
carries the transaction identifier of the message to which it is responding. The transaction identifier  
of event messages is 0x0000.  

As  explained  in  9.2/G.983.2,  the  most  significant  bit  of  the  Transaction  Correlation  Identifier  is  
used to indicate the priority of the message. The following coding will be used: 0 = low priority,  
1 = high  priority.  The  OLT  decides  whether  a  command  should  be  executed  with  low  or  high  
priority.  

The  mechanism  that  the  OLT  uses  to  assign  the  rest  of  the  bits  of  the  Transaction  Correlation  
Identifier in an acknowledged command is not standardized and is left to the implementers.  

However, since the Transaction Correlation Identifier is used to match a command from the OLT to  
the  ONT  with  a  response  from  the  ONT  to  the  OLT,  some  care  is  required  in  the  choice  of  the  
Transaction Correlation Identifier. The OLT must assign the Transaction Correlation Identifier in  
such a way that, whenever it sends a command with a Transaction Correlation Identifier that has  
been  used  before  in  another  command  to  the  same  ONT,  it  is  guaranteed  with  sufficiently  high  
probability that no response for the first command will be received.  

11.1.4     Message Type  

The Message Type field is subdivided into four parts. These are given in Figure 14.  
  
                         8           7          6           5                                              1  
                        DB         AR          AK                                 MT  

                               Figure 14/G.984.4 −− Message type field subdivision  
                                                         −− 

The  most  significant  bit,  bit  8,  is  reserved  for  the  destination  bit  (DB).  In  the  OMCI  this  bit  is  
always 0.  

Bit 7,  Acknowledge  Request  (AR),  is  used  to  indicate  whether  or  not  the  message  requires  an  
acknowledgement. If an acknowledgement is expected, this bit is set to "1". If no acknowledgement  
is expected, the coding of this bit is "0". Note that "acknowledge" means a response to an action  
request, not an acknowledgement at the link layer.  

Bit 6,    Acknowledgement            (AK),      is  used     to   indicate     whether      or   not    this   message       is   an  
acknowledgement to an action request. If a message is an acknowledgement, this bit is set to "1". If  
the message is not a response, this bit is set to "0".  

Bit 5 to bit 1, Message Type (MT), are used to indicate the message type. Codes 0 to 3 and 29 to 31  
are reserved for future use. Codes 4 to 28 are used by this specification. Table 17 lists the message  
types that are defined.  

                                                                                   ITU-T Rec. G.984.4 (06/2004)                    61  

----------------------- Page 68-----------------------

                                                                 

                                    Table 17/G.984.4 −− OMCI message types  
                                                            −− 

                                                                                                                  Inc MIB 
  MT                Type                                         Purpose                                 AK  
                                                                                                                  data sync. 

    4     Create                      Create a managed entity instance with its attributes               yes          yes  

    5     Create complete             Create an instance of ATM VP/VC Cross-Connection                   yes          yes  
          connection                  ME and two associated instances of VP Network  
                                      CTP-G or VC Network CTP-G ME.  

    6     Delete                      Delete a managed entity instance                                   yes          yes  

    7     Delete complete             Delete an instance of ATM VP/VC Cross-Connection                   yes          yes  
          connection                  ME and two associated instances of VP Network  
                                      CTP-G or VC Network CTP-G ME  

    8     Set                         Set one or more attributes of a managed entity                     yes          yes  

    9     Get                         Get one or more attributes of a managed entity                     yes          no  

   10     Get complete                Get all attributes of an instance of ATM VP/VC                     yes          no  
          connection                  Cross-Connection ME and the attributes of the  
                                      associated instances of VP Network CTP-G or VC  
                                      Network CTP-G  

   11     Get all alarms              Latch the alarm statuses of all managed entities and               yes          no  
                                      reset the alarm message counter  

   12     Get all alarms next         Get the active alarm status of the next managed entity              yes          no  

   13     MIB upload                  Latch the MIB                                                      yes           no  

   14     MIB upload next             Get latched attributes of a managed entity instance                 yes          no  

   15     MIB reset                   Clear the MIB and re-initialize it to its default and              yes          no  
                                      reset the MIB data sync counter to 0  

   16     Alarm                       Notification of an alarm                                            no           no  

   17     Attribute value change  Notification of an autonomous attribute value change                    no           no  

   18     Test                        Request a test on a specific managed entity                         yes          no  

   19     Start software              Start a software download action                                   yes          yes  
          download  

   20     Download section            Download a section of a software image                           yes/no         no  

   21     End software                End of a software download action                                  yes          yes  
          download  

   22     Activate software           Activate the downloaded software image                             yes          yes  

   23     Commit software             Commit the downloaded software image                               yes          yes  

   24     Synchronize Time            Synchronize the time between OLT and ONT                           yes          no  

   25     Reboot                      Reboot ONT, Subscriber Line Card or PON IF Line                    yes          no  
                                      Card  

   26     Get next                    Get the latched attribute values of the managed entity             yes          no  
                                      within the current snapshot  

   27     Test result                 Notification of test result that is initiated by "Test"             no          no  

   28     Get current data            Get current counter value associated with one or more              yes          no  
                                      attributes of a managed entity  

 NOTE – The "Download section" action is only acknowledged for the last section within a window.  
 See Appendix I.2.15/G.983.2.  

62          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 69-----------------------

                                                                  

11.1.5     Device identifier  

For systems based on ITU-T Rec. G.984.3, this field is defined as 0x0A.  

11.1.6     Message identifier  

The message identifier consists of four bytes. The first, most significant, 2 bytes of the message  
identifier field are used to indicate which managed entity is the target of the action specified in the  
message  type.  The  maximum  number  of  possible  managed  entities  is  thus  65535.  The  least  
significant  two  bytes  of  this  message  identifier  field  are  used  to  identify  the  managed  entity  
instance.  The  number  of  bytes  for  each  managed  entity  instance  is  defined  in  clause  9.  The  
summation of the number of bytes in message identifier field and the number of bytes available in  
the message contents field shall be 36 bytes because the ONT management and control protocol cell  
format is 53 bytes long.  

Table 18 gives the managed entities and their class values in the OMCI. Depending on the managed  
entity, there will be only one (e.g., ONT-G) or several (e.g., VP Network CTP-G) instances.  

                                 Table 18/G.984.4 −− Managed entity identifiers  
                                                         −− 

            Managed entity  
                                                                  Managed entity  
               class value  

                     1             --------------------------(intentionally left blank)  

                     2             ONT Data  

                     3             PON IF Line Cardholder  

                     4             --------------------------(intentionally left blank)  

                     5             Subscriber Line Cardholder  

                     6             Subscriber Line Card  

                     7             Software Image  

                     8             UNIB-PON  

                     9             TC AdapterB-PON  

                     10            Physical Path Termination Point ATM UNI  

                     11            Physical Path Termination Point Ethernet UNI  

                     12            Physical Path Termination Point CES UNI  

                     13            Logical N × 64 kbit/s Sub-port Connection Termination Point  

                     14            --------------------------(intentionally left blank)  

                     15            AAL1 Profile           
                                                   B-PON 

                     16            AAL5 Profile           
                                                   B-PON 

                     17            AAL1 Protocol Monitoring History Data                  
                                                                                  B-PON 

                     18            AAL5 Protocol Monitoring History Data                  
                                                                                  B-PON 

                     19            AAL2 Profile  

                    20             --------------------------(intentionally left blank)  

                    21  
                                   CES Service Profile B-PON  

                    22             (Reserved)  

                    23             CES Physical Interface Monitoring History Data  

                    24             Ethernet Performance Monitoring History Data  

                    25             --------------------------(intentionally left blank)  

                                                                                ITU-T Rec. G.984.4 (06/2004)                 63  

----------------------- Page 70-----------------------

                                                                 

                                Table 18/G.984.4 −− Managed entity identifiers  
                                                        −− 

            Managed entity  
                                                                 Managed entity  
               class value  

                    26            ATM VP Cross-Connection  

                    27            --------------------------(intentionally left blank)  

                    28            DBR/CBR Traffic Descriptor  

                    29            UBR Traffic Descriptor  

                    30            SBR1/VBR1 Traffic Descriptor  

                    31            SBR2/VBR2 Traffic Descriptor  

                    32            SBR3/VBR3 Traffic Descriptor  

                    33            ABR Traffic Descriptor  

                    34            GFR Traffic Descriptor  

                    35            ABT/DT/IT Traffic Descriptor  

                    36            UPC Disagreement Monitoring History DataB-PON  

                    37            --------------------------(intentionally left blank)  

                    38            --------------------------(intentionally left blank)  

                    39            --------------------------(intentionally left blank)  

                    40            PON Physical Path Termination Point  

                    41            TC Adapter Protocol Monitoring History Data  

                    42            --------------------------(intentionally left blank)  

                    43            Operator Specific  

                    44            Vendor Specific  

                    45            MAC Bridge Service Profile  

                    46            MAC Bridge Configuration Data  

                    47            MAC Bridge Port Configuration Data  

                    48            MAC Bridge Port Designation Data  

                    49            MAC Bridge Port Filter Table Data  

                    50            MAC Bridge Port Bridge Table Data  

                    51            MAC Bridge PM History Data  

                    52            MAC Bridge Port PM History Data  

                    53            Physical Path Termination Point POTS UNI  

                    54            Voice CTP  

                    55            Voice PM History Data  

                    56            AAL2 PVC ProfileB-PON  

                    57            AAL2 CPS Protocol Monitoring History DataB-PON  

                    58            Voice Service Profile AAL  

                    59            LES Service Profile  

                    60            AAL2 SSCS Parameter Profile1  

                    61            AAL2 SSCS Parameter Profile2  

                    62            VP PM History Data  

64          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 71-----------------------

                                                      

                     Table 18/G.984.4 −− Managed entity identifiers  
                                            −− 

Managed entity  
                                                      Managed entity  
   class value  

         63           --------------------------(intentionally left blank)  

         64           --------------------------(intentionally left blank)  

         65           UBR+ Traffic Descriptor  

         66           AAL2 SSCS Protocol Monitoring History DataB-PON  

         67           IP Port Configuration Data  

         68           IP Router Service Profile  

         69           IP Router Configuration Data  

         70           IP Router PM History Data 1  

         71           IP Router PM History Data 2  

         72           ICMP PM History Data1  

         73           ICMP PM History Data 2  

         74           IP Route Table  

         75           IP Static Routes  

         76           ARP Service Profile  

         77           ARP Configuration Data  

         78           VLAN Tagging Operation Configuration Data  

         79           MAC Bridge Port Filter Pre-assign Table  

         80            Physical Path Termination Point ISDN UNI  

         81            (Reserved)  

         82            Physical Path Termination Point Video UNI  

         83            Physical Path Termination Point LCT UNI  

         84            VLAN Tagging Filter Data  

         85            --------------------------(intentionally left blank)  

         86            ATM VC Cross-Connection  

         87            --------------------------(intentionally left blank)  

         88            VC PM History Data  

         89            Ethernet Performance Monitoring History Data 2  

         90           Physical Path Termination Point Video ANI  

         91           Physical Path Termination Point 802.11 UNI  

         92           802.11 Station Management data 1  

         93           802.11 Station Management data 2  

         94           802.11 General Purpose Object  

         95           802.11 MAC&PHY Operation and Antenna Data  

         96           802.11 Counters  

         97           802.11 PHY FHSS DSSS IR Tables  
         98           Physical Path Termination Point ADSL UNI Part 1  

                                                                   ITU-T Rec. G.984.4 (06/2004)                 65  

----------------------- Page 72-----------------------

                                                              

                               Table 18/G.984.4 −− Managed entity identifiers  
                                                     −− 

           Managed entity  
                                                              Managed entity  
              class value  

                   99           Physical Path Termination Point ADSL UNI Part 2  

                   100           ADSL Line Inventory and Status Data Part 1  

                   101           ADSL Line Inventory and Status Data Part 2  

                   102           ADSL Channel Downstream Status Data   

                   103           ADSL Channel Upstream Status Data  

                   104           ADSL Line Configuration Profile Part 1  

                   105           ADSL Line Configuration Profile Part 2  

                   106           ADSL Line Configuration Profile Part 3  

                   107           ADSL Channel Configuration Profile  

                   108           ADSL Subcarrier Mask Downstream Profile  

                   109           ADSL Subcarrier Mask Upstream Profile  

                   110           ADSL Downstream PSD Mask Profile  

                   111           ADSL Downstream RFI Bands Profile  

                   112           ADSL ATU-C Performance Monitoring History Data  

                   113           ADSL ATU-R Performance Monitoring History Data  

                   114           ADSL ATU-C Channel Performance Monitoring History Data  

                   115           ADSL ATU-R Channel Performance Monitoring History Data  

                   116           TC Adaptor Performance Monitoring History Data ADSL  

                   117           Physical Path Termination Point VDSL UNI  

                   118           VDSL VTU-O Physical Data  

                   119           VDSL VTU-R Physical Data  

                   120           VDSL Channel Data  

                   121           VDSL Line Configuration Profile  

                   122           VDSL Channel Configuration Profile  

                   123           VDSL Band Plan Configuration Profile  

                   124           VDSL VTU-O Physical Interface Monitoring History Data  

                   125           VDSL VTU-R Physical Interface Monitoring History Data  

                   126           VDSL VTU-O Channel Performance Monitoring History Data  

                   127           VDSL VTU-R Channel Performance Monitoring History Data  

                128..255         Reserved for future B-PON managed entities  

                  256           ONT-G  

                  257           ONT2-G  

                  258           ONU-G  

                  259           ONU2-G  

                  260           PON IF Line Card-G  

                  261           PON TC Adapter-G  

                  262           T-CONT  

66         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 73-----------------------

                                                               

                               Table 18/G.984.4 −− Managed entity identifiers  
                                                      −− 

           Managed entity  
                                                               Managed entity  
              class value  

                   263           ANI-G  

                   264           UNI-G  

                   265           ATM Interworking VCC Termination Point  

                   266           GEM Interworking Termination Point  

                   267           GEM Port Protocol Monitoring History Data  

                   268           GEM Port Network CTP  

                   269           VP Network CTP-G  

                   270           VC Network CTP-G  

                   271           GAL TDM Profile  

                   272           GAL Ethernet Profile  

                   273           Threshold Data1  

                   274           Threshold Data2  

                   275           GAL TDM Protocol Monitoring History Data  

                   276           GAL Ethernet Protocol Monitoring History Data  

                   277           Priority Queue-G  

                   278           Traffic Scheduler-G  

                   279           Protection Data  

              280..65535         Reserved  

11.1.7    Message contents  

The layout of the message contents field is message specific. The detailed layout of all messages is  
given in Appendix II.  

11.1.8    OMCI trailer  

AAL5 trailer is reused in this field. The eight bytes of this field are used as follows:  
a)        The first two bytes are set to 0x0000 at the transmitter and ignored at the receiver. (They  
          correspond to CPCS-UU and CPI.)  
b)        The length of the CPCS-SDU field is set to 0x0028.  
c)        The 32-bit CRC is as specified in ITU-T Rec. I.363.5.  

11.2      Message flow control and error recovery  

See 9.2/G.983.2.   

11.3      OMCI handling within the ONT  

11.3.1    Prioritized protocol entities  

This clause specifies the behaviour of the ONT more precisely than in the preceding clause with  
respect to the prioritized request mechanism of the OMCC.   

Conceptually, the way the ONT handles the OMCC requests can be illustrated by referring to the  
dual priority level implementation example shown in Figure 15.  

                                                                            ITU-T Rec. G.984.4 (06/2004)              67  

----------------------- Page 74-----------------------

                                                                

When the ONT receives an ATM cell or GEM packet via the VCC or GEM port associated with the  
management channel, it shall calculate the CRC and compare it with the value found in the OMCI  
trailer. If the values do not match, the ONT shall discard the message. It is recommended that this  
event  be  logged  by  the  ONT  and  possibly  communicated  to  the  OLT  by  some  out-of-band  
mechanism but, as far as the protocol is concerned, the message is discarded silently.  

Messages  with  a  correct  CRC  are  then  placed  into  either  of  two  distinct  incoming  FIFO-based  
message queues, according to the priority level (i.e., high or low) of the associated command. Note  
that  the  priority  level  of  a  given  command  is  encoded  using  the  most  significant  bit  of  the  
transaction correlation Identifier field. If the associated incoming message queue is already full, the  
ONT must simply discard the message. It is recommended that this event be logged by the ONT and  
possibly communicated to the OLT by some out-of-band mechanism but, as far as the protocol is  
concerned, the message is discarded silently.  

There are two distinct incoming command processing protocol entities (one associated with each  
priority  level)  that  are  used  to  service  messages  sequentially  from  an  independently  associated  
incoming FIFO queue. Each of these protocol entities can execute concurrently. If a message is a  
one-way command (i.e., an unacknowledged command), the protocol entity will simply have the  
command executed. If a message is an acknowledged command, the protocol entity must first look  
at the Transaction Correlation Identifier. If it is not equal to the Transaction Correlation Identifier of  
the last executed command with the same priority level, the protocol entity will have the command  
executed   and   place   the   response/acknowledgement   (with   identical   Transaction   Correlation  
Identifier)  in  the  outgoing  FIFO  queue  of  the  same  priority  level.  If  the  Transaction  Correlation  
Identifier is equal to that of the last executed command with the same priority level (i.e., the case  
where the controller retransmits a command due to lack of proper acknowledgement), the protocol  
entity will not actually have the command executed but simply will place the response from the last  
execution      of   that   command        in   the   outgoing      FIFO     queue     (i.e.,   re-send    the    previous  
acknowledgement  response).  It  is  assumed  that  in  both  cases  the  command  processing  protocol  
entity for a given priority level will block until there is room in the associated outgoing FIFO queue  
for the response message.  

In  the  other  direction,  requests  by  the  applications  to  send  autonomous  event  notifications  will  
simply result in the corresponding messages being directed to an event notification protocol entity  
for  transmission  to  the  OLT.  The  event  notification  protocol  entity  will  forward  these  event  
notification  messages  to  the  low  priority  outgoing  FIFO  queue.  In  this  case  as  well,  the  event  
notification protocol entity will block until there is room in the low priority outgoing FIFO queue to  
hold the notification message. The CRC generator will remove messages from the outgoing FIFO  
queues using a strict priority discipline (i.e., the low-priority queue will only be serviced when the  
high-priority queue is empty), generate a CRC, append a properly-formatted OMCI trailer to the  
cell/packet payload, and transmit the message to the OLT.  

68          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 75-----------------------

                                                                            

                                                                                                                                                       

                                 Figure 15/G.984.4 −− Protocol entities within the ONT  
                                                              −− 

11.3.2      Restrictions on the actions in relation to the protocol entities  

To reduce the complexity and the amount of memory necessary in the ONT, the OLT is not allowed  
to issue a MIB Upload or a Software Download of a certain priority level while a similar action in  
the other priority level is in progress.  

                                                                                             ITU-T Rec. G.984.4 (06/2004)                          69  

----------------------- Page 76-----------------------

                                                              

                                                   Appendix I  
                                                              
                             OMCI common mechanisms and services  

This appendix describes the common mechanisms of the OMCI, e.g., the MIB resynchronization,  
and the OMCI services, e.g., the equipment management or connection management.  

I.1       Common mechanisms  

See Appendix I.1/G.983.2.  

I.2       Common services  

The common services consist of:  
a)        Start-up phase of ONT;  
b)        on demand subscriber line card provisioning;  
c)        on demand subscriber line card de-provisioning;  
d)        plug-and-play subscriber line card provisioning;  
e)        plug-and-play subscriber line card de-provisioning;  
f)        ATM VP Cross-Connection set-up;  
g)        ATM VP Cross-Connection tear-down;  
h)        structured/unstructured CES service connection set-up (ATM mode);  
i)        structured/unstructured CES service connection tear-down (ATM mode);  
j)        Ethernet connection set-up;  
k)        Ethernet connection tear-down;  
l)        software image download;  
m)        software image changes;  
n)        MAC bridge service connection set-up (ATM mode);  
o)        MAC bridge service connection tear-down (ATM mode);  
p)        addition of entries to MAC Filter Table;  
q)        removal of entries from MAC Filter Table;  
r)        voice service connection set-up;  
s)        voice service connection tear-down;  
t)        IP Router service connection set-up;  
u)        IP Router service connection tear-down;  
v)        addition of entries to IP Static Routes;  
w)        removal of entries from IP Static Routes;  
x)        MAC bridge service connection set-up (GEM mode);  
y)        MAC bridge service connection tear-down (GEM mode);  
z)        structured CES service connection set-up (GEM mode); and  
aa)       structured CES service connection tear-down (GEM mode).  

Services a) – w) are described in Appendix I.2/G.983.2 and Appendix I.1/G.983.8. These services  
are  also  used  in  G-PON.  Please  note  that  the  managed  entities  are  the  ones  defined  in  this  
Recommendation even though the sequences are referred to ITU-T Rec. G.983.2.  

70         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 77-----------------------

                                                                        

I.2.1       MAC bridge service connection set-up (GEM mode)  

Figures I.1 and I.2 show the scenario for MAC bridge service connection set-up for an ONT. Note  
that  the  GAL  Ethernet  Profile  can  be  shared  among  multiple  instances  of  GEM  Interworking  
Termination  Point  ME.  No  creation  of  the  profile  is  needed  if  a  new  GEM  Interworking  
Termination  Point  is  associated  with  an  existing  profile.  Also,  the  OLT  may  want  to  create  
corresponding History Data managed entities for the connection.  

                                                                                                                                               

                       Figure I.1/G.984.4 −− Connection set-up for MAC bridge service  
                                                   −− 

                                                                                        ITU-T Rec. G.984.4 (06/2004)                       71  

----------------------- Page 78-----------------------

                                                                         

                                                                                                                                                 

              Figure I.2/G.984.4 −− Connection set-up for MAC bridge service (continued)  
                                           −− 

I.2.2       MAC bridge service connection tear-down (GEM mode)  

Figure I.3 shows the scenario of the MAC bridge service connection tear-down. If applicable, the  
OLT  must  delete  the  corresponding  History  Data  managed  entities  as  well.  Note  that  the  GAL  
Ethernet  Profile  instances  can  be  shared  among  multiple  GEM  Interworking  Termination  Point  
instances.  If  there  are  more  GEM  Interworking  Termination  Point  instances  associated  with  this  
profile managed entity instances, the OLT may not request to delete it.   

72           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 79-----------------------

                                                                        

                                                                                                                                              

                    Figure I.3/G.984.4 −− Connection tear-down for MAC bridge service  
                                                −− 

I.2.3       Structured CES service connection set-up (GEM mode)  

Figure I.4 shows the scenario for the connection set-up of a structured CES service. Note that CES  
Service  ProfileB-PON  and  GAL  TDM  Profile  can  be  shared  among  multiple  GEM  Interworking  
Termination  Point  instances.  No  creation  of  those  profiles  is  needed  if  the  GEM  Interworking  
Termination Point is pointing to an existing profile.   

Also,  the  OLT  might  want  to  create  corresponding  History  Data  managed  entities  for  the  
connection.  

                                                                                       ITU-T Rec. G.984.4 (06/2004)                       73  

----------------------- Page 80-----------------------

                                                                                      

                                                                                                                                                                           

                               Figure I.4/G.984.4 −− Connection set-up of a structured CES  
                                                                 −− 

  74            ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 81-----------------------

                                                                       

I.2.4      Structured CES service connection tear-down (GEM mode)  

Figure I.5 shows the scenario of the structured CES service connection tear-down. If applicable, the  
OLT must delete the corresponding History Data managed entities as well. Note that CES Service  
ProfileB-PON and GAL TDM Profile can be shared among multiple GEM Interworking Termination  
Point instances. If there are more GEM Interworking Termination Point instances associated with  
these profile managed entities, the OLT may not request to delete them.  

                                                                                                                     

                 Figure I.5/G.984.4 −− Connection tear-down of a structured CES service  
                                             −− 

                                                                                       ITU-T Rec. G.984.4 (06/2004)                      75  

----------------------- Page 82-----------------------

                                                              

                                                   Appendix II  
                                                              
                                              OMCI message set  

II.1      General remarks  

II.1.1    Message type identifier  

The message types are given in 11.1.4.  

II.1.2    Entity Class identifier  

The entity class identifiers are given in 11.1.6.  

II.1.3    Result and reason  

Responses to commands can indicate the result of the command. A value of "null" will indicate that  
the command was processed successfully. Non-null values will indicate the reason of the failure. If  
the result was "failure", the rest of the message contents will be filled with all 0x00s. The definition  
of each result and reason is as follows:  

1)        Command processed successfully  
          There are two functions for command processing: command interpretation and command  
          execution. This result means that the received command, such as Get/Set/Test/Reboot, was  
          properly interpreted by the ONT's command interpretation function without errors and that  
          the  interpreted  command  was  successfully  transferred  to  the  ONT's  command  execution  
          function.  
2)        Command processing error  
          This  result  means  the  command  processing  failed  at  the  ONT  due  to  some  reason  not  
          described by item 3), 4), etc.  
3)        Command not supported  
          This result means that the message type indicated in Byte 8 is not supported by the ONT.  
4)        Parameter error  
          This result means that the command message received by the ONT was errored.  
5)        Unknown managed entity  
          This  result  means  that  the  managed  entity  class  indicated  in  Bytes  10  and  11  is  not  
          supported by the ONT.  
6)        Unknown managed entity instance  
          This result means that the managed entity instance indicated in Bytes 12 and 13 does not  
          exist in the ONT.  
7)        Device busy  
          This  result  means  that  the  command  could  not  be  processed  due  to  process-related  
          congestion at the ONT.  
8)        Attribute(s) failed or unknown  
          This  result  means  that  an  optional  attribute  is  not  supported  by  the  ONT  or  that  a  
          mandatory/optional attribute could not be executed by the ONT, even if it is supported. In  
          conjunction with this result, attribute masks are used to indicate which attributes failed or  
          were unknown.  

76         ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 83-----------------------

                                                                  

           The following two kinds of attribute masks are used when this result/reason is raised:  
           –    optional attribute mask coding, which indicates whether or not the optional attribute is  
                supported;  
           –    attribute execution mask coding, which indicates whether or not the mandatory/optional  
                attribute was executed.   
           See Set response and Get response message layouts (Appendices II.2.10 and II.2.12) for the  
           placement of these masks.  
           If  one  or  more  optional  attributes  are  not  supported  by  the  ONT,  the  "optional  attribute  
           mask coding" for each  unsupported optional attribute becomes 1 while the corresponding  
           "attribute execution mask coding" remains 0.  
           If  one  or  more  mandatory  or  optional  attributes  were  not  executed  by  the  ONT,  the  
           "optional  attribute  mask  coding"  remains  0,  while  the  "attribute  execution  mask  coding"  
           becomes 1 for each failed  attribute.  

9)         Instance exists  
           This result means that the ONT already has a managed entity instance that corresponds to  
           the one the OLT is attempting to create.  

II.1.4     Get, Get response and Set messages  

For  an  attribute  mask,  a  bitmap  is  used  in  the  "Get",  "Get  response"  and  "Set"  messages.  This  
bitmap  indicates  which  attributes  are  requested  (Get)  or  provided  (Get  response  and  Set).  The  
bitmap is composed as follows (see Table II.1):  

                                   Table II.1/G.984.4 −− Attribute mask coding  
                                                             −− 

                                                                    Bit  
  Byte  
                8             7              6              5               4              3              2              1  

    1      Attribute 1   Attribute 2    Attribute 3    Attribute 4    Attribute 5    Attribute 6     Attribute 7    Attribute 8  
    2      Attribute 9   Attribute 10   Attribute 11   Attribute 12   Attribute 13   Attribute 14   Attribute 15   Attribute 16 

The  attribute  numbers  correspond  to  the  ordering  of  the  attributes  in  clause  9.  Note  that  the  
Managed Entity identifier, which is an attribute of each managed entity, has no corresponding bit in  
the attribute mask. Thus, the attributes are counted starting from the first attribute after the Managed  
Entity identifier.  

II.1.5     Alarm notifications  

The ONT will send this notification each time an alarm status has changed for the entity indicated  
in the message identifier. The message shows the status of all alarms of this entity. It is up to the  
OLT to determine which alarm status has changed.  

The  maximum  number  of  alarms  that  is  supported  by  the  OMCI  is  224  because  of  the  available  
message field of Get All Alarm Next message. The bitmap is composed as follows (see Table II.2):  

                                                                                ITU-T Rec. G.984.4 (06/2004)                   77  

----------------------- Page 84-----------------------

                                                                  

                                     Table II.2/G.984.4 −− Alarm mask coding  
                                                               −− 

                                                                   Bit  
  Byte  
                 8             7              6              5              4              3              2              1  

    1      Alarm 0        Alarm 1        Alarm 2        Alarm 3        Alarm 4        Alarm 5       Alarm 6        Alarm 7  

    2      Alarm 8        Alarm 9        Alarm 10      Alarm 11       Alarm 12       Alarm 13       Alarm 14       Alarm 15  

    …                                                                                                                
                                                                                                      
   28      Alarm 216      Alarm 217      Alarm 218     Alarm 219      Alarm 220      Alarm 221      Alarm 222      Alarm 223 

The  alarm  numbers  correspond  to  the  alarm  coding  in  clause  9.  Bits  in  the  alarm  bitmap  that  
correspond to non-existing alarms shall always be set equal to "0". Bits that correspond to existing  
alarms are set to a value of "0" to indicate that the corresponding alarm is cleared or a value of "1"  
to indicate that the alarm has been raised.  

Alarm message sequence numbers can obtain values in the interval 1 to 255. Zero is excluded in  
order to make this counter similar to the MIB data sync counter.  

II.1.6     Test, Test response and Test result  

The descriptions below indicate how Test, Test response and Test result are related.  

Test:                 This message is used to initiate either a self test or an MLT test (or additional tests  
                     defined in future).  

Test response:  This  message  is  an  immediate  reaction  to  a  Test  message.  The  "Test  response"  
                     message  reports  the  ability  of  the  ONT  to  run  the  required  test,  but  it  does  not  
                     contain any specific results.  

Test result:          This message is used to report the result of either a self test (requested by the OLT)  
                     or   an   MLT   test   (or   additional   test   defined   in   future).   In   the   case   of   an  
                     AUTONOMOUS   self   test,   the   Test   result   notification   is   not   used.   Instead,  
                     notification is sent to the OLT via an alarm ONLY if the managed entity fails its  
                     autonomous self test.  

A test on a particular managed entity instance is invoked by sending a Test message to this instance.  
Each managed entity that supports tests needs to have an action "Test" defined for it. The type of  
test that is invoked by a Test message depends on the managed entity.   

The  "Test  response"  message  is  an  indication  to  the  OLT  that  the  test  request  is  received  and  is  
being processed. The results of a requested test will be sent to the OLT via a specific "Test result"  
message.  

The  "Test  response"  message  will  be  sent  immediately  after  the  Test  message  is  received  (i.e.,  
within  the  normal  response  time).  The  transaction  identifier  of  the  "Test  response"  message  is  
identical to the transaction identifier of the Test message that requested the test.  

78          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 85-----------------------

                                                                       

II.2       Message layout  

II.2.1     Create  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     1     0                                DB = 0, AR = 1, AK = 0  
                                                                                           bits 5-1: action = create  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance   

                                    13                                                     lsb entity instance  

  Message contents                  14                                                     attribute value of first Set-by-create  
                                                                                           attribute (size depending on the  
                                                                                           type of attribute)  

                                                                                           …  

                                                                                           attribute value of last Set-by-create  
                                                                                           attribute (size depending on the  
                                                                                           type of attribute)  

                                  xx-45       0     0    0     0     0    0     0     0    padding  

It should be noted that the message contents for the "Create" message apply only to attributes that  
are "Set-by-create". Thus, the first byte of Message Contents field begins with the attribute value  
for the first Set-by-create attribute and so forth.  

II.2.2     Create response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = create  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance   

                                    13                                                     lsb entity instance  

  Message contents                  14        0     0     0    0     x    x     x     x    result, reason  
                                                                                           0000 = command processed  
                                                                                                     successfully  
                                                                                           0001 = command processing error  
                                                                                           0010 = command not supported  
                                                                                           0011 = parameter error  
                                                                                           0100 = unknown managed entity  
                                                                                           0101 = unknown managed entity  
                                                                                                     instance  
                                                                                           0110 = device busy  
                                                                                           0111 = instance exists  

                                  15-45       0     0    0     0     0    0     0     0    padding  

                                                                                      ITU-T Rec. G.984.4 (06/2004)                     79  

----------------------- Page 86-----------------------

                                                                    

II.2.3     Create Complete Connection  
  

            Field                Byte       8     7    6     5    4    3     2    1                   Comments  

  Transaction identifier          6-7                                                    

 Message type                      8        0     1    0                               DB = 0, AR = 1, AK = 0  
                                                                                       bits 5-1: action = create complete  
                                                                                       connection  

 Device identifier type            9        0     0    0     0    1    0     1    0    OMCI = 0x0A  

 Message identifier               10-11                                                entity class   

                                   12                                                  msb entity instance   

                                   13                                                  lsb entity instance  

 Message contents                 14-15                                                ani VP Network CTP-G or VC  
                                                                                       Network CTP-G instance  

                                  16-17                                                uni VP Network CTP-G or VC  
                                                                                       Network CTP-G instance  

                                  18-19                                                PON TC Adapter-G pointer for  
                                                                                       ANI side  

                                  20-21                                                UNI-G/UNIB-PON pointer for UNI  
                                                                                       side  

                                  22-23                                                VPI for ANI side  

                                  24-25                                                VPI for UNI side  

                                  26-27                                                VCI of ANI side for VC  
                                                                                       cross-connection creation,  
                                                                                       otherwise 0x0000  

                                  28-29                                                VCI of UNI side for VC  
                                                                                       cross-connection creation,  
                                                                                       otherwise 0x0000  

                                   30       0     0    0     0    0    0     x    x    direction  
                                                                                       01 = uni-to-ani  
                                                                                       10 = ani-to-uni  
                                                                                       11 = bidirectional  

                                  31-32                                                Priority Queue pointer for  
                                                                                       Upstream in ANI side  

                                  33-34                                                Priority Queue pointer for  
                                                                                       Downstream in UNI side  

                                  35-36                                                Traffic Descriptor Profile pointer  
                                                                                       for ani VP Network CTP-G or VC  
                                                                                       Network CTP-G  

                                  37-38                                                Traffic Descriptor Profile pointer  
                                                                                       for uni VP Network CTP-G or VC  
                                                                                       Network CTP-G  

                                   39                                                  Administrative State for  
                                                                                       cross-connection  

                                  40-45     0     0    0     0    0    0     0    0    padding  

80          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 87-----------------------

                                                                      

II.2.4     Create Complete Connection response  
  

            Field                 Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0     0    1                                DB = 0, AR = 0, AK = 1  
                                                                                          bits 5-1: action = create complete  
                                                                                          connection  

  Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class  

                                    12                                                    msb entity instance   

                                    13                                                    lsb entity instance  

  Message contents                  14        0     0    0     0    x     x    x     x    result, reason  
                                                                                          0000 = command processed  
                                                                                                    successfully  
                                                                                          0001 = command processing error  
                                                                                          0010 = command not supported  
                                                                                          0011 = parameter error  
                                                                                          0100 = unknown managed entity  
                                                                                          0101 = unknown managed entity  
                                                                                                    instance  
                                                                                          0110 = device busy  
                                                                                          0111 = instance exists  

                                  15-45       0     0    0     0    0     0    0     0    padding  

II.2.5     Delete  
  

            Field                 Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0     1    0                                DB = 0, AR = 1, AK = 0  
                                                                                          bits 5-1: action = delete  

  Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class  

                                    12                                                    msb entity instance  

                                    13                                                    lsb entity instance  

  Message contents                14-45       0     0    0     0    0     0     0    0    padding  

                                                                                     ITU-T Rec. G.984.4 (06/2004)                     81  

----------------------- Page 88-----------------------

                                                                       

II.2.6     Delete response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = delete  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class  

                                    12                                                     msb entity instance   

                                    13                                                     lsb entity instance  

  Message contents                  14                                                     result, reason  
                                                                                           0000 = command processed  
                                                                                                     successfully  
                                                                                           0001 = command processing error  
                                                                                           0010 = command not supported  
                                                                                           0011 = parameter error  
                                                                                           0100 = unknown managed entity  
                                                                                           0101 = unknown managed entity  
                                                                                                     instance  
                                                                                           0110 = device busy  

                                  15-45       0     0    0     0     0    0     0     0    padding  

II.2.7     Delete Complete Connection  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8       0     1     0                                 DB = 0, AR = 1, AK = 0  
                                                                                           bits 5-1: action = delete complete  
                                                                                           connection  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance  

                                    13                                                     lsb entity instance  

  Message contents                14-45       0     0     0    0     0    0     0     0    padding  

II.2.8     Delete Complete Connection response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = delete complete  
                                                                                           connection   

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class  

                                    12                                                     msb entity instance  

                                    13                                                     lsb entity instance  

82           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 89-----------------------

                                                                        

             Field                 Byte        8     7    6     5     4     3    2     1                    Comments  

  Message contents                   14        0     0    0     0     x     x    x     x    result, reason  
                                                                                            0000 = command processed  
                                                                                                      successfully  
                                                                                            0001 = command processing error  
                                                                                            0010 = command not supported  
                                                                                            0011 = parameter error  
                                                                                            0100 = unknown managed entity  
                                                                                            0101 = unknown managed entity  
                                                                                                      instance  
                                                                                            0110 = device busy  

                                  15-45        0     0    0     0     0    0     0     0    padding  

II.2.9      Set  
  

             Field                 Byte        8     7    6     5     4     3    2     1                    Comments  

  Transaction identifier            6-7                                                       

  Message type                       8         0     1    0                                 DB = 0, AR = 1, AK = 0  
                                                                                          
                                                                                            bits 5-1: action = set  

  Device identifier type             9         0     0    0     0     1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                     entity class   

                                    12                                                      msb entity instance  

                                    13                                                      lsb entity instance  

  Message contents                   14                                                     msb attribute mask  

                                    15                                                      lsb attribute mask  

                                    16                                                      attribute value of first attribute to  
                                                                                            set (size depending on the type of  
                                                                                            attribute)  

                                                                                            …  

                                                                                            attribute value of last attribute to set  
                                                                                            (size depending on the type of  
                                                                                            attribute)  

                                  xx-45        0     0    0     0     0    0     0     0    padding  

II.2.10  Set response  
  

            Field                 Byte       8     7     6     5    4     3    2     1                     Comments  

  Transaction identifier           6-7                                                      

  Message type                      8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                          bits 5-1: action = set  

  Device identifier type            9        0     0     0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier             10-11                                                    entity class  

                                    12                                                    msb entity instance  

                                    13                                                    lsb entity instance  

                                                                                       ITU-T Rec. G.984.4 (06/2004)                      83  

----------------------- Page 90-----------------------

                                                                     

            Field                Byte       8    7     6    5    4     3    2    1                    Comments  

 Message contents                 14        0    0     0    0    x     x    x    x    result, reason  
                                                                                      0000 = command processed  
                                                                                                successfully  
                                                                                      0001 = command processing error  
                                                                                      0010 = command not supported  
                                                                                      0011 = parameter error  
                                                                                      0100 = unknown managed entity  
                                                                                      0101 = unknown managed entity  
                                                                                                instance  
                                                                                      0110 = device busy   

                                                                                       1001=attribute(s) failed or unknown  

                                  15                                                  "optional attribute" mask (attributes  
                                                                                       1-8), used with "1001" encoding:  

                                                                                      0 = default  
                                                                                       1 = unsupported attribute  

                                  16                                                  "optional attribute" mask (attributes  
                                                                                      9-16), used with "1001" encoding:  

                                                                                      0 = default  
                                                                                       1 = unsupported attribute  

                                  17                                                  "attribute execution" mask (attributes  
                                                                                       1-8), used with "1001" encoding:  

                                                                                      0 = default  
                                                                                       1 = failed attribute  

                                  18                                                  "attribute execution" mask (attributes  
                                                                                      9-16), used with "1001" encoding:  

                                                                                      0 = default  
                                                                                       1 = failed attribute  

                                19-45      0     0    0     0    0     0    0    0    padding  

II.2.11  Get  
  

            Field                Byte       8    7     6    5    4     3    2    1                    Comments  

  Transaction identifier          6-7                                                   

 Message type                      8        0    1     0                              DB = 0, AR = 1, AK = 0  
                                                                                      bits 5-1: action = get  

 Device identifier type            9        0    0     0    0    1     0    1    0    OMCI = 0x0A  

 Message identifier             10-11                                                 entity class   

                                  12                                                  msb entity instance  

                                  13                                                  lsb entity instance  

 Message contents                 14                                                  msb attribute mask   

                                  15                                                  lsb attribute mask  

                                16-45      0     0    0     0    0     0    0    0    padding  

Based on the size of the message contents field, the aggregate size of the attributes requested by a  
single Get command should not exceed 25 bytes.   

84           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 91-----------------------

                                                                       

II.2.12  Get response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = get  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class  

                                    12                                                     msb entity instance  

                                    13                                                     lsb entity instance  

  Message contents                  14        0     0     0    0     x    x     x     x    result, reason  
                                                                                           0000 = command processed  
                                                                                                     successfully  
                                                                                           0001 = command processing error  
                                                                                           0010 = command not supported  
                                                                                           0011 = parameter error  
                                                                                           0100 = unknown managed entity  
                                                                                           0101 = unknown managed entity  
                                                                                                     instance  
                                                                                           0110 = device busy  

                                                                                           1001=  attribute(s) failed or  
                                                                                                     unknown  

                                    15                                                     msb attribute mask  

                                    16                                                     lsb attribute mask  

                                    17                                                     attribute value of first attribute  
                                                                                           included (size depending on the  
                                                                                           type of attribute)  

                                                                                           …  

                                                                                           attribute value of last attribute  
                                                                                           included (size depending on the  
                                                                                           type of attribute)  

                                  xx-41       0     0    0     0     0    0     0     0    padding  

                                    42                                                     "optional attribute" mask (attributes  
                                                                                           1-8), used with "1001" encoding:  

                                                                                           0 = default  
                                                                                           1 = unsupported attribute  

                                    43                                                     "optional attribute" mask (attributes  
                                                                                           9-16), used with "1001" encoding:  

                                                                                           0 = default  
                                                                                           1 = unsupported attribute  

                                    44                                                     "attribute execution" mask  
                                                                                           (attributes 1-8), used with "1001"  
                                                                                           encoding:  

                                                                                           0 = default  
                                                                                           1 = failed attribute  

                                                                                      ITU-T Rec. G.984.4 (06/2004)                     85  

----------------------- Page 92-----------------------

                                                                     

            Field                 Byte       8     7    6    5     4    3     2    1                   Comments  

                                   45                                                   "attribute execution" mask  
                                                                                        (attributes 9-16), used with "1001"  
                                                                                        encoding:  

                                                                                        0 = default  
                                                                                         1 = failed attribute  

Bytes  42  to  45  are  always  reserved  for  the  "optional  attribute"  and  "attribute  execution"  masks;  
however, the content of these bytes is only valid in conjunction with the "1001" encoding used to  
indicate failed or unknown attributes.  

When ONT should transfer an attribute whose size could be larger than one packet, ONT responds  
using four bytes to indicate the size of that attribute with an adequate attribute mask. OLT should  
use Get next message in order to get such attribute.  

II.2.13  Get Complete Connection  
  

            Field                 Byte       8     7    6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                    

  Message type                      8        0    1     0                               DB = 0, AR = 1, AK = 0  
                                                                                        bits 5-1: action = get complete  
                                                                                        connection  

  Device identifier type            9        0     0    0    0     1    0     1    0    OMCI = 0x0A  

  Message identifier             10-11                                                  Entity class   

                                   12                                                   msb entity instance  

                                   13                                                   lsb entity instance  

  Message contents               14-45       0     0    0    0     0    0     0    0    padding  

II.2.14  Get Complete Connection response  
  

            Field                 Byte       8     7    6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                    

  Message type                      8        0    0     1                               DB = 0, AR = 0, AK = 1  
                                                                                        bits 5-1: action = get complete  
                                                                                        connection  

  Device identifier type            9        0     0    0    0     1    0     1    0    OMCI = 0x0A  

  Message identifier             10-11                                                  entity class  

                                   12                                                   msb entity instance  

                                   13                                                   lsb entity instance  

  Message contents                 14        0    0     0    0     x    x     x    x    result, reason  
                                                                                        0000 = command processed  
                                                                                                  successfully  
                                                                                        0001 = command processing error  
                                                                                        0010 = command not supported  
                                                                                        0011 = parameter error  
                                                                                        0100 = unknown managed entity  
                                                                                        0101 = unknown managed entity  
                                                                                                  instance  
                                                                                        0110 = device busy   

86           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 93-----------------------

                                                                    

            Field                Byte       8     7    6     5    4     3    2     1                   Comments  

                                   15-16                                                ani VP Network CTP-G or VC  
                                                                                       Network CTP-G instance  

                                   17-18                                                uni VP Network CTP-G or VC  
                                                                                       Network CTP-G instance  

                                   19-20                                                PON TC Adapter-G pointer for  
                                                                                        ANI side  

                                   21-22                                                UNI-G/UNIB-PON pointer for UNI  
                                                                                        side  

                                   23-24                                                VPI for ANI side  

                                   25-26                                                VPI for UNI side  

                                   27-28                                                VCI of ANI side for VC  
                                                                                        cross-connection creation,  
                                                                                        otherwise 0x0000  

                                   29-30                                                VCI of UNI side for VC  
                                                                                        cross-connection creation,  
                                                                                        otherwise 0x0000  

                                   31       0     0    0     0    0     0    x     x    direction  
                                                                                        01 = uni-to-ani  
                                                                                        10 = ani-to-uni  
                                                                                        11 = bidirectional  

                                   32-33                                                Priority Queue pointer for  
                                                                                        Upstream in ANI side  

                                   34-35                                                Priority Queue pointer for  
                                                                                        Downstream in UNI side  

                                   36-37                                                Traffic Descriptor Profile pointer  
                                                                                        for ani VP Network CTP-G or VC  
                                                                                       Network CTP-G   

                                   38-39                                                Traffic Descriptor Profile pointer  
                                                                                        for uni VP Network CTP-G or VC  
                                                                                       Network CTP-G   

                                   40                                                   Administrative State for  
                                                                                        cross-connection  

                                   41-45    0     0    0     0    0     0    0     0    padding  

II.2.15  Get All Alarms  
  

            Field                Byte       8     7    6     5    4     3    2     1                   Comments  

  Transaction identifier          6-7                                                     

 Message type                       8       0     1    0                                DB = 0, AR = 1, AK = 0  
                                                                                        bits 5-1: action = get all alarms  

 Device identifier type             9       0     0    0     0    1     0    1     0    OMCI = 0x0A  

 Message identifier                10-11                                                entity class = ONT Data  

                                   12       0     0    0     0    0     0    0     0   msb entity instance  

                                   13       0     0    0     0    0     0    0     0   lsb entity instance  

 Message contents                  14-45    0     0     0    0    0     0    0     0    padding  

                                                                                   ITU-T Rec. G.984.4 (06/2004)                   87  

----------------------- Page 94-----------------------

                                                                     

II.2.16  Get All Alarms response  
  

            Field                 Byte       8     7     6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     0     1                               DB = 0, AR = 0, AK = 1  
                                                                                         bits 5-1: action = get all alarms  

 Device identifier type             9        0     0     0    0     1    0     1    0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = ONT Data  

                                    12       0     0     0    0     0    0     0    0    msb entity instance  

                                    13       0     0     0    0     0    0     0    0    lsb entity instance  

 Message contents                   14                                                   msb of the number of subsequent  
                                                                                         commands  

                                    15                                                   lsb of the number of subsequent  
                                                                                         commands  

                                 16-45       0     0     0    0     0    0     0    0    padding  

II.2.17  Get All Alarms Next   
  

            Field                 Byte       8     7     6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     1     0                               DB = 0, AR = 1, AK = 0  
                                                                                         bits 5-1: action = get all alarms next  

 Device identifier type             9        0     0     0    0     1    0     1    0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = ONT Data  

                                    12       0     0     0    0     0    0     0    0    msb entity instance  

                                    13       0     0     0    0     0    0     0    0    lsb entity instance  

 Message contents                   14                                                   msb of the command sequence  
                                                                                         number  

                                    15                                                   lsb of the command sequence  
                                                                                         number  

                                 16-45       0     0     0    0     0    0     0    0    padding  

The command sequence numbers shall start from 0x00 onwards.  

II.2.18  Get All Alarms Next response  
  

            Field                 Byte       8     7     6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     0     1                               DB = 0, AR = 0, AK = 1  
                                                                                         bits 5-1: action = get all alarms next  

 Device identifier type             9        0     0     0    0     1    0     1    0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = ONT Data  

                                    12       0     0     0    0     0    0     0    0    msb entity instance  

                                    13       0     0     0    0     0    0     0    0    lsb entity instance  

88           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 95-----------------------

                                                                    

            Field                Byte        8    7     6    5     4    3    2     1                   Comments  

 Message contents                14-15                                                  entity class on which the alarms are  
                                                                                        reported  

                                   16                                                  msb entity instance on which the  
                                                                                        alarms are reported   

                                   17                                                  lsb entity instance on which the  
                                                                                        alarms are reported   

                                 18-45      x     x    x     x    x     x    x     x   bitmap alarms  

The bitmap that is used in the Get All Alarms Next response for a given managed entity class is  
identical to the bitmap that is used in the alarm notifications for that managed entity class.  

In the case the ONT has received a Get All Alarms Next request message in which the command  
sequence number is out of range, the ONT should respond with a message in which bytes 14 to 45  
are all set to 0x00. This corresponds to a response with entity class 0x00, entity instance 0x0000,  
and bitmap all 0x00s.  

II.2.19  MIB Upload  
  

            Field                Byte        8    7     6    5     4    3    2     1                   Comments  

  Transaction identifier          6-7                                                     

 Message type                      8         0    1     0                               DB = 0, AR = 1, AK = 0  
                                                                                       bits 5-1: action = MIB upload  

 Device identifier type             9        0    0     0    0     1    0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                  entity class = ONT Data  

                                   12        0    0     0    0     0    0    0     0   msb entity instance  

                                   13        0    0     0    0     0    0    0     0   lsb entity instance  

 Message contents                14-45       0    0     0    0     0    0    0     0    padding  

II.2.20  MIB Upload Response  
  

            Field                Byte        8    7     6    5     4    3    2     1                   Comments  

  Transaction identifier          6-7                                                     

 Message type                      8         0    0     1                               DB = 0, AR = 0, AK = 1  
                                                                                       bits 5-1: action = MIB upload  

 Device identifier type             9        0    0     0    0     1    0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                  entity class = ONT Data  

                                   12        0    0     0    0     0    0    0     0   msb entity instance  

                                   13        0    0     0    0     0    0    0     0   lsb entity instance  

 Message contents                  14                                                   msb of the number of subsequent  
                                                                                        commands  

                                   15                                                  lsb of the number of subsequent  
                                                                                        commands  

                                 16-45       0    0     0    0     0    0    0     0   padding  

                                                                                   ITU-T Rec. G.984.4 (06/2004)                   89  

----------------------- Page 96-----------------------

                                                                       

II.2.21  MIB Upload Next  
  

            Field                  Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier            6-7                                                       

  Message type                       8         0     1    0                                DB = 0, AR = 1, AK = 0  
                                                                                           bits 5-1: action = MIB upload next  

  Device identifier type             9         0     0    0     0    1     0     1    0     OMCI = 0x0A  

  Message identifier              10-11                                                    entity class = ONT Data  

                                     12        0     0    0     0    0     0     0    0    msb entity instance  

                                     13        0     0    0     0    0     0     0    0    lsb entity instance  

  Message contents                   14                                                    msb of the command sequence  
                                                                                           number  

                                     15                                                    lsb of the command sequence  
                                                                                           number  

                                  16-45        0     0    0     0    0     0     0    0    padding  

The command sequence numbers shall start from 0x00 onwards.  

II.2.22  MIB Upload Next response  
  

            Field                  Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier            6-7                                                       

  Message type                       8         0     0    1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = MIB upload next  

  Device identifier type             9         0     0    0     0    1     0     1    0     OMCI = 0x0A  

  Message identifier              10-11                                                    entity class = ONT Data  

                                     12        0     0    0     0    0     0     0    0    msb entity instance  

                                     13        0     0    0     0    0     0     0    0    lsb entity instance  

  Message contents                14-15                                                    entity class of object  

                                     16                                                    msb entity instance of object  

                                     17                                                    lsb entity instance of object  

                                     18                                                    msb attribute mask  

                                     19                                                    lsb attribute mask  

                                     20                                                    value of first attribute (size  
                                                                                            depending on the type of the  
                                                                                            attribute)  

                                                                                           ...  

                                                                                           value of the last attribute (size  
                                                                                            depending on the type of the  
                                                                                            attribute)  

                                  xx-45        0     0    0     0    0     0     0    0    padding  
   

If the ONT receives a MIB Upload Next request message in which the command sequence number  
is out of range, it should respond with a message in which bytes 14 to 45 are all set to 0x00. This  
corresponds to a response with entity class 0x0000, entity instance 0x0000, attribute mask 0x0000,  
and padding from byte 20 to byte 45.  

90           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 97-----------------------

                                                                     

Note  that,  if  all  attributes  of  a  managed  entity  do  not  fit  within  one  MIB  Upload  Next  response  
message, the attributes will be split over several messages. The OLT can use the information in the  
attribute mask to determine which attribute values are reported in which MIB upload Next response  
message.  

II.2.23  MIB Reset  
  

            Field                 Byte       8     7    6     5    4     3    2     1                  Comments  

  Transaction identifier           6-7                                                    

  Message type                      8        0     1    0                               DB = 0, AR = 1, AK = 0  
                                                                                        bits 5-1: action = MIB reset  

  Device identifier type            9        0     0    0     0    1     0    1     0   OMCI = 0x0A  

  Message identifier             10-11                                                  entity class = ONT Data  

                                   12        0     0    0     0    0     0    0     0   msb entity instance  

                                   13        0     0    0     0    0     0    0     0   lsb entity instance  

  Message contents               14-45       0     0    0     0    0     0    0     0   padding  

II.2.24  MIB Reset response  
  

            Field                 Byte       8     7    6     5    4     3    2     1                  Comments  

  Transaction identifier           6-7                                                    

  Message type                      8        0     0    1                               DB = 0, AR = 0, AK = 1  
                                                                                        bits 5-1: action = MIB reset  

  Device identifier type            9        0     0    0     0    1     0    1     0   OMCI = 0x0A  

  Message identifier             10-11                                                  entity class = ONT Data  

                                   12        0     0    0     0    0     0    0     0   msb entity instance   

                                   13        0     0    0     0    0     0    0     0   lsb entity instance  

  Message contents                 14        0     0    0     0    x    x     x    x    result, reason  
                                                                                        0000 = command processed  
                                                                                                  successfully  
                                                                                        0001 = command processing error  
                                                                                        0010 = command not supported  
                                                                                        0011 = parameter error  
                                                                                        0100 = unknown managed entity  
                                                                                        0101 = unknown managed entity  
                                                                                                  instance  
                                                                                        0110 = device busy   

                                 15-45       0     0    0     0    0     0    0     0   padding  

II.2.25  Alarm  
  

            Field                 Byte       8     7    6     5    4     3    2     1                  Comments  

  Transaction identifier           6-7                                                    

  Message type                      8        0     0    0                               DB = 0, AR = 0, AK = 0  
                                                                                        bits 5-1: action = alarm  

  Device identifier type            9        0     0    0     0    1     0    1     0   OMCI = 0x0A  

                                                                                    ITU-T Rec. G.984.4 (06/2004)                   91  

----------------------- Page 98-----------------------

                                                                          

             Field                  Byte        8     7     6     5     4     3     2     1                    Comments  

  Message identifier               10-11                                                       entity class   

                                       12                                                      msb entity instance  

                                       13                                                      lsb entity instance   

  Message contents                     14                                                      alarm mask  

                                                                                               …  

                                       41                                                      alarm mask  

                                   42-44        0     0     0     0     0     0     0     0    padding  

                                       45                                                      alarm sequence number  

II.2.26  Attribute Value Change  
  

             Field                  Byte        8     7     6     5     4     3     2     1                    Comments  

  Transaction identifier             6-7                                                         

  Message type                         8        0     0     0                                  DB = 0, AR = 0, AK = 0  
                                                                                               bits 5-1: action = attribute value  
                                                                                               change  

  Device identifier type               9        0     0     0     0     1     0     1     0    OMCI = 0x0A  

  Message identifier               10-11                                                       entity class  

                                       12                                                      msb entity instance  

                                       13                                                      lsb entity instance   

  Message contents                     14                                                      msb attribute mask  

                                       15                                                      lsb attribute mask  

                                       16                                                      attribute value of first attribute  
                                                                                               changed (size depending on the  
                                                                                               type of attribute)  

                                                                                               ...  

                                                                                               attribute value of last attribute  
                                                                                               changed (size depending on the  
                                                                                               type of attribute)  

                                   xx-45        0     0     0     0     0     0     0     0    padding  

II.2.27  Test  
  

             Field                  Byte        8     7     6     5     4     3     2     1                    Comments  

  Transaction identifier             6-7                                                         

  Message type                         8        0     1     0                                  DB = 0, AR = 1, AK = 0  
                                                                                               bits 5-1: action = test  

  Device identifier type               9        0     0     0     0     1     0     1     0    OMCI = 0x0A  

  Message identifier               10-11                                                       entity class   

                                       12                                                      msb entity instance   

                                       13                                                      lsb entity instance  

92            ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 99-----------------------

                                                                     

            Field                Byte       8     7     6    5    4     3    2     1                   Comments  

  Message contents                 14       0     0     0    0    x     x    x     x    xxxx = select test  
                                                                                        0000 = all MLT tests  
                                                                                        0001 = hazardous potential  
                                                                                        0010 = foreign EMF  
                                                                                        0011 = resistive faults  
                                                                                        0100 = receiver off-hook  
                                                                                        0101 = ringer  
                                                                                        0110 = network termination 1 dc  
                                                                                                 signature test  
                                                                                        0111 = self test  

                                 15-45      0     0    0     0    0     0    0     0    padding  

Note that a single message can be used to initiate multiple tests (if desired). Additionally, the Test  
message can be modified to support future extensions by adding additional encodings to any byte  
that  are  reserved  as  Padding.  This  allows  new  tests  that  might  be  defined  in  the  future  to  be  
supported without changing the principle of operation.  

II.2.28  Test response  
  

            Field                Byte       8     7     6    5    4     3    2     1                   Comments  

  Transaction identifier          6-7                                                     

  Message type                      8       0     0     1                               DB = 0, AR = 0, AK = 1  
                                                                                        bits 5-1: action = test  

  Device identifier type            9       0     0     0    0    1     0    1     0    OMCI = 0x0A  

  Message identifier             10-11                                                  entity class   

                                   12                                                   msb entity instance   

                                   13                                                   lsb entity instance  

  Message contents                 14       0     0     0    0    x     x    x     x    result, reason  
                                                                                        0000 = command processed  
                                                                                                 successfully  
                                                                                        0001 = command processing error  
                                                                                        0010 = command not supported  
                                                                                        0011 = parameter error  
                                                                                        0100 = unknown managed entity  
                                                                                        0101 = unknown managed entity  
                                                                                                 instance  
                                                                                        0110 = device busy   

                                 xx-45      0     0    0     0    0     0    0     0    padding  

The Test response message is an indication to the OLT that the test request is received and is being  
processed.  

                                                                                   ITU-T Rec. G.984.4 (06/2004)                   93  

----------------------- Page 100-----------------------

                                                                     

II.2.29  Start Software Download  
  

            Field                 Byte       8     7    6     5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     1    0                                DB = 0, AR = 1, AK = 0  
                                                                                         bits 5-1: action = start software  
                                                                                         download  

 Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = software image  

                                   12                                                    msb entity instance  
                                                                                         0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0     0    0     0    0     0    x     x    lsb entity instance  
                                                                                         00 = first instance  
                                                                                         01 = second instance  

 Message contents                  14                                                    window size – 1  

                                 15-18                                                   image size in bytes  

                                 19-45       0     0    0     0    0     0    0     0    padding  

II.2.30  Start Software Download response  
  

            Field                 Byte       8     7    6     5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     0    1                                DB = 0, AR = 0, AK = 1  
                                                                                         bits 5-1: action = start software  
                                                                                         download  

 Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = software image  

                                   12                                                    msb entity instance  
                                                                                         0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0     0    0     0    0     0    x     x    lsb entity instance  
                                                                                         00 = first instance  
                                                                                         01 = second instance  

 Message contents                  14        0     0    0     0    x     x    x     x    result, reason  
                                                                                         0000 = command processed  
                                                                                                  successfully  
                                                                                         0001 = command processing error  
                                                                                         0010 = command not supported  
                                                                                         0011 = parameter error  
                                                                                         0100 = unknown managed entity  
                                                                                         0101 = unknown managed entity  
                                                                                                  instance  
                                                                                         0110 = device busy   

                                   15                                                    window size – 1  

                                 16-45       0     0    0     0    0     0    0     0    padding  

94           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 101-----------------------

                                                                       

II.2.31  Download Section  
  

            Field                 Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0     x    0                                DB = 0, AR = x, AK = 0  
                                                                                          x = 0: no response expected  
                                                                                          (section within the window)  
                                                                                          x = 1: response expected (last  
                                                                                          section of a window)  
                                                                                          bits 5-1: action = sw download  
                                                                                          section  

  Device identifier type             9        0     0    0     0    1     0     1    0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class = software image  

                                    12                                                    msb entity instance   
                                                                                          0 = ONT-G  
                                                                                           1, 2, ... , 127 = UNI card  
                                                                                           129, 130, ... , 255 = ANI card  

                                    13        0    0     0     0    0     0    x     x    lsb entity instance  
                                                                                          00 = first instance  
                                                                                          01 = second instance  

  Message contents                  14                                                    download section number  

                                  15-45                                                   data  

II.2.32  Download Section response   
  

            Field                 Byte        8     7    6     5    4     3     2    1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0     0    1                                DB = 0, AR = 0, AK = 1  
                                                                                          bits 5-1: action = sw download  
                                                                                          section  

  Device identifier type             9        0     0    0     0    1     0     1    0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class = software image  

                                    12                                                    msb entity instance  
                                                                                          0 = ONT-G  
                                                                                           1, 2, ... , 127 = UNI card  
                                                                                           129, 130, ... , 255 = ANI card  

                                    13        0    0     0     0    0     0    x     x    lsb entity instance  
                                                                                          00 = first instance  
                                                                                          01 = second instance  

                                                                                      ITU-T Rec. G.984.4 (06/2004)                    95  

----------------------- Page 102-----------------------

                                                                       

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Message contents                  14        0     0     0    0     x    x     x     x    result, reason  
                                                                                           0000 = command processed  
                                                                                                     successfully  
                                                                                           0001 = command processing error  
                                                                                           0010 = command not supported  
                                                                                           0011 = parameter error  
                                                                                           0100 = unknown managed entity  
                                                                                           0101 = unknown managed entity  
                                                                                                     instance  
                                                                                           0110 = device busy   

                                    15                                                     download section number  

                                  16-45       0     0     0    0     0    0     0     0    padding  

II.2.33  End Software Download  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     1     0                                DB = 0, AR = 1, AK = 0  
                                                                                           bits 5-1: action = end software  
                                                                                           download  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class = software image  

                                    12                                                     msb entity instance   
                                                                                           0 = ONT-G  
                                                                                           1, 2, ... , 127 = UNI card  
                                                                                           129, 130, ... , 255 = ANI card  

                                    13        0     0     0    0     0    0     x     x    lsb entity instance  
                                                                                           00 = first instance  
                                                                                           01 = second instance  

  Message contents                14-17                                                    CRC-32  

                                  18-21                                                    image size in bytes  

                                  22-45       0     0     0    0     0    0     0     0    padding  

II.2.34  End Software Download response   
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = end software  
                                                                                           download  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

96           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 103-----------------------

                                                                     

            Field                 Byte       8    7     6    5     4    3     2    1                   Comments  

 Message identifier              10-11                                                  entity class = software image  

                                   12                                                   msb entity instance  
                                                                                        0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0    0     0    0     0    0     x    x    lsb entity instance  
                                                                                        00 = first instance  
                                                                                        01 = second instance  

 Message contents                  14        0    0     0    0     x    x     x    x    result, reason  
                                                                                        0000 = command processed  
                                                                                                  successfully (CRC correct)  
                                                                                        0001 = command processing error  
                                                                                                  (CRC incorrect)  
                                                                                        0010 = command not supported  
                                                                                                  (not applicable)  
                                                                                        0011 = parameter error (not  
                                                                                                  applicable)  
                                                                                        0100 = unknown managed entity  
                                                                                        0101 = unknown managed entity  
                                                                                                  instance  
                                                                                        0110 = device busy   

                                 15-45       0    0     0    0     0    0     0    0    padding  

II.2.35  Activate Image  
  

            Field                 Byte       8    7     6    5     4    3     2    1                   Comments  

  Transaction identifier           6-7                                                    

 Message type                       8        0    1     0                               DB = 0, AR = 1, AK = 0  
                                                                                        bits 5-1: action = activate image  

 Device identifier type             9        0    0     0    0     1    0     1    0    OMCI = 0x0A  

 Message identifier              10-11                                                  entity class = software image  

                                   12                                                   msb entity instance   
                                                                                        0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0    0     0    0     0    0     x    x    lsb entity instance  
                                                                                        00 = first instance  
                                                                                        01 = second instance  

 Message contents                14-45       0    0     0    0     0    0     0    0    padding  

                                                                                    ITU-T Rec. G.984.4 (06/2004)                   97  

----------------------- Page 104-----------------------

                                                                     

II.2.36  Activate Image response  
  

            Field                 Byte       8     7     6    5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     0     1                               DB = 0, AR = 0, AK = 1  
                                                                                         bits 5-1: action = activate image  

 Device identifier type             9        0     0     0    0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = software image  

                                   12                                                    msb entity instance   
                                                                                         0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0     0     0    0    0     0    x     x    lsb entity instance  
                                                                                         00 = first instance  
                                                                                         01 = second instance  

 Message contents                  14        0     0     0    0    x     x    x     x    result, reason  
                                                                                         0000 = command processed  
                                                                                                  successfully  
                                                                                         0001 = command processing error  
                                                                                         0010 = command not supported  
                                                                                         0011 = parameter error  
                                                                                         0100 = unknown managed entity  
                                                                                         0101 = unknown managed entity  
                                                                                                  instance  
                                                                                         0110 = device busy   

                                 15-45       0     0     0    0    0     0    0     0    padding  

II.2.37  Commit Image  
  

            Field                 Byte       8     7     6    5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     1     0                               DB = 0, AR = 1, AK = 0  
                                                                                         bits 5-1: action = commit image   

 Device identifier type             9        0     0     0    0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = software image  

                                   12                                                    msb entity instance   
                                                                                         0 = ONT-G  
                                                                                         1, 2, ... , 127 = UNI card  
                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0     0     0    0    0     0    x     x    lsb entity instance  
                                                                                         00 = first instance  
                                                                                         01 = second instance  

 Message contents                14-45       0     0     0    0    0     0    0     0    padding  

98           ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 105-----------------------

                                                                      

II.2.38  Commit Image response   
  

            Field                 Byte       8     7     6    5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     0     1                               DB = 0, AR = 0, AK = 1  
                                                                                         bits 5-1: action = commit image  

 Device identifier type             9        0     0     0    0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class = software image  

                                   12                                                    msb entity instance   
                                                                                         0 = ONT-G  

                                                                                         1, 2, ... , 127 = UNI card  

                                                                                         129, 130, ... , 255 = ANI card  

                                   13        0     0     0    0    0     0    x     x    lsb entity instance  
                                                                                         00 = first instance  
                                                                                         01 = second instance  

 Message contents                  14        0     0     0    0    x     x    x     x    result, reason  
                                                                                         0000 = command processed  
                                                                                                  successfully  
                                                                                         0001 = command processing error  
                                                                                         0010 = command not supported  
                                                                                         0011 = parameter error  
                                                                                         0100 = unknown managed entity  
                                                                                         0101 = unknown managed entity  
                                                                                                  instance  
                                                                                         0110 = device busy   

                                 15-45       0     0     0    0    0     0    0     0    padding  

II.2.39  Synchronize Time   
  

            Field                 Byte       8     7     6    5    4     3    2     1                   Comments  

  Transaction identifier           6-7                                                     

 Message type                       8        0     1     0                               DB = 0, AR = 1, AK = 0  
                                                                                         bits 5-1: action = synchronize time  

 Device identifier type             9        0     0     0    0    1     0    1     0    OMCI = 0x0A  

 Message identifier              10-11                                                   entity class   

                                   12                                                    msb entity instance   

                                   13                                                    lsb entity instance  

 Message contents                14-45       0     0     0    0    0     0    0     0    padding  

                                                                                    ITU-T Rec. G.984.4 (06/2004)                    99  

----------------------- Page 106-----------------------

                                                                       

II.2.40  Synchronize Time response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           Bits 5-1: action = synchronize time  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance  

                                    13                                                     lsb entity instance  

  Message contents                  14                                                     Result, reason  
                                                                                           0000 = command processed  
                                                                                                     successfully  
                                                                                           0001 = command processing error  
                                                                                           0010 = command not supported  
                                                                                           0011 = parameter error  
                                                                                           0100 = unknown managed entity  
                                                                                           0101 = unknown managed entity  
                                                                                                     instance  
                                                                                           0110 = device busy   

                                  15-45       0     0     0    0     0    0     0     0    padding  

II.2.41  Reboot  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     1     0                                DB = 0, AR = 1, AK = 0  
                                                                                           bits 5-1: action = reboot  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance   

                                    13                                                     lsb entity instance  

  Message contents                14-45       0     0     0    0     0    0     0     0    padding  

II.2.42  Reboot response  
  

            Field                  Byte       8     7     6    5     4    3     2     1                   Comments  

  Transaction identifier            6-7                                                      

  Message type                       8        0     0     1                                DB = 0, AR = 0, AK = 1  
                                                                                           bits 5-1: action = reboot  

  Device identifier type             9        0     0     0    0     1    0     1     0    OMCI = 0x0A  

  Message identifier              10-11                                                    entity class   

                                    12                                                     msb entity instance  

                                    13                                                     lsb entity instance  

100          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 107-----------------------

                                                                      

            Field                 Byte        8     7    6     5    4     3    2     1                    Comments  

  Message contents                  14                                                    result, reason  
                                                                                          0000 = command processed  
                                                                                                    successfully  
                                                                                          0001 = command processing error  
                                                                                          0010 = command not supported  
                                                                                          0011 = parameter error  
                                                                                          0100 = unknown managed entity  
                                                                                          0101 = unknown managed entity  
                                                                                                    instance  
                                                                                          0110 = device busy   

                                  15-45                                                   padding  

II.2.43  Get next  
  

            Field                 Byte        8     7    6     5    4     3    2     1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0    1     0                                DB = 0, AR = 1, AK = 0  
                                                                                          bits 5-1: action = get next  

  Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class  

                                    12                                                    msb entity instance  

                                    13                                                    lsb entity instance  

  Message contents                  14                                                    msb attribute mask  

                                    15                                                    lsb attribute mask  

                                    16                                                    msb of the command sequence  
                                                                                          number  

                                    17                                                    lsb of the command sequence  
                                                                                          number  

                                  18-45       0    0     0     0    0     0    0     0    padding  

The command sequence numbers shall start from 0x00 onwards.  

II.2.44  Get next response  
  

            Field                 Byte        8     7    6     5    4     3    2     1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0    0     1                                DB = 0, AR = 0, AK =1  
                                                                                          bits 5-1: action = get next  

  Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class  

                                    12                                                    msb entity instance  

                                    13                                                    lsb entity instance  

                                                                                     ITU-T Rec. G.984.4 (06/2004)                    101  

----------------------- Page 108-----------------------

                                                                      

            Field                 Byte        8     7    6     5    4     3    2     1                    Comments  

  Message contents                  14        0     0    0     0    x     x    x     x    result, reason  
                                                                                          0000 = command processed  
                                                                                                    successfully  
                                                                                          0001 = command processing error  
                                                                                          0010 = command not supported  
                                                                                          0011 = parameter error  
                                                                                          0100 = unknown managed entity  
                                                                                          0101 = unknown managed entity  
                                                                                                    instance  
                                                                                          0110 = device busy  

                                    15                                                    msb attribute mask  

                                    16                                                    lsb attribute mask  

                                    17                                                    attribute value (size depending on  
                                                                                          the type of attribute)  

                                                                                          …  

                                                                                            

                                  xx-45       0    0     0     0    0     0    0     0    padding  

If the ONT receives a "Get next request" message in which the command sequence number is out of  
range, the ONT shall respond with parameter error.  

II.2.45  Test result  

The "Test result" message is used to report the result of a test. Currently, it is used to report the  
result  of  a  self  test  or  the  result  of  an  MLT  test.  If  a  new  test  is  defined  in  the  future,  the  
corresponding test results can be reported by the "Test result" message by extending the layout. The  
transaction identifier of the "Test result" message is identical to the transaction identifier of the Test  
message that initiated the corresponding test.  

The first byte of message contents is used to report an MLT test result. The result is limited to the  
two values of "test passed" or "test failed".  

The second byte of message contents is used to report the result of a self test. Three different results  
can be reported: "test passed", "test failed" and "test not completed".  
  

            Field                 Byte        8     7    6     5    4     3    2     1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                       8        0     0    0                                DB = 0, AR = 0, AK =0  
                                                                                          bits 5-1: action = test result  

  Device identifier type             9        0     0    0     0    1     0    1     0    OMCI = 0x0A  

  Message identifier              10-11                                                   entity class   

                                    12                                                    msb entity instance   

                                    13                                                    lsb entity instance  

102          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 109-----------------------

                                                                       

            Field                  Byte       8     7     6     5    4     3     2    1                    Comments  

  Message contents                  14        0     0     a     b    c     d     e    f    MLT test result:  

                                                                                           0 = fail test a/b/c/d/e/f  
                                                                                            1 = pass test a/b/c/d/e/f  
                                                                                           a= hazardous potential  
                                                                                           b = foreign EMF  
                                                                                           c = resistive faults  
                                                                                           d = receiver off-hook  
                                                                                           e = ringer  
                                                                                           f = network termination 1 dc  
                                                                                           signature test  

                                    15        0     0     0    0     0     0    x     x    self test result:  

                                                                                           xx = 00: failed  
                                                                                           xx = 01: passed  
                                                                                           xx = 10: not completed  

                                  16-45       0     0     0    0     0     0    0     0    padding  

II.2.46  Get current data  
  

            Field                 Byte       8     7    6     5    4     3     2    1                     Comments  

  Transaction identifier           6-7                                                     

  Message type                      8        0     1    0                                DB = 0, AR = 1, AK = 0  
                                                                                         bits 5-1: action = get current data  

  Device identifier                 9        0     0    0     0    1     0     1    0    OMCI = 0x0A  
  type  

  Message identifier             10-11                                                   entity class   

                                   12                                                    msb entity instance  

                                   13                                                    lsb entity instance  

  Message contents                 14                                                    msb attribute mask   

                                   15                                                    lsb attribute mask  

                                 16-45       0     0    0     0    0     0    0     0    padding  

Based on the size of the message contents field, the aggregate size of the attributes requested by a  
single Get current data command should not exceed 25 bytes.  

II.2.47  Get current data response  
  

            Field                 Byte       8    7     6     5    4     3     2     1                    Comments  

  Transaction identifier           6-7                                                      

  Message type                      8        0    0     1                                 DB = 0, AR = 0, AK = 1  
                                                                                          bits 5-1: action = get current data  

  Device identifier type            9        0    0     0     0    1     0     1     0    OMCI = 0x0A  

  Message identifier             10-11                                                    entity class   

                                   12                                                     msb entity instance  

                                   13                                                     lsb entity instance  

                                                                                       ITU-T Rec. G.984.4 (06/2004)                   103  

----------------------- Page 110-----------------------

                                                                     

            Field                Byte      8     7    6     5    4     3    2     1                    Comments  

  Message contents                14       0     0    0     0    x     x    x     x    result, reason  
                                                                                       0000 = command processed  
                                                                                                successfully  
                                                                                       0001 = command processing error  
                                                                                       0010 = command not supported  
                                                                                       0011 = parameter error  
                                                                                       0100 = unknown managed entity  
                                                                                       0101 = unknown managed entity  
                                                                                                instance  
                                                                                       0110 = device busy   
                                                                                       1001 = attribute(s) failed or  
                                                                                                unknown  

                                  15                                                   msb attribute mask  

                                  16                                                   lsb attribute mask  

                                  17                                                   attribute value of first attribute  
                                                                                       included (size depending on the type  
                                                                                       of attribute)  

                                                                                       …  

                                                                                       attribute value of last attribute  
                                                                                       included (size depending on the type  
                                                                                       of attribute)  

                                xx-41      0     0    0     0    0     0    0     0    padding  

                                  42                                                   "optional attribute" mask (attributes  
                                                                                       1-8), used with "1001" encoding:  

                                                                                       0 = default  
                                                                                       1 = unsupported attribute  

                                  43                                                   "optional attribute" mask (attributes  
                                                                                       9-16), used with "1001" encoding:  

                                                                                       0 = default  
                                                                                       1 = unsupported attribute  

                                  44                                                   "attribute execution" mask (attributes  
                                                                                       1-8), used with "1001" encoding:  

                                                                                       0 = default  
                                                                                       1 = failed attribute  

                                  45                                                   "attribute execution" mask (attributes  
                                                                                       9-16), used with "1001" encoding:  

                                                                                       0 = default  
                                                                                       1 = failed attribute  

Bytes  42  to  45  are  always  reserved  for  the  "optional  attribute"  and  "attribute  execution"  masks;  
however, the content of these bytes is only valid in conjunction with the "1001" encoding used to  
indicate failed or unknown attributes.  

When ONT should transfer an attribute whose size could be larger than one packet, ONT responds  
using four bytes to indicate the size of that attribute with an adequate attribute mask. OLT should  
use Get next message in order to get such attribute.  

104          ITU-T Rec. G.984.4 (06/2004)  

----------------------- Page 111-----------------------

                                                                   

                                                  BIBLIOGRAPHY  

[af-nm-0020.001]           ATM Forum af-nm-0020.001 (1998), M4 Interface Requirements and Logical  
                           MIB: ATM Network Element View .  

                                                                                  ITU-T Rec. G.984.4 (06/2004)                  105  

----------------------- Page 112-----------------------


----------------------- Page 113-----------------------

                                                                               

                                                                               

----------------------- Page 114-----------------------

                                                                  

                            SERIES OF ITU-T RECOMMENDATIONS  

Series A        Organization of the work of ITU-T  

Series B        Means of expression: definitions, symbols, classification  

Series C        General telecommunication statistics  

Series D        General tariff principles  

Series E        Overall network operation, telephone service, service operation and human factors  

Series F        Non-telephone telecommunication services  

Series G        Transmission systems and media, digital systems and networks  

Series H        Audiovisual and multimedia systems  

Series I        Integrated services digital network  

Series J        Cable networks and transmission of television, sound programme and other multimedia signals  

Series K        Protection against interference  

Series L        Construction, installation and protection of cables and other elements of outside plant  

Series M        TMN and network maintenance: international transmission systems, telephone circuits,  
                telegraphy, facsimile and leased circuits  

Series N        Maintenance: international sound programme and television transmission circuits  

Series O        Specifications of measuring equipment  

Series P        Telephone transmission quality, telephone installations, local line networks  

Series Q        Switching and signalling  

Series R        Telegraph transmission  

Series S        Telegraph services terminal equipment  

Series T        Terminals for telematic services  

Series U        Telegraph switching  

Series V        Data communication over the telephone network  

Series X        Data networks and open system communications  

Series Y        Global information infrastructure, Internet protocol aspects and Next Generation Networks  

Series Z        Languages and general software aspects for telecommunication systems  

                  

                                                                                                                                   

                                                                                                     Printed in Switzerland  
                                                                                                               Geneva, 2004  
